/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/index.ts");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/excalibur/dist/excalibur.min.js":
/*!******************************************************!*\
  !*** ./node_modules/excalibur/dist/excalibur.min.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/*!
 * excalibur - 0.23.0 - 2019-6-8
 * https://github.com/excaliburjs/Excalibur
 * Copyright (c) 2019 Excalibur.js <https://github.com/excaliburjs/Excalibur/graphs/contributors>
 * Licensed BSD-2-Clause
 * @preserve
 */
!function(t,e){ true?module.exports=e():undefined}(window,function(){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=5)}([function(t,e){},function(t,e){t.exports="data:image/png;base64,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"},function(t,e,i){var n=i(3);t.exports="string"==typeof n?n:n.toString()},function(t,e,i){(t.exports=i(4)(!1)).push([t.i,"/* Buttons styles start */\n\nbutton#excalibur-play {\n  display: inline-block;\n  position: relative;\n  z-index: 999;\n  border-radius: 6px;\n  border: none;\n  /*border: 3px solid;\n    border-color: white;\n    box-shadow: 0 0 10px #ccc;*/\n  padding: 1rem 1.5rem 1rem 4rem;\n  margin: 0;\n  text-decoration: none;\n  background: #00b233;\n  color: #ffffff;\n  font-family: sans-serif;\n  font-size: 2rem;\n  line-height: 1;\n  cursor: pointer;\n  text-align: center;\n  transition: background 250ms ease-in-out, transform 150ms ease;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n\n  -webkit-animation: excalibur-button-fadein 200ms; /* Safari, Chrome and Opera > 12.1 */\n  -moz-animation: excalibur-button-fadein 200ms; /* Firefox < 16 */\n  -ms-animation: excalibur-button-fadein 200ms; /* Internet Explorer */\n  -o-animation: excalibur-button-fadein 200ms; /* Opera < 12.1 */\n  animation: excalibur-button-fadein 200ms;\n}\n\n/*\nbutton#excalibur-play {\n  display: none;\n}*/\n\nbutton#excalibur-play:after {\n  position: absolute;\n  content: '';\n  border: 8px solid;\n  border-color: transparent transparent transparent white;\n  left: 35px;\n  top: 24px;\n  width: 0;\n  height: 0;\n}\n\nbutton#excalibur-play:before {\n  position: absolute;\n  content: '';\n  border: 3px solid;\n  left: 19px;\n  top: 14px;\n  border-radius: 20px;\n  width: 30px;\n  height: 30px;\n}\n\nbutton#excalibur-play:hover,\nbutton#excalibur-play:focus {\n  background: #00982c;\n}\n\nbutton#excalibur-play:focus {\n  outline: 1px solid #fff;\n  outline-offset: -4px;\n}\n\nbutton#excalibur-play:active {\n  transform: scale(0.99);\n}\n\n@keyframes excalibur-button-fadein {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n/* Firefox < 16 */\n@-moz-keyframes excalibur-button-fadein {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n/* Safari, Chrome and Opera > 12.1 */\n@-webkit-keyframes excalibur-button-fadein {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n/* Internet Explorer */\n@-ms-keyframes excalibur-button-fadein {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n/* Opera < 12.1 */\n@-o-keyframes excalibur-button-fadein {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n",""])},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var i=function(t,e){var i=t[1]||"",n=t[3];if(!n)return i;if(e&&"function"==typeof btoa){var o=(s=n,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),r=n.sources.map(function(t){return"/*# sourceURL="+n.sourceRoot+t+" */"});return[i].concat(r).concat([o]).join("\n")}var s;return[i].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+i+"}":i}).join("")},e.i=function(t,i){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},o=0;o<this.length;o++){var r=this[o][0];"number"==typeof r&&(n[r]=!0)}for(o=0;o<t.length;o++){var s=t[o];"number"==typeof s[0]&&n[s[0]]||(i&&!s[2]?s[2]=i:i&&(s[2]="("+s[2]+") and ("+i+")"),e.push(s))}},e}},function(t,e,i){"use strict";i.r(e);var n={};i.r(n),i.d(n,"EventTypes",function(){return R}),i.d(n,"GameEvent",function(){return q}),i.d(n,"KillEvent",function(){return G}),i.d(n,"PreKillEvent",function(){return V}),i.d(n,"PostKillEvent",function(){return X}),i.d(n,"GameStartEvent",function(){return K}),i.d(n,"GameStopEvent",function(){return Y}),i.d(n,"PreDrawEvent",function(){return Z}),i.d(n,"PostDrawEvent",function(){return Q}),i.d(n,"PreDebugDrawEvent",function(){return J}),i.d(n,"PostDebugDrawEvent",function(){return $}),i.d(n,"PreUpdateEvent",function(){return tt}),i.d(n,"PostUpdateEvent",function(){return et}),i.d(n,"PreFrameEvent",function(){return it}),i.d(n,"PostFrameEvent",function(){return nt}),i.d(n,"GamepadConnectEvent",function(){return ot}),i.d(n,"GamepadDisconnectEvent",function(){return rt}),i.d(n,"GamepadButtonEvent",function(){return st}),i.d(n,"GamepadAxisEvent",function(){return at}),i.d(n,"SubscribeEvent",function(){return ht}),i.d(n,"UnsubscribeEvent",function(){return ct}),i.d(n,"VisibleEvent",function(){return ut}),i.d(n,"HiddenEvent",function(){return lt}),i.d(n,"PreCollisionEvent",function(){return pt}),i.d(n,"PostCollisionEvent",function(){return dt}),i.d(n,"CollisionStartEvent",function(){return ft}),i.d(n,"CollisionEndEvent",function(){return gt}),i.d(n,"InitializeEvent",function(){return yt}),i.d(n,"ActivateEvent",function(){return _t}),i.d(n,"DeactivateEvent",function(){return vt}),i.d(n,"ExitViewPortEvent",function(){return mt}),i.d(n,"EnterViewPortEvent",function(){return bt}),i.d(n,"EnterTriggerEvent",function(){return wt}),i.d(n,"ExitTriggerEvent",function(){return xt});var o={};i.r(o),i.d(o,"Grayscale",function(){return Jt}),i.d(o,"Invert",function(){return $t}),i.d(o,"Opacity",function(){return te}),i.d(o,"Colorize",function(){return ee}),i.d(o,"Lighten",function(){return ie}),i.d(o,"Darken",function(){return ne}),i.d(o,"Saturate",function(){return oe}),i.d(o,"Desaturate",function(){return re}),i.d(o,"Fill",function(){return se});var r={};i.r(r),i.d(r,"EaseTo",function(){return ge}),i.d(r,"MoveTo",function(){return ye}),i.d(r,"MoveBy",function(){return _e}),i.d(r,"Follow",function(){return ve}),i.d(r,"Meet",function(){return me}),i.d(r,"RotateTo",function(){return be}),i.d(r,"RotateBy",function(){return we}),i.d(r,"ScaleTo",function(){return xe}),i.d(r,"ScaleBy",function(){return Pe}),i.d(r,"Delay",function(){return Se}),i.d(r,"Blink",function(){return Ae}),i.d(r,"Fade",function(){return Ee}),i.d(r,"Die",function(){return Ce}),i.d(r,"CallMethod",function(){return Te}),i.d(r,"Repeat",function(){return Me}),i.d(r,"RepeatForever",function(){return Oe}),i.d(r,"ActionQueue",function(){return Be});var s={};i.r(s),i.d(s,"line",function(){return ze}),i.d(s,"point",function(){return Ue}),i.d(s,"vector",function(){return Ne}),i.d(s,"roundRect",function(){return qe}),i.d(s,"circle",function(){return Ge});var a={};i.r(a),i.d(a,"Gamepads",function(){return Sn}),i.d(a,"Gamepad",function(){return An}),i.d(a,"Buttons",function(){return mn}),i.d(a,"Axes",function(){return bn}),i.d(a,"PointerType",function(){return $i}),i.d(a,"NativePointerButton",function(){return tn}),i.d(a,"PointerButton",function(){return en}),i.d(a,"WheelDeltaMode",function(){return nn}),i.d(a,"PointerScope",function(){return on}),i.d(a,"PointerEvent",function(){return hn}),i.d(a,"PointerEventFactory",function(){return cn}),i.d(a,"PointerDragEvent",function(){return un}),i.d(a,"PointerUpEvent",function(){return ln}),i.d(a,"PointerDownEvent",function(){return pn}),i.d(a,"PointerMoveEvent",function(){return dn}),i.d(a,"PointerEnterEvent",function(){return fn}),i.d(a,"PointerLeaveEvent",function(){return gn}),i.d(a,"PointerCancelEvent",function(){return yn}),i.d(a,"WheelEvent",function(){return _n}),i.d(a,"Pointers",function(){return wn}),i.d(a,"Pointer",function(){return xn}),i.d(a,"Keys",function(){return Gi}),i.d(a,"KeyEvent",function(){return rn}),i.d(a,"Keyboard",function(){return sn});var h={};i.r(h),i.d(h,"CapturePointer",function(){return He}),i.d(h,"OffscreenCulling",function(){return We}),i.d(h,"TileMapCollisionDetection",function(){return Le});var c,u={};function l(){"undefined"==typeof window&&(window={audioContext:function(){}}),"undefined"==typeof window||window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setInterval(t,1e3/60)}),"undefined"==typeof window||window.cancelAnimationFrame||(window.cancelAnimationFrame=window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(){}),"undefined"==typeof window||window.AudioContext||(window.AudioContext=window.AudioContext||window.webkitAudioContext||window.mozAudioContext||window.msAudioContext||window.oAudioContext),"undefined"==typeof window||window.devicePixelRatio||(window.devicePixelRatio=window.devicePixelRatio||1),Array.prototype.forEach||(Array.prototype.forEach=function(t,e){var i,n;if(null==this)throw new TypeError("this is null or not defined");var o=Object(this),r=o.length>>>0;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(arguments.length>1&&(i=e),n=0;n<r;){var s=void 0;n in o&&(s=o[n],t.call(i,s,n,o)),n++}}),Array.prototype.some||(Array.prototype.some=function(t){if(null==this)throw new TypeError;var e=Object(this),i=e.length>>>0;if("function"!=typeof t)throw new TypeError;for(var n=arguments.length>=2?arguments[1]:void 0,o=0;o<i;o++)if(o in e&&t.call(n,e[o],o,e))return!0;return!1}),Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),i=this,n=function(){},o=function(){return i.apply(this instanceof n&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return n.prototype=this.prototype,o.prototype=new n,o})}i.r(u),i.d(u,"DrawUtil",function(){return s}),i.d(u,"TwoPI",function(){return g}),i.d(u,"extend",function(){return y}),i.d(u,"base64Encode",function(){return _}),i.d(u,"clamp",function(){return v}),i.d(u,"randomInRange",function(){return m}),i.d(u,"randomIntInRange",function(){return b}),i.d(u,"canonicalizeAngle",function(){return w}),i.d(u,"toDegrees",function(){return x}),i.d(u,"toRadians",function(){return P}),i.d(u,"getPosition",function(){return S}),i.d(u,"addItemToArray",function(){return A}),i.d(u,"removeItemFromArray",function(){return E}),i.d(u,"contains",function(){return C}),i.d(u,"getOppositeSide",function(){return T}),i.d(u,"getSideFromVector",function(){return M}),i.d(u,"getSideFromDirection",function(){return O}),i.d(u,"Collection",function(){return B}),i.d(u,"fail",function(){return D}),function(t){t[t.Resolved=0]="Resolved",t[t.Rejected=1]="Rejected",t[t.Pending=2]="Pending"}(c||(c={}));var p,d=function(){function t(){this._state=c.Pending,this._successCallbacks=[],this._rejectCallback=function(){}}return t.resolve=function(e){return(new t).resolve(e)},t.reject=function(e){return(new t).reject(e)},t.join=function(){var e=[];if(arguments.length>0&&!Array.isArray(arguments[0]))for(var i=0;i<arguments.length;i++)e[i-0]=arguments[i];else 1===arguments.length&&Array.isArray(arguments[0])&&(e=arguments[0]);var n=new t;if(!e||!e.length)return n.resolve();var o=e.length,r=0,s=0,a=[];return e.forEach(function(t){t.then(function(){(r+=1)===o?n.resolve():r+s+a.length===o&&n.reject(a)},function(){r+(s+=1)+a.length===o&&n.reject(a)}).error(function(t){a.push(t),a.length+r+s===o&&n.reject(a)})}),n},t.prototype.then=function(t,e){if(t&&(this._successCallbacks.push(t),this.state()===c.Resolved))try{t.call(this,this._value)}catch(t){this._handleError(t)}if(e&&(this._rejectCallback=e,this.state()===c.Rejected))try{e.call(this,this._value)}catch(t){this._handleError(t)}return this},t.prototype.error=function(t){return t&&(this._errorCallback=t),this},t.prototype.resolve=function(t){var e=this;if(this._state!==c.Pending)throw new Error("Cannot resolve a promise that is not in a pending state!");this._value=t;try{this._state=c.Resolved,this._successCallbacks.forEach(function(t){t.call(e,e._value)})}catch(t){this._handleError(t)}return this},t.prototype.reject=function(t){if(this._state!==c.Pending)throw new Error("Cannot reject a promise that is not in a pending state!");this._value=t;try{this._state=c.Rejected,this._rejectCallback.call(this,this._value)}catch(t){this._handleError(t)}return this},t.prototype.state=function(){return this._state},t.prototype._handleError=function(t){if(!this._errorCallback)throw t;this._errorCallback.call(this,t)},t}(),f=function(){function t(t){this.seed=t,this._lowerMask=2147483647,this._upperMask=2147483648,this._w=32,this._n=624,this._m=397,this._a=2567483615,this._u=11,this._s=7,this._b=2636928640,this._t=15,this._c=4022730752,this._l=18,this._f=1812433253,this._mt=new Array(this._n),this._mt[0]=(t||Date.now())>>>0;for(var e=1;e<this._n;e++){var i=this._mt[e-1]^this._mt[e-1]>>>this._w-2;this._mt[e]=(this._f*((4294901760&i)>>>16)<<16)+this._f*(65535&i)+e>>>0}this._index=this._n}return t.prototype._twist=function(){for(var t=[0,this._a],e=0,i=0;i<this._n-this._m;i++)e=this._mt[i]&this._upperMask|this._mt[i+1]&this._lowerMask,this._mt[i]=this._mt[i+this._m]^e>>>1^4294967295&t[1&e];for(;i<this._n-1;i++)e=this._mt[i]&this._upperMask|this._mt[i+1]&this._lowerMask,this._mt[i]=this._mt[i+(this._m-this._n)]^e>>>1^4294967295&t[1&e];e=this._mt[this._n-1]&this._upperMask|this._mt[0]&this._lowerMask,this._mt[this._n-1]=this._mt[this._m-1]^e>>>1^4294967295&t[1&e],this._index=0},t.prototype.nextInt=function(){this._index>=this._n&&this._twist();var t=this._mt[this._index++];return t^=t>>>this._u,t^=t<<this._s&this._b,t^=t<<this._t&this._c,(t^=t>>>this._l)>>>0},t.prototype.next=function(){return this.nextInt()*(1/4294967296)},t.prototype.floating=function(t,e){return(e-t)*this.next()+t},t.prototype.integer=function(t,e){return Math.floor((e-t+1)*this.next()+t)},t.prototype.bool=function(t){return void 0===t&&(t=.5),this.next()<=t},t.prototype.pickOne=function(t){return t[this.integer(0,t.length-1)]},t.prototype.pickSet=function(t,e,i){return void 0===i&&(i=!1),i?this._pickSetWithDuplicates(t,e):this._pickSetWithoutDuplicates(t,e)},t.prototype._pickSetWithoutDuplicates=function(t,e){if(e>t.length||e<0)throw new Error("Invalid number of elements to pick, must pick a value 0 < n <= length");if(e===t.length)return t;for(var i=new Array(e),n=0,o=t.slice(0);n<e;){var r=this.integer(0,o.length-1);i[n++]=o[r],o.splice(r,1)}return i},t.prototype._pickSetWithDuplicates=function(t,e){if(e<0)throw new Error("Invalid number of elements to pick, must pick a value 0 <= n < MAX_INT");for(var i=new Array(e),n=0;n<e;n++)i[n]=this.pickOne(t);return i},t.prototype.shuffle=function(t){for(var e=t.slice(0),i=null,n=0;n<e.length-2;n++){var o=this.integer(n,e.length-1);i=e[n],e[n]=e[o],e[o]=i}return e},t.prototype.range=function(t,e,i){for(var n=new Array(t),o=0;o<t;o++)n[o]=this.integer(e,i);return n},t.prototype.d4=function(){return this.integer(1,4)},t.prototype.d6=function(){return this.integer(1,6)},t.prototype.d8=function(){return this.integer(1,8)},t.prototype.d10=function(){return this.integer(1,10)},t.prototype.d12=function(){return this.integer(1,12)},t.prototype.d20=function(){return this.integer(1,20)},t}();!function(t){t.None="None",t.Top="Top",t.Bottom="Bottom",t.Left="Left",t.Right="Right"}(p||(p={}));var g=2*Math.PI;function y(){var t={},e=!1,i=0,n=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(e=arguments[0],i++);var o="function"==typeof Object.assign,r=null;for(r=o?Object.assign:function(i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e&&"[object Object]"===Object.prototype.toString.call(i[n])?t[n]=y(!0,t[n],i[n]):t[n]=i[n])};i<n;i++){var s=arguments[i];o?r(t,s):r(s)}return t}function _(t){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i="",n=0;n<t.length;){var o=255&t.charCodeAt(n++),r=255&t.charCodeAt(n++),s=255&t.charCodeAt(n++),a=o>>2,h=(3&o)<<4|r>>4,c=void 0,u=void 0;isNaN(r)?c=u=64:(c=(15&r)<<2|s>>6,u=isNaN(s)?64:63&s),i+=e.charAt(a)+e.charAt(h)+e.charAt(c)+e.charAt(u)}return i}function v(t,e,i){return Math.min(Math.max(e,t),i)}function m(t,e,i){return void 0===i&&(i=new f),i?i.floating(t,e):t+Math.random()*(e-t)}function b(t,e,i){return void 0===i&&(i=new f),i?i.integer(t,e):Math.round(m(t,e))}function w(t){var e=t;if(t>g)for(;e>g;)e-=g;if(t<0)for(;e<0;)e+=g;return e}function x(t){return 180/Math.PI*t}function P(t){return t/180*Math.PI}function S(t){var e=0,i=0,n=function(t){e+=t.offsetLeft,t.offsetParent&&n(t.offsetParent)},o=function(t){i+=t.offsetTop,t.offsetParent&&o(t.offsetParent)};return n(t),o(t),new F(e,i)}function A(t,e){return-1===e.indexOf(t)&&(e.push(t),!0)}function E(t,e){var i;return(i=e.indexOf(t))>-1&&(e.splice(i,1),!0)}function C(t,e){for(var i=0;i<t.length;i++)if(t[i]===e)return!0;return!1}function T(t){return t===p.Top?p.Bottom:t===p.Bottom?p.Top:t===p.Left?p.Right:t===p.Right?p.Left:p.None}function M(t){return O(t)}function O(t){for(var e=[F.Left,F.Right,F.Up,F.Down],i=[p.Left,p.Right,p.Top,p.Bottom],n=-Number.MAX_VALUE,o=-1,r=0;r<e.length;r++)e[r].dot(t)>n&&(n=e[r].dot(t),o=r);return i[o]}var B=function(){function t(e){void 0===e&&(e=t.DefaultSize),this._internalArray=null,this._endPointer=0,this._internalArray=new Array(e)}return t.prototype._resize=function(){for(var t=2*this._internalArray.length,e=new Array(t),i=this.count(),n=0;n<i;n++)e[n]=this._internalArray[n];delete this._internalArray,this._internalArray=e},t.prototype.push=function(t){return this._endPointer===this._internalArray.length&&this._resize(),this._internalArray[this._endPointer++]=t},t.prototype.pop=function(){return this._endPointer=this._endPointer-1<0?0:this._endPointer-1,this._internalArray[this._endPointer]},t.prototype.count=function(){return this._endPointer},t.prototype.clear=function(){this._endPointer=0},t.prototype.internalSize=function(){return this._internalArray.length},t.prototype.elementAt=function(t){if(t>=this.count())throw new Error("Invalid index "+t);return this._internalArray[t]},t.prototype.insert=function(t,e){return t>=this.count()&&this._resize(),this._internalArray[t]=e},t.prototype.remove=function(t){var e=this.count();if(0===e)throw new Error("Invalid parameter "+t);for(var i=this._internalArray[t],n=t;n<e;n++)this._internalArray[n]=this._internalArray[n+1];return this._endPointer--,i},t.prototype.removeElement=function(t){var e=this._internalArray.indexOf(t);this.remove(e)},t.prototype.toArray=function(){return this._internalArray.slice(0,this._endPointer)},t.prototype.forEach=function(t){for(var e=0,i=this.count();e<i;e++)t.call(this,this._internalArray[e],e)},t.prototype.map=function(t){for(var e=this.count(),i=0;i<e;i++)this._internalArray[i]=t.call(this,this._internalArray[i],i)},t.DefaultSize=200,t}();function D(t){throw new Error(t)}var k,R,F=function(){function t(t,e){this.x=t,this.y=e}return Object.defineProperty(t,"Zero",{get:function(){return new t(0,0)},enumerable:!0,configurable:!0}),Object.defineProperty(t,"One",{get:function(){return new t(1,1)},enumerable:!0,configurable:!0}),Object.defineProperty(t,"Half",{get:function(){return new t(.5,.5)},enumerable:!0,configurable:!0}),Object.defineProperty(t,"Up",{get:function(){return new t(0,-1)},enumerable:!0,configurable:!0}),Object.defineProperty(t,"Down",{get:function(){return new t(0,1)},enumerable:!0,configurable:!0}),Object.defineProperty(t,"Left",{get:function(){return new t(-1,0)},enumerable:!0,configurable:!0}),Object.defineProperty(t,"Right",{get:function(){return new t(1,0)},enumerable:!0,configurable:!0}),t.fromAngle=function(e){return new t(Math.cos(e),Math.sin(e))},t.isValid=function(t){return null!=t&&(!isNaN(t.x)&&!isNaN(t.y)&&(t.x!==1/0&&t.y!==1/0&&t.x!==-1/0&&t.y!==-1/0))},t.distance=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},t.prototype.setTo=function(t,e){this.x=t,this.y=e},t.prototype.equals=function(t,e){return void 0===e&&(e=.001),Math.abs(this.x-t.x)<=e&&Math.abs(this.y-t.y)<=e},t.prototype.distance=function(e){return e||(e=t.Zero),Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))},t.prototype.magnitude=function(){return this.distance()},t.prototype.normalize=function(){var e=this.distance();return e>0?new t(this.x/e,this.y/e):new t(0,1)},t.prototype.average=function(t){return this.add(t).scale(.5)},t.prototype.scale=function(e){return e instanceof t?new t(this.x*e.x,this.y*e.y):new t(this.x*e,this.y*e)},t.prototype.add=function(e){return new t(this.x+e.x,this.y+e.y)},t.prototype.sub=function(e){return new t(this.x-e.x,this.y-e.y)},t.prototype.addEqual=function(t){return this.x+=t.x,this.y+=t.y,this},t.prototype.subEqual=function(t){return this.x-=t.x,this.y-=t.y,this},t.prototype.scaleEqual=function(t){return this.x*=t,this.y*=t,this},t.prototype.dot=function(t){return this.x*t.x+this.y*t.y},t.prototype.cross=function(e){return e instanceof t?this.x*e.y-this.y*e.x:"number"==typeof e?new t(e*this.y,-e*this.x):void 0},t.prototype.perpendicular=function(){return new t(this.y,-this.x)},t.prototype.normal=function(){return this.perpendicular().normalize()},t.prototype.negate=function(){return this.scale(-1)},t.prototype.toAngle=function(){return Math.atan2(this.y,this.x)},t.prototype.rotate=function(e,i){i||(i=new t(0,0));var n=Math.sin(e),o=Math.cos(e);return new t(o*(this.x-i.x)-n*(this.y-i.y)+i.x,n*(this.x-i.x)+o*(this.y-i.y)+i.y)},t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.toString=function(){return"("+this.x+", "+this.y+")"},t}(),j=function(){function t(t,e){this.pos=t,this.dir=e.normalize()}return t.prototype.intersect=function(t){var e=t.begin.sub(this.pos);if(0===this.dir.cross(t.getSlope())&&0!==e.cross(this.dir))return-1;var i=this.dir.cross(t.getSlope());if(0===i)return-1;var n=e.cross(t.getSlope())/i;if(n>=0){var o=e.cross(this.dir)/i/t.getLength();if(o>=0&&o<=1)return n}return-1},t.prototype.getPoint=function(t){return this.pos.add(this.dir.scale(t))},t}(),L=function(){function t(t,e){this.begin=t,this.end=e}return Object.defineProperty(t.prototype,"slope",{get:function(){return(this.end.y-this.begin.y)/(this.end.x-this.begin.x)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"intercept",{get:function(){return this.begin.y-this.slope*this.begin.x},enumerable:!0,configurable:!0}),t.prototype.normal=function(){return this.end.sub(this.begin).normal()},t.prototype.getSlope=function(){var t=this.begin,e=this.end,i=t.distance(e);return e.sub(t).scale(1/i)},t.prototype.getEdge=function(){var t=this.begin;return this.end.sub(t)},t.prototype.getLength=function(){var t=this.begin,e=this.end;return t.distance(e)},Object.defineProperty(t.prototype,"midpoint",{get:function(){return this.begin.add(this.end).scale(.5)},enumerable:!0,configurable:!0}),t.prototype.flip=function(){return new t(this.end,this.begin)},t.prototype.distanceToPoint=function(t){var e=t.x,i=t.y,n=this.getLength(),o=this.end.y-this.begin.y,r=this.end.x-this.begin.x;return Math.abs(o*e-r*i+this.end.x*this.begin.y-this.end.y*this.begin.x)/n},t.prototype.findVectorToPoint=function(t){var e=this.begin.sub(t),i=this.getSlope();return e.sub(i.scale(e.dot(i)))},t.prototype.findPoint=function(t,e){void 0===t&&(t=null),void 0===e&&(e=null);var i=this.slope,n=this.intercept;if(null!==t)return new F(t,i*t+n);if(null!==e)return new F((e-n)/i,e);throw new Error("You must provide an X or a Y value")},t.prototype.hasPoint=function(){var t,e=0;if("number"==typeof arguments[0]&&"number"==typeof arguments[1])t=new F(arguments[0],arguments[1]),e=arguments[2]||0;else{if(!(arguments[0]instanceof F))throw"Could not determine the arguments for Vector.hasPoint";t=arguments[0],e=arguments[1]||0}var i=t.x-this.begin.x,n=t.y-this.begin.y,o=this.end.x-this.begin.x,r=this.end.y-this.begin.y,s=i*r-n*o;return!(Math.abs(s)>e)&&(Math.abs(o)>=Math.abs(r)?o>0?this.begin.x<=t.x&&t.x<=this.end.x:this.end.x<=t.x&&t.x<=this.begin.x:r>0?this.begin.y<=t.y&&t.y<=this.end.y:this.end.y<=t.y&&t.y<=this.begin.y)},t}(),I=function(){function t(t,e){this.min=t,this.max=e}return t.prototype.overlaps=function(t){return this.max>t.min&&t.max>this.min},t.prototype.getOverlap=function(t){return this.overlaps(t)?this.max>t.max?t.max-this.min:this.max-t.min:0},t}(),W=function(){function t(t,e,i){this.worldPos=t,this.pagePos=e,this.screenPos=i}return t.fromPagePosition=function(e,i,n){var o,r,s,a;3===arguments.length?(s=new F(o=e,r=i),a=n):(o=(s=e).x,r=s.y,a=i);var h=o-S(a.canvas).x,c=r-S(a.canvas).y,u=new F(h,c);return new t(a.screenToWorldCoordinates(u),s,u)},t}(),H=(k=function(t,e){return(k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}k(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});!function(t){t.Kill="kill",t.PreKill="prekill",t.PostKill="postkill",t.PreDraw="predraw",t.PostDraw="postdraw",t.PreDebugDraw="predebugdraw",t.PostDebugDraw="postdebugdraw",t.PreUpdate="preupdate",t.PostUpdate="postupdate",t.PreFrame="preframe",t.PostFrame="postframe",t.PreCollision="precollision",t.CollisionStart="collisionstart",t.CollisionEnd="collisionend",t.PostCollision="postcollision",t.Initialize="initialize",t.Activate="activate",t.Deactivate="deactivate",t.ExitViewport="exitviewport",t.EnterViewport="enterviewport",t.ExitTrigger="exit",t.EnterTrigger="enter",t.Connect="connect",t.Disconnect="disconnect",t.Button="button",t.Axis="axis",t.Subscribe="subscribe",t.Unsubscribe="unsubscribe",t.Visible="visible",t.Hidden="hidden",t.Start="start",t.Stop="stop",t.PointerUp="pointerup",t.PointerDown="pointerdown",t.PointerMove="pointermove",t.PointerEnter="pointerenter",t.PointerLeave="pointerleave",t.PointerCancel="pointercancel",t.PointerWheel="pointerwheel",t.Up="up",t.Down="down",t.Move="move",t.Enter="enter",t.Leave="leave",t.Cancel="cancel",t.Wheel="wheel",t.Press="press",t.Release="release",t.Hold="hold",t.PointerDragStart="pointerdragstart",t.PointerDragEnd="pointerdragend",t.PointerDragEnter="pointerdragenter",t.PointerDragLeave="pointerdragleave",t.PointerDragMove="pointerdragmove"}(R||(R={}));var z,U,N,q=function(){function t(){this.bubbles=!0,this._path=[],this._name=""}return Object.defineProperty(t.prototype,"eventPath",{get:function(){return this._path},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),t.prototype.stopPropagation=function(){this.bubbles=!1},t.prototype.action=function(){var t=this.eventPath.pop();t&&(this._onActionStart(t),t.eventDispatcher.emit(this._name,this),this._onActionEnd(t))},t.prototype.propagate=function(){this.eventPath.length&&(this.action(),this.bubbles&&this.propagate())},t.prototype.layPath=function(t){var e=t.getAncestors();this._path=e.length>this._path.length?e:this._path},t.prototype._onActionStart=function(t){},t.prototype._onActionEnd=function(t){},t}(),G=function(t){function e(e){var i=t.call(this)||this;return i.target=e,i}return H(e,t),e}(q),V=function(t){function e(e){var i=t.call(this)||this;return i.target=e,i}return H(e,t),e}(q),X=function(t){function e(e){var i=t.call(this)||this;return i.target=e,i}return H(e,t),e}(q),K=function(t){function e(e){var i=t.call(this)||this;return i.target=e,i}return H(e,t),e}(q),Y=function(t){function e(e){var i=t.call(this)||this;return i.target=e,i}return H(e,t),e}(q),Z=function(t){function e(e,i,n){var o=t.call(this)||this;return o.ctx=e,o.delta=i,o.target=n,o}return H(e,t),e}(q),Q=function(t){function e(e,i,n){var o=t.call(this)||this;return o.ctx=e,o.delta=i,o.target=n,o}return H(e,t),e}(q),J=function(t){function e(e,i){var n=t.call(this)||this;return n.ctx=e,n.target=i,n}return H(e,t),e}(q),$=function(t){function e(e,i){var n=t.call(this)||this;return n.ctx=e,n.target=i,n}return H(e,t),e}(q),tt=function(t){function e(e,i,n){var o=t.call(this)||this;return o.engine=e,o.delta=i,o.target=n,o}return H(e,t),e}(q),et=function(t){function e(e,i,n){var o=t.call(this)||this;return o.engine=e,o.delta=i,o.target=n,o}return H(e,t),e}(q),it=function(t){function e(e,i){var n=t.call(this)||this;return n.engine=e,n.prevStats=i,n.target=e,n}return H(e,t),e}(q),nt=function(t){function e(e,i){var n=t.call(this)||this;return n.engine=e,n.stats=i,n.target=e,n}return H(e,t),e}(q),ot=function(t){function e(e,i){var n=t.call(this)||this;return n.index=e,n.gamepad=i,n.target=i,n}return H(e,t),e}(q),rt=function(t){function e(e,i){var n=t.call(this)||this;return n.index=e,n.gamepad=i,n.target=i,n}return H(e,t),e}(q),st=function(t){function e(e,i,n){var o=t.call(this)||this;return o.button=e,o.value=i,o.target=n,o}return H(e,t),e}(q),at=function(t){function e(e,i,n){var o=t.call(this)||this;return o.axis=e,o.value=i,o.target=n,o}return H(e,t),e}(q),ht=function(t){function e(e,i){var n=t.call(this)||this;return n.topic=e,n.handler=i,n}return H(e,t),e}(q),ct=function(t){function e(e,i){var n=t.call(this)||this;return n.topic=e,n.handler=i,n}return H(e,t),e}(q),ut=function(t){function e(e){var i=t.call(this)||this;return i.target=e,i}return H(e,t),e}(q),lt=function(t){function e(e){var i=t.call(this)||this;return i.target=e,i}return H(e,t),e}(q),pt=function(t){function e(e,i,n,o){var r=t.call(this)||this;return r.other=i,r.side=n,r.intersection=o,r.target=e,r}return H(e,t),Object.defineProperty(e.prototype,"actor",{get:function(){return this.target},set:function(t){this.target=t},enumerable:!0,configurable:!0}),e}(q),dt=function(t){function e(e,i,n,o){var r=t.call(this)||this;return r.other=i,r.side=n,r.intersection=o,r.target=e,r}return H(e,t),Object.defineProperty(e.prototype,"actor",{get:function(){return this.target},set:function(t){this.target=t},enumerable:!0,configurable:!0}),e}(q),ft=function(t){function e(e,i,n){var o=t.call(this)||this;return o.other=i,o.pair=n,o.target=e,o}return H(e,t),Object.defineProperty(e.prototype,"actor",{get:function(){return this.target},set:function(t){this.target=t},enumerable:!0,configurable:!0}),e}(q),gt=function(t){function e(e,i){var n=t.call(this)||this;return n.other=i,n.target=e,n}return H(e,t),Object.defineProperty(e.prototype,"actor",{get:function(){return this.target},set:function(t){this.target=t},enumerable:!0,configurable:!0}),e}(q),yt=function(t){function e(e,i){var n=t.call(this)||this;return n.engine=e,n.target=i,n}return H(e,t),e}(q),_t=function(t){function e(e,i){var n=t.call(this)||this;return n.oldScene=e,n.target=i,n}return H(e,t),e}(q),vt=function(t){function e(e,i){var n=t.call(this)||this;return n.newScene=e,n.target=i,n}return H(e,t),e}(q),mt=function(t){function e(e){var i=t.call(this)||this;return i.target=e,i}return H(e,t),e}(q),bt=function(t){function e(e){var i=t.call(this)||this;return i.target=e,i}return H(e,t),e}(q),wt=function(t){function e(e,i){var n=t.call(this)||this;return n.target=e,n.actor=i,n}return H(e,t),e}(q),xt=function(t){function e(e,i){var n=t.call(this)||this;return n.target=e,n.actor=i,n}return H(e,t),e}(q),Pt=function(){function t(t){this._handlers={},this._wiredEventDispatchers=[],this._target=t}return t.prototype.clear=function(){this._handlers={},this._wiredEventDispatchers=[]},t.prototype.emit=function(t,e){if(t){t=t.toLowerCase();var i,n,o=this._target;if(e||(e=new q),e.target=o,this._handlers[t])for(i=0,n=this._handlers[t].length;i<n;i++)this._handlers[t][i].call(o,e);for(i=0,n=this._wiredEventDispatchers.length;i<n;i++)this._wiredEventDispatchers[i].emit(t,e)}},t.prototype.on=function(t,e){t=t.toLowerCase(),this._handlers[t]||(this._handlers[t]=[]),this._handlers[t].push(e),"unsubscribe"!==t&&"subscribe"!==t&&this.emit("subscribe",new ht(t,e))},t.prototype.off=function(t,e){t=t.toLowerCase();var i=this._handlers[t];if(i)if(e){var n=i.indexOf(e);this._handlers[t].splice(n,1)}else this._handlers[t].length=0;"unsubscribe"!==t&&"subscribe"!==t&&this.emit("unsubscribe",new ct(t,e))},t.prototype.once=function(t,e){var i=this;this.on(t,function(n){var o=n||new q;o.target=o.target||i._target,i.off(t,e),e.call(o.target,o)})},t.prototype.wire=function(t){t._wiredEventDispatchers.push(this)},t.prototype.unwire=function(t){var e=t._wiredEventDispatchers.indexOf(this);e>-1&&t._wiredEventDispatchers.splice(e,1)},t}(),St=function(){function t(){this.eventDispatcher=new Pt(this)}return t.prototype.on=function(t,e){this.eventDispatcher.on(t,e)},t.prototype.off=function(t,e){this.eventDispatcher.off(t,e)},t.prototype.emit=function(t,e){this.eventDispatcher.emit(t,e)},t.prototype.once=function(t,e){this.eventDispatcher.once(t,e)},t.extend=function(e){var i,n=this;i=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return n.apply(this,arguments)};var o=function(){this.constructor=i};if(o.prototype=n.prototype,i.prototype=new o,e)for(var r in e)e.hasOwnProperty(r)&&(i.prototype[r]=e[r]);return i.extend=t.extend,i},t}(),At=function(){function t(t,e,i,n){this.r=t,this.g=e,this.b=i,this.a=null!=n?n:1}return t.fromRGB=function(e,i,n,o){return new t(e,i,n,o)},t.fromHex=function(e){var i;if(i=e.match(/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})?$/i)){var n=parseInt(i[1],16),o=parseInt(i[2],16),r=parseInt(i[3],16),s=1;return i[4]&&(s=parseInt(i[4],16)/255),new t(n,o,r,s)}throw new Error("Invalid hex string: "+e)},t.fromHSL=function(t,e,i,n){return void 0===n&&(n=1),new Et(t,e,i,n).toRGBA()},t.prototype.lighten=function(t){void 0===t&&(t=.1);var e=Et.fromRGBA(this.r,this.g,this.b,this.a);return e.l+=(1-e.l)*t,e.toRGBA()},t.prototype.darken=function(t){void 0===t&&(t=.1);var e=Et.fromRGBA(this.r,this.g,this.b,this.a);return e.l-=e.l*t,e.toRGBA()},t.prototype.saturate=function(t){void 0===t&&(t=.1);var e=Et.fromRGBA(this.r,this.g,this.b,this.a);return e.s+=e.s*t,e.toRGBA()},t.prototype.desaturate=function(t){void 0===t&&(t=.1);var e=Et.fromRGBA(this.r,this.g,this.b,this.a);return e.s-=e.s*t,e.toRGBA()},t.prototype.mulitiply=function(e){return new t(e.r/255*this.r/255*255,e.g/255*this.g/255*255,e.b/255*this.b/255*255,e.a*this.a)},t.prototype.screen=function(t){var e=t.invert(),i=t.invert();return e.mulitiply(i).invert()},t.prototype.invert=function(){return new t(255-this.r,255-this.g,255-this.b,1-this.a)},t.prototype.average=function(e){return new t((e.r+this.r)/2,(e.g+this.g)/2,(e.b+this.b)/2,(e.a+this.a)/2)},t.prototype.toString=function(t){switch(void 0===t&&(t="rgb"),t){case"rgb":return this.toRGBA();case"hsl":return this.toHSLA();case"hex":return this.toHex();default:throw new Error("Invalid Color format")}},t.prototype._componentToHex=function(t){var e=t.toString(16);return 1===e.length?"0"+e:e},t.prototype.toHex=function(){return"#"+this._componentToHex(this.r)+this._componentToHex(this.g)+this._componentToHex(this.b)},t.prototype.toRGBA=function(){var t=String(this.r.toFixed(0))+", "+String(this.g.toFixed(0))+", "+String(this.b.toFixed(0));return void 0!==this.a||null!==this.a?"rgba("+t+", "+String(this.a)+")":"rgb("+t+")"},t.prototype.toHSLA=function(){return Et.fromRGBA(this.r,this.g,this.b,this.a).toString()},t.prototype.fillStyle=function(){return this.toString()},t.prototype.clone=function(){return new t(this.r,this.g,this.b,this.a)},Object.defineProperty(t,"Black",{get:function(){return t.fromHex("#000000")},enumerable:!0,configurable:!0}),Object.defineProperty(t,"White",{get:function(){return t.fromHex("#FFFFFF")},enumerable:!0,configurable:!0}),Object.defineProperty(t,"Gray",{get:function(){return t.fromHex("#808080")},enumerable:!0,configurable:!0}),Object.defineProperty(t,"LightGray",{get:function(){return t.fromHex("#D3D3D3")},enumerable:!0,configurable:!0}),Object.defineProperty(t,"DarkGray",{get:function(){return t.fromHex("#A9A9A9")},enumerable:!0,configurable:!0}),Object.defineProperty(t,"Yellow",{get:function(){return t.fromHex("#FFFF00")},enumerable:!0,configurable:!0}),Object.defineProperty(t,"Orange",{get:function(){return t.fromHex("#FFA500")},enumerable:!0,configurable:!0}),Object.defineProperty(t,"Red",{get:function(){return t.fromHex("#FF0000")},enumerable:!0,configurable:!0}),Object.defineProperty(t,"Vermillion",{get:function(){return t.fromHex("#FF5B31")},enumerable:!0,configurable:!0}),Object.defineProperty(t,"Rose",{get:function(){return t.fromHex("#FF007F")},enumerable:!0,configurable:!0}),Object.defineProperty(t,"Magenta",{get:function(){return t.fromHex("#FF00FF")},enumerable:!0,configurable:!0}),Object.defineProperty(t,"Violet",{get:function(){return t.fromHex("#7F00FF")},enumerable:!0,configurable:!0}),Object.defineProperty(t,"Blue",{get:function(){return t.fromHex("#0000FF")},enumerable:!0,configurable:!0}),Object.defineProperty(t,"Azure",{get:function(){return t.fromHex("#007FFF")},enumerable:!0,configurable:!0}),Object.defineProperty(t,"Cyan",{get:function(){return t.fromHex("#00FFFF")},enumerable:!0,configurable:!0}),Object.defineProperty(t,"Viridian",{get:function(){return t.fromHex("#59978F")},enumerable:!0,configurable:!0}),Object.defineProperty(t,"Green",{get:function(){return t.fromHex("#00FF00")},enumerable:!0,configurable:!0}),Object.defineProperty(t,"Chartreuse",{get:function(){return t.fromHex("#7FFF00")},enumerable:!0,configurable:!0}),Object.defineProperty(t,"Transparent",{get:function(){return t.fromHex("#FFFFFF00")},enumerable:!0,configurable:!0}),t}(),Et=function(){function t(t,e,i,n){this.h=t,this.s=e,this.l=i,this.a=n}return t.hue2rgb=function(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t},t.fromRGBA=function(e,i,n,o){e/=255,i/=255,n/=255;var r,s,a=Math.max(e,i,n),h=Math.min(e,i,n),c=(a+h)/2;if(a===h)r=s=0;else{var u=a-h;switch(s=c>.5?u/(2-a-h):u/(a+h),a){case e:r=(i-n)/u+(i<n?6:0);break;case i:r=(n-e)/u+2;break;case n:r=(e-i)/u+4}r/=6}return new t(r,s,c,o)},t.prototype.toRGBA=function(){var e,i,n;if(0===this.s)e=i=n=this.l;else{var o=this.l<.5?this.l*(1+this.s):this.l+this.s-this.l*this.s,r=2*this.l-o;e=t.hue2rgb(r,o,this.h+1/3),i=t.hue2rgb(r,o,this.h),n=t.hue2rgb(r,o,this.h-1/3)}return new At(255*e,255*i,255*n,this.a)},t.prototype.toString=function(){return"hsla("+this.h.toFixed(0)+", "+this.s.toFixed(0)+", "+this.l.toFixed(0)+", "+this.a.toFixed(0)+")"},t}();!function(t){t[t.Box=0]="Box",t[t.RigidBody=1]="RigidBody"}(z||(z={})),function(t){t[t.Naive=0]="Naive",t[t.DynamicAABBTree=1]="DynamicAABBTree"}(U||(U={})),function(t){t[t.Euler=0]="Euler"}(N||(N={}));var Ct,Tt=function(){function t(){}return t.useBoxPhysics=function(){t.collisionResolutionStrategy=z.Box},t.useRigidBodyPhysics=function(){t.collisionResolutionStrategy=z.RigidBody},t.acc=new F(0,0),t.enabled=!0,t.collisionPasses=5,t.broadphaseStrategy=U.DynamicAABBTree,t.broadphaseDebug=!1,t.showCollisionNormals=!1,t.showMotionVectors=!1,t.showBounds=!1,t.showArea=!1,t.showContacts=!1,t.showNormals=!1,t.collisionResolutionStrategy=z.Box,t.defaultMass=10,t.integrator=N.Euler,t.integrationSteps=1,t.allowRigidBodyRotation=!0,t.collisionShift=.001,t.dynamicTreeVelocityMultiplyer=2,t.boundsPadding=5,t.surfaceEpsilon=.1,t.checkForFastBodies=!0,t.disableMinimumSpeedForFastBody=!1,t}();!function(t){t.PreventCollision="PreventCollision",t.Passive="Passive",t.Active="Active",t.Fixed="Fixed"}(Ct||(Ct={}));var Mt=function(){function t(t,e,i,n,o){this.colliderA=t,this.colliderB=e,this.mtv=i,this.point=n,this.normal=o}return t.prototype.resolve=function(t){if(t===z.RigidBody)this._resolveRigidBodyCollision();else{if(t!==z.Box)throw new Error("Unknown collision resolution strategy");this._resolveBoxCollision()}},t.prototype._applyBoxImpulse=function(t,e,i){if(t.type===Ct.Active&&e.type!==Ct.Passive){t.type===Ct.Active&&e.type===Ct.Active&&(i=i.scale(.5)),t.body.pos.y+=i.y,t.body.pos.x+=i.x;var n=i.normalize();if(n.dot(t.body.vel)<0){var o=n.scale(n.dot(t.body.vel.negate()));t.body.vel=t.body.vel.add(o)}t.emit("postcollision",new dt(t,e,O(i),i))}},t.prototype._resolveBoxCollision=function(){var t=O(this.mtv),e=this.mtv.negate();this.colliderA.emit("precollision",new pt(this.colliderA,this.colliderB,t,e)),this.colliderB.emit("precollision",new pt(this.colliderB,this.colliderA,T(t),e.negate())),this._applyBoxImpulse(this.colliderA,this.colliderB,e),this._applyBoxImpulse(this.colliderB,this.colliderA,e.negate())},t.prototype._resolveRigidBodyCollision=function(){var t=this.colliderA.body,e=this.colliderB.body,i=this.mtv,n=this.normal;if(t!==e){var o=O(this.mtv);if(this.colliderA.emit("precollision",new pt(this.colliderA,this.colliderB,o,this.mtv)),this.colliderB.emit("precollision",new pt(this.colliderB,this.colliderA,T(o),this.mtv.negate())),this.colliderA.type!==Ct.Passive&&this.colliderB.type!==Ct.Passive){var r=this.colliderA.type===Ct.Fixed?0:1/this.colliderA.mass,s=this.colliderB.type===Ct.Fixed?0:1/this.colliderB.mass,a=this.colliderA.type===Ct.Fixed?0:1/this.colliderA.inertia,h=this.colliderB.type===Ct.Fixed?0:1/this.colliderB.inertia,c=Math.min(this.colliderA.bounciness,this.colliderB.bounciness),u=Math.min(this.colliderA.friction,this.colliderB.friction),l=(n=n.normalize()).normal().normalize(),p=this.point.sub(this.colliderA.center),d=this.point.sub(this.colliderB.center),f=e.vel.add(d.cross(-e.rx)).sub(t.vel.sub(p.cross(t.rx))),g=f.dot(n),y=f.dot(l),_=p.dot(l),v=p.dot(n),m=d.dot(l),b=d.dot(n);if(!(g>0)){var w=-(1+c)*g/(r+s+a*_*_+h*m*m);if(this.colliderA.type===Ct.Fixed?(e.vel=e.vel.add(n.scale(w*s)),Tt.allowRigidBodyRotation&&(e.rx-=w*h*-d.cross(n)),e.addMtv(i)):this.colliderB.type===Ct.Fixed?(t.vel=t.vel.sub(n.scale(w*r)),Tt.allowRigidBodyRotation&&(t.rx+=w*a*-p.cross(n)),t.addMtv(i.negate())):(e.vel=e.vel.add(n.scale(w*s)),t.vel=t.vel.sub(n.scale(w*r)),Tt.allowRigidBodyRotation&&(e.rx-=w*h*-d.cross(n),t.rx+=w*a*-p.cross(n)),e.addMtv(i.scale(.5)),t.addMtv(i.scale(-.5))),u&&y){var x=f.sub(n.scale(f.dot(n))).normalize(),P=f.dot(x)/(r+s+v*v*a+b*b*h),S=new F(0,0);S=Math.abs(P)<=w*u?x.scale(P).negate():x.scale(-w*u),this.colliderA.type===Ct.Fixed?(e.vel=e.vel.add(S.scale(s)),Tt.allowRigidBodyRotation&&(e.rx+=S.dot(x)*h*d.cross(x))):this.colliderB.type===Ct.Fixed?(t.vel=t.vel.sub(S.scale(r)),Tt.allowRigidBodyRotation&&(t.rx-=S.dot(x)*a*p.cross(x))):(e.vel=e.vel.add(S.scale(s)),t.vel=t.vel.sub(S.scale(r)),Tt.allowRigidBodyRotation&&(e.rx+=S.dot(x)*h*d.cross(x),t.rx-=S.dot(x)*a*p.cross(x)))}this.colliderA.emit("postcollision",new dt(this.colliderA,this.colliderB,o,this.mtv)),this.colliderB.emit("postcollision",new dt(this.colliderB,this.colliderA,T(o),this.mtv.negate()))}}}},t}(),Ot={CollideCircleCircle:function(t,e){var i=t.radius+e.radius,n=t.worldPos,o=e.worldPos;if(n.distance(o)>i)return null;var r=o.sub(n).normalize(),s=r.scale(i-o.distance(n)),a=t.getFurthestPoint(r);return new Mt(t.collider,e.collider,s,a,r)},CollideCirclePolygon:function(t,e){var i=t.testSeparatingAxisTheorem(e);if(!i)return null;var n=i.dot(e.center.sub(t.center));i=n<0?i.negate():i;var o=[],r=e.getFurthestPoint(i.negate()),s=t.getFurthestPoint(i);return t.contains(r)&&o.push(r),e.contains(s)&&o.push(s),0===o.length?null:new Mt(t.collider,e.collider,i,2===o.length?o[0].average(o[1]):o[0],i.normalize())},CollideCircleEdge:function(t,e){var i=t.center,n=e.end.sub(e.begin),o=n.dot(e.end.sub(i)),r=n.dot(i.sub(e.begin));if(r<=0){var s=e.begin.sub(i),a=s.dot(s);return a>t.radius*t.radius?null:new Mt(t.collider,e.collider,s.normalize().scale(t.radius-Math.sqrt(a)),e.begin,s.normalize())}if(o<=0){var h=e.end.sub(i),c=h.dot(h);return c>t.radius*t.radius?null:new Mt(t.collider,e.collider,h.normalize().scale(t.radius-Math.sqrt(c)),e.end,h.normalize())}var u=n.dot(n),l=e.begin.scale(o).add(e.end.scale(r)).scale(1/u),p=i.sub(l),d=p.dot(p);if(d>t.radius*t.radius)return null;var f=n.perpendicular();f.dot(i.sub(e.begin))<0&&(f.x=-f.x,f.y=-f.y);var g=(f=f.normalize()).scale(Math.abs(t.radius-Math.sqrt(d)));return new Mt(t.collider,e.collider,g.negate(),l,f.negate())},CollideEdgeEdge:function(){return null},CollidePolygonEdge:function(t,e){var i,n,o=e.end.sub(e.begin).normal();if(t.contains(e.begin)){var r=(i=t.getClosestFace(e.begin)).distance,s=i.face;if(r)return new Mt(t.collider,e.collider,r.negate(),e.begin.add(r.negate()),s.normal().negate())}if(t.contains(e.end)){r=(n=t.getClosestFace(e.end)).distance,s=n.face;if(r)return new Mt(t.collider,e.collider,r.negate(),e.end.add(r.negate()),s.normal().negate())}var a=t.center,h=e.center.sub(a).normalize(),c=new zt({collider:e.collider,points:[e.begin,e.end,e.end.add(h.scale(30)),e.begin.add(h.scale(30))]}),u=t.testSeparatingAxisTheorem(c);return u?(o=o.dot(h)<0?o.negate():o,u=u.dot(h)<0?u.negate():u,new Mt(t.collider,e.collider,u,t.getFurthestPoint(o),o)):null},CollidePolygonPolygon:function(t,e){var i=t.testSeparatingAxisTheorem(e);if(!i)return null;var n=i.dot(e.center.sub(t.center));i=n<0?i.negate():i;var o=[],r=t.getFurthestPoint(i),s=e.getFurthestPoint(i.negate());e.contains(r)&&o.push(r),t.contains(s)&&o.push(s),0===o.length&&o.push(s);var a=2===o.length?o[0].add(o[1]).scale(.5):o[0];return new Mt(t.collider,e.collider,i,a,i.normalize())}};function Bt(t,e,i,n){var o=t.sub(i),r=e.dot(e),s=e.dot(n),a=n.dot(n),h=e.dot(o),c=n.dot(o),u=r*a-s*s,l=u,p=u;if(0===u||u<=.01){var d=h/s;return new L(t,i.add(n.scale(d)))}var f=s*c-a*h,g=r*c-s*h;return f<0?(f=0,g=c,p=a):f>l&&(f=l,g=c+s,p=a),g<0?(g=0,-h<0?f=0:-h>r?f=l:(f=-h,l=r)):g>p&&(g=p,-h+s<0?f=0:-h+s>r?f=l:(f=-h+s,l=r)),f=Math.abs(f)<.001?0:f/l,g=Math.abs(g)<.001?0:g/p,new L(t.add(e.scale(f)),i.add(n.scale(g)))}var Dt,kt={PolygonPolygonClosestLine:function(t,e){var i=e.worldPos,n=i.sub(t.worldPos),o=n.negate(),r=new j(t.worldPos,n),s=new j(i,o),a=t.rayCast(r).add(r.dir.scale(.1)),h=e.rayCast(s).add(s.dir.scale(.1)),c=t.getClosestFace(a),u=e.getClosestFace(h);return Bt(c.face.begin,c.face.getEdge(),u.face.begin,u.face.getEdge())},PolygonEdgeClosestLine:function(t,e){var i=e.worldPos.sub(t.worldPos),n=new j(t.worldPos,i),o=t.rayCast(n).add(n.dir.scale(.1)),r=t.getClosestFace(o),s=r.face.begin,a=r.face.getEdge(),h=e.asLine();return Bt(s,a,h.begin,h.getEdge())},PolygonCircleClosestLine:function(t,e){var i=e.worldPos,n=i.sub(t.worldPos),o=new j(t.worldPos,n.normalize()),r=t.rayCast(o).add(o.dir.scale(.1)),s=t.getClosestFace(r),a=s.face.begin,h=s.face.getEdge(),c=(h.x*(i.x-a.x)+h.y*(i.y-a.y))/(h.x*h.x+h.y*h.y);c>1?c=1:c<0&&(c=0);var u=Math.sqrt(Math.pow(a.x+h.x*c-i.x,2)+Math.pow(a.y+h.y*c-i.y,2))-e.radius,l=(a.x+h.x*c-i.x)*e.radius/(e.radius+u),p=(a.y+h.y*c-i.y)*e.radius/(e.radius+u);return new L(h.scale(c).add(a),new F(i.x+l,i.y+p))},CircleCircleClosestLine:function(t,e){var i=e.worldPos.sub(t.worldPos),n=t.worldPos.sub(e.worldPos),o=new j(t.worldPos,i),r=new j(e.worldPos,n),s=t.rayCast(o),a=e.rayCast(r);return new L(s,a)},CircleEdgeClosestLine:function(t,e){var i=t.worldPos,n=e.asLine(),o=n.begin,r=n.getEdge(),s=(r.x*(i.x-o.x)+r.y*(i.y-o.y))/(r.x*r.x+r.y*r.y);s>1?s=1:s<0&&(s=0);var a=Math.sqrt(Math.pow(o.x+r.x*s-i.x,2)+Math.pow(o.y+r.y*s-i.y,2))-t.radius,h=(o.x+r.x*s-i.x)*t.radius/(t.radius+a),c=(o.y+r.y*s-i.y)*t.radius/(t.radius+a);return new L(r.scale(s).add(o),new F(i.x+h,i.y+c))},EdgeEdgeClosestLine:function(t,e){var i=t.asLine(),n=i.begin,o=i.getEdge(),r=e.asLine();return Bt(n,o,r.begin,r.getEdge())}},Rt=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Ft=function(){function t(t){this.offset=F.Zero,this.offset=t.offset||F.Zero,this.radius=t.radius||0,this.collider=t.collider||null,t.body&&(this.collider=t.body.collider,this.body=this.collider.body)}return Object.defineProperty(t.prototype,"worldPos",{get:function(){return this.collider&&this.collider.body?this.collider.body.pos.add(this.offset):this.offset},enumerable:!0,configurable:!0}),t.prototype.clone=function(){return new t({offset:this.offset.clone(),radius:this.radius,collider:null,body:null})},Object.defineProperty(t.prototype,"center",{get:function(){return this.collider&&this.collider.body?this.offset.add(this.collider.body.pos):this.offset},enumerable:!0,configurable:!0}),t.prototype.contains=function(t){var e=this.offset;return this.collider&&this.collider.body&&(e=this.collider.body.pos),e.distance(t)<=this.radius},t.prototype.rayCast=function(t,e){void 0===e&&(e=1/0);var i=this.center,n=t.dir,o=t.pos,r=Math.sqrt(Math.pow(n.dot(o.sub(i)),2)-Math.pow(o.sub(i).distance(),2)+Math.pow(this.radius,2));if(r<0)return null;var s=0;if(0===r)return(s=-n.dot(o.sub(i)))>0&&s<e?t.getPoint(s):null;var a=-n.dot(o.sub(i))+r,h=-n.dot(o.sub(i))-r,c=[];a>=0&&c.push(a),h>=0&&c.push(h);var u=Math.min.apply(Math,c);return u<=e?t.getPoint(u):null},t.prototype.getClosestLineBetween=function(e){if(e instanceof t)return kt.CircleCircleClosestLine(this,e);if(e instanceof zt)return kt.PolygonCircleClosestLine(e,this).flip();if(e instanceof It)return kt.CircleEdgeClosestLine(this,e).flip();throw new Error("Polygon could not collide with unknown CollisionShape "+typeof e)},t.prototype.collide=function(e){if(e instanceof t)return Ot.CollideCircleCircle(this,e);if(e instanceof zt)return Ot.CollideCirclePolygon(this,e);if(e instanceof It)return Ot.CollideCircleEdge(this,e);throw new Error("Circle could not collide with unknown CollisionShape "+typeof e)},t.prototype.getFurthestPoint=function(t){return this.center.add(t.normalize().scale(this.radius))},Object.defineProperty(t.prototype,"bounds",{get:function(){var t=F.Zero;return this.collider&&this.collider.body&&(t=this.collider.body.pos),new Yt(this.offset.x+t.x-this.radius,this.offset.y+t.y-this.radius,this.offset.x+t.x+this.radius,this.offset.y+t.y+this.radius)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"localBounds",{get:function(){return new Yt(this.offset.x-this.radius,this.offset.y-this.radius,this.offset.x+this.radius,this.offset.y+this.radius)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"axes",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inertia",{get:function(){return(this.collider?this.collider.mass:Tt.defaultMass)*this.radius*this.radius/2},enumerable:!0,configurable:!0}),t.prototype.testSeparatingAxisTheorem=function(t){var e=t.axes,i=t.center,n=t.getFurthestPoint(this.offset.sub(i));e.push(this.offset.sub(n).normalize());for(var o=Number.MAX_VALUE,r=null,s=-1,a=0;a<e.length;a++){var h=t.project(e[a]),c=this.project(e[a]),u=h.getOverlap(c);if(u<=0)return null;u<o&&(o=u,r=e[a],s=a)}return s<0?null:r.normalize().scale(o)},t.prototype.recalc=function(){},t.prototype.project=function(t){var e=[],i=this.center.dot(t);return e.push(i),e.push(i+this.radius),e.push(i-this.radius),new I(Math.min.apply(Math,e),Math.max.apply(Math,e))},t.prototype.draw=function(t,e,i){void 0===e&&(e=At.Green),void 0===i&&(i=F.Zero);var n=i.add(this.offset);t.beginPath(),t.fillStyle=e.toString(),t.arc(n.x,n.y,this.radius,0,2*Math.PI),t.closePath(),t.fill()},t.prototype.debugDraw=function(t,e){void 0===e&&(e=At.Green);var i=this.collider.body,n=i?i.pos.add(this.offset):this.offset,o=i?i.rotation:0;t.beginPath(),t.strokeStyle=e.toString(),t.arc(n.x,n.y,this.radius,0,2*Math.PI),t.closePath(),t.stroke(),t.beginPath(),t.moveTo(n.x,n.y),t.lineTo(Math.cos(o)*this.radius+n.x,Math.sin(o)*this.radius+n.y),t.closePath(),t.stroke()},t}(),jt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Rt(e,t),e}(Ft),Lt=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),It=function(){function t(t){this.begin=t.begin||F.Zero,this.end=t.end||F.Zero,this.collider=t.collider||null,this.offset=this.center,t.body&&(this.collider=t.body.collider,this.body=this.collider.body)}return t.prototype.clone=function(){return new t({begin:this.begin.clone(),end:this.end.clone(),collider:null,body:null})},Object.defineProperty(t.prototype,"worldPos",{get:function(){return this.collider&&this.collider.body?this.collider.body.pos.add(this.offset):this.offset},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"center",{get:function(){return this.begin.average(this.end).add(this._getBodyPos())},enumerable:!0,configurable:!0}),t.prototype._getBodyPos=function(){var t=F.Zero;return this.collider&&this.collider.body&&(t=this.collider.body.pos),t},t.prototype._getTransformedBegin=function(){var t=this.collider?this.collider.body:null,e=t?t.rotation:0;return this.begin.rotate(e).add(this._getBodyPos())},t.prototype._getTransformedEnd=function(){var t=this.collider?this.collider.body:null,e=t?t.rotation:0;return this.end.rotate(e).add(this._getBodyPos())},t.prototype.getSlope=function(){var t=this._getTransformedBegin(),e=this._getTransformedEnd(),i=t.distance(e);return e.sub(t).scale(1/i)},t.prototype.getLength=function(){var t=this._getTransformedBegin(),e=this._getTransformedEnd();return t.distance(e)},t.prototype.contains=function(){return!1},t.prototype.rayCast=function(t,e){void 0===e&&(e=1/0);var i=this._getTransformedBegin().sub(t.pos);if(0===t.dir.cross(this.getSlope())&&0!==i.cross(t.dir))return null;var n=t.dir.cross(this.getSlope());if(0===n)return null;var o=i.cross(this.getSlope())/n;if(o>=0&&o<=e){var r=i.cross(t.dir)/n/this.getLength();if(r>=0&&r<=1)return t.getPoint(o)}return null},t.prototype.getClosestLineBetween=function(e){if(e instanceof Ft)return kt.CircleEdgeClosestLine(e,this);if(e instanceof zt)return kt.PolygonEdgeClosestLine(e,this).flip();if(e instanceof t)return kt.EdgeEdgeClosestLine(this,e);throw new Error("Polygon could not collide with unknown CollisionShape "+typeof e)},t.prototype.collide=function(e){if(e instanceof Ft)return Ot.CollideCircleEdge(e,this);if(e instanceof zt)return Ot.CollidePolygonEdge(e,this);if(e instanceof t)return Ot.CollideEdgeEdge();throw new Error("Edge could not collide with unknown CollisionShape "+typeof e)},t.prototype.getFurthestPoint=function(t){var e=this._getTransformedBegin(),i=this._getTransformedEnd();return t.dot(e)>0?e:i},t.prototype._boundsFromBeginEnd=function(t,e){return new Yt(Math.min(t.x,e.x),Math.min(t.y,e.y),Math.max(t.x,e.x),Math.max(t.y,e.y))},Object.defineProperty(t.prototype,"bounds",{get:function(){var t=this._getTransformedBegin(),e=this._getTransformedEnd();return this._boundsFromBeginEnd(t,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"localBounds",{get:function(){return this._boundsFromBeginEnd(this.begin,this.end)},enumerable:!0,configurable:!0}),t.prototype.asLine=function(){return new L(this._getTransformedBegin(),this._getTransformedEnd())},t.prototype.asLocalLine=function(){return new L(this.begin,this.end)},Object.defineProperty(t.prototype,"axes",{get:function(){var t=this._getTransformedEnd().sub(this._getTransformedBegin()).normal(),e=[];return e.push(t),e.push(t.negate()),e.push(t.normal()),e.push(t.normal().negate()),e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inertia",{get:function(){var t=this.collider?this.collider.mass:Tt.defaultMass,e=this.end.sub(this.begin).distance()/2;return t*e*e},enumerable:!0,configurable:!0}),t.prototype.recalc=function(){},t.prototype.project=function(t){for(var e=[],i=[this._getTransformedBegin(),this._getTransformedEnd()],n=i.length,o=0;o<n;o++)e.push(i[o].dot(t));return new I(Math.min.apply(Math,e),Math.max.apply(Math,e))},t.prototype.draw=function(t,e,i){void 0===e&&(e=At.Green),void 0===i&&(i=F.Zero);var n=this.begin.add(i),o=this.end.add(i);t.strokeStyle=e.toString(),t.beginPath(),t.moveTo(n.x,n.y),t.lineTo(o.x,o.y),t.closePath(),t.stroke()},t.prototype.debugDraw=function(t,e){void 0===e&&(e=At.Red);var i=this._getTransformedBegin(),n=this._getTransformedEnd();t.strokeStyle=e.toString(),t.beginPath(),t.moveTo(i.x,i.y),t.lineTo(n.x,n.y),t.closePath(),t.stroke()},t}(),Wt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Lt(e,t),e}(It),Ht=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),zt=function(){function t(t){this._transformedPoints=[],this._axes=[],this._sides=[],this.offset=t.offset||F.Zero;var e=!!t.clockwiseWinding;this.points=(e?t.points.reverse():t.points)||[],this.collider=this.collider=t.collider||null,t.body&&(this.collider=t.body.collider,this.body=this.collider.body),this._calculateTransformation()}return t.prototype.clone=function(){return new t({offset:this.offset.clone(),points:this.points.map(function(t){return t.clone()}),collider:null,body:null})},Object.defineProperty(t.prototype,"worldPos",{get:function(){return this.collider&&this.collider.body?this.collider.body.pos.add(this.offset):this.offset},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"center",{get:function(){var t=this.collider?this.collider.body:null;return t?t.pos.add(this.offset):this.offset},enumerable:!0,configurable:!0}),t.prototype._calculateTransformation=function(){var t=this.collider?this.collider.body:null,e=t?t.pos.add(this.offset):this.offset,i=t?t.rotation:0,n=t?t.scale:F.One,o=this.points.length;this._transformedPoints.length=0;for(var r=0;r<o;r++)this._transformedPoints[r]=this.points[r].scale(n).rotate(i).add(e)},t.prototype.getTransformedPoints=function(){return this._transformedPoints.length&&(!this.collider||!this.collider.body||this.collider.body.oldPos.equals(this.collider.body.pos)&&this.collider.body.oldRotation===this.collider.body.rotation&&this.collider.body.oldScale===this.collider.body.scale)||this._calculateTransformation(),this._transformedPoints},t.prototype.getSides=function(){if(this._sides.length)return this._sides;for(var t=[],e=this.getTransformedPoints(),i=e.length,n=0;n<i;n++)t.push(new L(e[n],e[(n-1+i)%i]));return this._sides=t,this._sides},t.prototype.recalc=function(){this._sides.length=0,this._axes.length=0,this._transformedPoints.length=0,this.getTransformedPoints(),this.getSides()},t.prototype.contains=function(t){var e=new j(t,new F(1,0));return this.getSides().reduce(function(t,i){return e.intersect(i)>=0?t+1:t},0)%2!=0},t.prototype.getClosestLineBetween=function(e){if(e instanceof Ft)return kt.PolygonCircleClosestLine(this,e);if(e instanceof t)return kt.PolygonPolygonClosestLine(this,e);if(e instanceof It)return kt.PolygonEdgeClosestLine(this,e);throw new Error("Polygon could not collide with unknown CollisionShape "+typeof e)},t.prototype.collide=function(e){if(e instanceof Ft)return Ot.CollideCirclePolygon(e,this);if(e instanceof t)return Ot.CollidePolygonPolygon(this,e);if(e instanceof It)return Ot.CollidePolygonEdge(this,e);throw new Error("Polygon could not collide with unknown CollisionShape "+typeof e)},t.prototype.getFurthestPoint=function(t){for(var e=this.getTransformedPoints(),i=null,n=-Number.MAX_VALUE,o=0;o<e.length;o++){var r=t.dot(e[o]);r>n&&(n=r,i=e[o])}return i},t.prototype.getClosestFace=function(t){for(var e=this.getSides(),i=Number.POSITIVE_INFINITY,n=-1,o=-1,r=0;r<e.length;r++){var s=e[r].distanceToPoint(t);s<i&&(i=s,n=r,o=s)}return-1!==n?{distance:e[n].normal().scale(o),face:e[n]}:null},Object.defineProperty(t.prototype,"bounds",{get:function(){var t=this.getTransformedPoints();return Yt.fromPoints(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"localBounds",{get:function(){return Yt.fromPoints(this.points)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inertia",{get:function(){for(var t=this.collider?this.collider.mass:Tt.defaultMass,e=0,i=0,n=0;n<this.points.length;n++){var o=(n+1)%this.points.length,r=this.points[o].cross(this.points[n]);e+=r*(this.points[n].dot(this.points[n])+this.points[n].dot(this.points[o])+this.points[o].dot(this.points[o])),i+=r}return t/6*(e/i)},enumerable:!0,configurable:!0}),t.prototype.rayCast=function(t,e){void 0===e&&(e=1/0);for(var i=this.getSides(),n=i.length,o=Number.MAX_VALUE,r=-1,s=0;s<n;s++){var a=t.intersect(i[s]);a>=0&&a<o&&a<=e&&(o=a,r=s)}return r>=0?t.getPoint(o):null},Object.defineProperty(t.prototype,"axes",{get:function(){if(this._axes.length)return this._axes;for(var t=[],e=this.getTransformedPoints(),i=e.length,n=0;n<i;n++)t.push(e[n].sub(e[(n+1)%i]).normal());return this._axes=t,this._axes},enumerable:!0,configurable:!0}),t.prototype.testSeparatingAxisTheorem=function(t){for(var e=t,i=this.axes.concat(e.axes),n=Number.MAX_VALUE,o=null,r=-1,s=0;s<i.length;s++){var a=this.project(i[s]),h=e.project(i[s]),c=a.getOverlap(h);if(c<=0)return null;c<n&&(n=c,o=i[s],r=s)}return-1===r?null:o.normalize().scale(n)},t.prototype.project=function(t){for(var e=this.getTransformedPoints(),i=e.length,n=Number.MAX_VALUE,o=-Number.MAX_VALUE,r=0;r<i;r++){var s=e[r].dot(t);n=Math.min(n,s),o=Math.max(o,s)}return new I(n,o)},t.prototype.draw=function(t,e,i){void 0===e&&(e=At.Green),void 0===i&&(i=F.Zero),t.beginPath(),t.fillStyle=e.toString();var n=i.add(this.offset),o=this.points[0].add(n);t.moveTo(o.x,o.y),this.points.map(function(t){return t.add(n)}).forEach(function(e){t.lineTo(e.x,e.y)}),t.lineTo(o.x,o.y),t.closePath(),t.fill()},t.prototype.debugDraw=function(t,e){void 0===e&&(e=At.Red),t.beginPath(),t.strokeStyle=e.toString();var i=this.getTransformedPoints()[0];t.moveTo(i.x,i.y),this.getTransformedPoints().forEach(function(e){t.lineTo(e.x,e.y)}),t.lineTo(i.x,i.y),t.closePath(),t.stroke()},t}(),Ut=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ht(e,t),e}(zt);!function(t){t[t.Debug=0]="Debug",t[t.Info=1]="Info",t[t.Warn=2]="Warn",t[t.Error=3]="Error",t[t.Fatal=4]="Fatal"}(Dt||(Dt={}));var Nt=function(){function t(){if(this._appenders=[],this.defaultLevel=Dt.Info,t._instance)throw new Error("Logger is a singleton");return t._instance=this,t._instance.addAppender(new qt),t._instance}return t.getInstance=function(){return null==t._instance&&(t._instance=new t),t._instance},t.prototype.addAppender=function(t){this._appenders.push(t)},t.prototype.clearAppenders=function(){this._appenders.length=0},t.prototype._log=function(t,e){null==t&&(t=this.defaultLevel);for(var i=this._appenders.length,n=0;n<i;n++)t>=this.defaultLevel&&this._appenders[n].log(t,e)},t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._log(Dt.Debug,t)},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._log(Dt.Info,t)},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._log(Dt.Warn,t)},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._log(Dt.Error,t)},t.prototype.fatal=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._log(Dt.Fatal,t)},t._instance=null,t}(),qt=function(){function t(){}return t.prototype.log=function(t,e){if(console||console.log||!console.warn||!console.error){var i=[];i.unshift.apply(i,e),i.unshift("["+Dt[t]+"] : "),t<Dt.Warn?console.log.apply?console.log.apply(console,i):console.log(i.join(" ")):t<Dt.Error?console.warn.apply?console.warn.apply(console,i):console.warn(i.join(" ")):console.error.apply?console.error.apply(console,i):console.error(i.join(" "))}},t}(),Gt=function(){function t(t,e){this._messages=[],this._canvas=document.createElement("canvas"),this._canvas.width=t||window.innerWidth,this._canvas.height=e||window.innerHeight,this._canvas.style.position="absolute",this._ctx=this._canvas.getContext("2d"),document.body.appendChild(this._canvas)}return t.prototype.log=function(t,e){var i=e.join(",");this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._messages.unshift("["+Dt[t]+"] : "+i);for(var n=10,o=1,r=0;r<this._messages.length;r++)this._ctx.fillStyle="rgba(255,255,255,"+o.toFixed(2)+")",this._ctx.fillText(this._messages[r],200,n),n+=10,o=o>0?o-.05:0},t}(),Vt=function(){return(Vt=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function Xt(t){return t=y({},{message:"This feature will be removed in future versions of Excalibur.",alternateMethod:null,showStackTrack:!1},t),function(e,i,n){if(n&&"function"!=typeof n.value&&"function"!=typeof n.get&&"function"!=typeof n.set)throw new SyntaxError("Only classes/functions/getters/setters can be marked as obsolete");var o=(e.name||"")+(e.name&&i?".":"")+(i||"")+" is marked obsolete: "+t.message+(t.alternateMethod?" Use "+t.alternateMethod+" instead":""),r=n?Vt({},n):e;if(!n){var s=function(){var e=Array.prototype.slice.call(arguments);return Nt.getInstance().warn(o),console.trace&&t.showStackTrace&&console.trace(),new(r.bind.apply(r,[void 0].concat(e)))};return s.prototype=r.prototype,s}return n&&n.value?(r.value=function(){return Nt.getInstance().warn(o),console.trace&&t.showStackTrace&&console.trace(),n.value.apply(this,arguments)},r):(n&&n.get&&(r.get=function(){return Nt.getInstance().warn(o),console.trace&&t.showStackTrace&&console.trace(),n.get.apply(this,arguments)}),n&&n.set&&(r.set=function(){return Nt.getInstance().warn(o),n.set.apply(this,arguments)}),r)}}var Kt=function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Yt=function(){function t(t,e,i,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),this.left=t,this.top=e,this.right=i,this.bottom=n}return t.getSideFromIntersection=function(t){return t&&t?Math.abs(t.x)>Math.abs(t.y)?t.x<0?p.Right:p.Left:t.y<0?p.Bottom:p.Top:p.None},t.fromPoints=function(e){for(var i=1/0,n=1/0,o=-1/0,r=-1/0,s=0;s<e.length;s++)e[s].x<i&&(i=e[s].x),e[s].x>o&&(o=e[s].x),e[s].y<n&&(n=e[s].y),e[s].y>r&&(r=e[s].y);return new t(i,n,o,r)},t.fromDimension=function(e,i,n,o){return void 0===n&&(n=F.Half),void 0===o&&(o=F.Zero),new t(-e*n.x+o.x,-i*n.y+o.y,e-e*n.x+o.x,i-i*n.y+o.y)},t.prototype.getWidth=function(){return this.width},Object.defineProperty(t.prototype,"width",{get:function(){return this.right-this.left},enumerable:!0,configurable:!0}),t.prototype.getHeight=function(){return this.height},Object.defineProperty(t.prototype,"height",{get:function(){return this.bottom-this.top},enumerable:!0,configurable:!0}),t.prototype.getCenter=function(){return new F((this.left+this.right)/2,(this.top+this.bottom)/2)},Object.defineProperty(t.prototype,"center",{get:function(){return new F((this.left+this.right)/2,(this.top+this.bottom)/2)},enumerable:!0,configurable:!0}),t.prototype.translate=function(e){return new t(this.left+e.x,this.top+e.y,this.right+e.x,this.bottom+e.y)},t.prototype.rotate=function(e,i){void 0===i&&(i=F.Zero);var n=this.getPoints().map(function(t){return t.rotate(e,i)});return t.fromPoints(n)},t.prototype.scale=function(e,i){void 0===i&&(i=F.Zero);var n=this.translate(i);return new t(n.left*e.x,n.top*e.y,n.right*e.x,n.bottom*e.y)},t.prototype.getPerimeter=function(){return 2*(this.width+this.height)},t.prototype.getPoints=function(){var t=[];return t.push(new F(this.left,this.top)),t.push(new F(this.right,this.top)),t.push(new F(this.right,this.bottom)),t.push(new F(this.left,this.bottom)),t},t.prototype.toPolygon=function(t){return new zt({body:t?t.body:null,points:this.getPoints(),offset:F.Zero})},t.prototype.rayCast=function(t,e){void 0===e&&(e=1/0);var i=-1/0,n=1/0,o=0===t.dir.x?Number.MAX_VALUE:1/t.dir.x,r=0===t.dir.y?Number.MAX_VALUE:1/t.dir.y,s=(this.left-t.pos.x)*o,a=(this.right-t.pos.x)*o;i=Math.min(s,a),n=Math.max(s,a);var h=(this.top-t.pos.y)*r,c=(this.bottom-t.pos.y)*r;return i=Math.max(i,Math.min(h,c)),(n=Math.min(n,Math.max(h,c)))>=Math.max(0,i)&&i<e},t.prototype.rayCastTime=function(t,e){void 0===e&&(e=1/0);var i=-1/0,n=1/0,o=0===t.dir.x?Number.MAX_VALUE:1/t.dir.x,r=0===t.dir.y?Number.MAX_VALUE:1/t.dir.y,s=(this.left-t.pos.x)*o,a=(this.right-t.pos.x)*o;i=Math.min(s,a),n=Math.max(s,a);var h=(this.top-t.pos.y)*r,c=(this.bottom-t.pos.y)*r;return i=Math.max(i,Math.min(h,c)),(n=Math.min(n,Math.max(h,c)))>=Math.max(0,i)&&i<e?i:-1},t.prototype.contains=function(e){return e instanceof F?this.left<=e.x&&this.top<=e.y&&this.bottom>=e.y&&this.right>=e.x:e instanceof t&&(this.left<e.left&&this.top<e.top&&e.bottom<this.bottom&&e.right<this.right)},t.prototype.combine=function(e){return new t(Math.min(this.left,e.left),Math.min(this.top,e.top),Math.max(this.right,e.right),Math.max(this.bottom,e.bottom))},Object.defineProperty(t.prototype,"dimensions",{get:function(){return new F(this.width,this.height)},enumerable:!0,configurable:!0}),t.prototype.intersect=function(t){var e=this.combine(t);if(e.width<t.width+this.width&&e.height<t.height+this.height&&!e.dimensions.equals(t.dimensions)&&!e.dimensions.equals(this.dimensions)){var i=0;i=this.right>=t.left&&this.right<=t.right?t.left-this.right:t.right-this.left;var n=0;return n=this.top<=t.bottom&&this.top>=t.top?t.bottom-this.top:t.top-this.bottom,Math.abs(i)<Math.abs(n)?new F(i,0):new F(0,n)}if(e.dimensions.equals(t.dimensions)||e.dimensions.equals(this.dimensions)){i=0;i=this.width-t.width>=0?this.right-t.right<=t.left-this.left?t.left-this.right:t.right-this.left:t.right-this.right<=this.left-t.left?this.left-t.right:this.right-t.left;n=0;return n=this.height-t.height>=0?this.bottom-t.bottom<=t.top-this.top?t.top-this.bottom:t.bottom-this.top:t.bottom-this.bottom<=this.top-t.top?this.top-t.bottom:this.bottom-t.top,Math.abs(i)<Math.abs(n)?new F(i,0):new F(0,n)}return null},t.prototype.intersectWithSide=function(e){var i=this.intersect(e);return t.getSideFromIntersection(i)},t.prototype.collides=function(t){return this.intersect(t)},t.prototype.debugDraw=function(t,e){void 0===e&&(e=At.Yellow),t.strokeStyle=e.toString(),t.strokeRect(this.left,this.top,this.width,this.height)},Kt([Xt({message:"Will be removed in v0.24.0",alternateMethod:"BoundingBox.width"})],t.prototype,"getWidth",null),Kt([Xt({message:"Will be removed in v0.24.0",alternateMethod:"BoundingBox.height"})],t.prototype,"getHeight",null),Kt([Xt({message:"Will be removed in v0.24.0",alternateMethod:"BoundingBox.center"})],t.prototype,"getCenter",null),Kt([Xt({message:"BoundingBox.collides will be removed in v0.24.0",alternateMethod:"BoundingBox.intersect"})],t.prototype,"collides",null),t}(),Zt=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Qt=function(t){function e(e,i,n){void 0===n&&(n=!0);var o=t.call(this)||this;return o.path=e,o.responseType=i,o.bustCache=n,o.data=null,o.logger=Nt.getInstance(),o.arrayBuffer=null,o.onprogress=function(){},o.oncomplete=function(){},o.onerror=function(){},o}return Zt(e,t),e.prototype.isLoaded=function(){return null!==this.data},e.prototype.wireEngine=function(t){},e.prototype._cacheBust=function(t){return/\?\w*=\w*/.test(t)?t+="&__="+Date.now():t+="?__="+Date.now(),t},e.prototype._start=function(){this.logger.debug("Started loading resource "+this.path)},e.prototype.load=function(){var t=this,e=new d;if(null!==this.data)return this.logger.debug("Already have data for resource",this.path),e.resolve(this.data),this.oncomplete(),e;var i=new XMLHttpRequest;return i.open("GET",this.bustCache?this._cacheBust(this.path):this.path,!0),i.responseType=this.responseType,i.onloadstart=function(){t._start()},i.onprogress=this.onprogress,i.onerror=this.onerror,i.onload=function(){if(0!==i.status&&200!==i.status)return t.logger.error("Failed to load resource ",t.path," server responded with error code",i.status),t.onerror(i.response),void e.resolve(i.response);t.data=t.processData(i.response),t.oncomplete(),t.logger.debug("Completed loading resource",t.path),e.resolve(t.data)},i.send(),e},e.prototype.getData=function(){return this.data},e.prototype.getArrayData=function(){return this.arrayBuffer},e.prototype.setData=function(t){this.data=this.processData(t)},e.prototype.processData=function(t){return"blob"===this.responseType?URL.createObjectURL(t):t},e}(St),Jt=function(){function t(){}return t.prototype.updatePixel=function(t,e,i){var n=4*(t+e*i.width),o=i.data,r=(o[n+0]+o[n+1]+o[n+2])/3;o[n+0]=r,o[n+1]=r,o[n+2]=r},t}(),$t=function(){function t(){}return t.prototype.updatePixel=function(t,e,i){var n=4*(t+e*i.width),o=i.data;o[n+0]=255-o[n+0],o[n+1]=255-o[n+1],o[n+2]=255-o[n+2]},t}(),te=function(){function t(t){this.opacity=t}return t.prototype.updatePixel=function(t,e,i){var n=4*(t+e*i.width),o=i.data;0!==o[n+3]&&(o[n+3]=Math.round(this.opacity*o[n+3]))},t}(),ee=function(){function t(t){this.color=t}return t.prototype.updatePixel=function(t,e,i){var n=4*(t+e*i.width),o=i.data;0!==o[n+3]&&(o[n+0]=(o[n+0]+this.color.r)/2,o[n+1]=(o[n+1]+this.color.g)/2,o[n+2]=(o[n+2]+this.color.b)/2)},t}(),ie=function(){function t(t){void 0===t&&(t=.1),this.factor=t}return t.prototype.updatePixel=function(t,e,i){var n=4*(t+e*i.width),o=i.data,r=At.fromRGB(o[n+0],o[n+1],o[n+2],o[n+3]).lighten(this.factor);o[n+0]=r.r,o[n+1]=r.g,o[n+2]=r.b,o[n+3]=r.a},t}(),ne=function(){function t(t){void 0===t&&(t=.1),this.factor=t}return t.prototype.updatePixel=function(t,e,i){var n=4*(t+e*i.width),o=i.data,r=At.fromRGB(o[n+0],o[n+1],o[n+2],o[n+3]).darken(this.factor);o[n+0]=r.r,o[n+1]=r.g,o[n+2]=r.b,o[n+3]=r.a},t}(),oe=function(){function t(t){void 0===t&&(t=.1),this.factor=t}return t.prototype.updatePixel=function(t,e,i){var n=4*(t+e*i.width),o=i.data,r=At.fromRGB(o[n+0],o[n+1],o[n+2],o[n+3]).saturate(this.factor);o[n+0]=r.r,o[n+1]=r.g,o[n+2]=r.b,o[n+3]=r.a},t}(),re=function(){function t(t){void 0===t&&(t=.1),this.factor=t}return t.prototype.updatePixel=function(t,e,i){var n=4*(t+e*i.width),o=i.data,r=At.fromRGB(o[n+0],o[n+1],o[n+2],o[n+3]).desaturate(this.factor);o[n+0]=r.r,o[n+1]=r.g,o[n+2]=r.b,o[n+3]=r.a},t}(),se=function(){function t(t){this.color=t}return t.prototype.updatePixel=function(t,e,i){var n=4*(t+e*i.width),o=i.data;0!==o[n+3]&&(o[n+0]=this.color.r,o[n+1]=this.color.g,o[n+2]=this.color.b)},t}(),ae=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();function he(t){return function(t){function e(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var n=t.apply(this,e)||this;return 1!==e.filter(function(t){return void 0!==t}).length||!e[0]||"object"!=typeof e[0]||e[0]instanceof Array||n.assign(e[0]),n}return ae(e,t),e.prototype.assign=function(t){for(var e in t)"function"!=typeof this[e]&&(this[e]=t[e])},e}(t)}var ce,ue=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),le=function(t){function e(e,i,n,o,r){return t.call(this,e,i,n,o,r)||this}return ue(e,t),e}(he(function(){function t(t,e,i,n,o){var r=this;this.x=0,this.y=0,this.rotation=0,this.anchor=new F(0,0),this.scale=new F(1,1),this.logger=Nt.getInstance(),this.flipVertical=!1,this.flipHorizontal=!1,this.effects=[],this.width=0,this.height=0,this._spriteCanvas=null,this._spriteCtx=null,this._pixelData=null,this._pixelsLoaded=!1,this._dirtyEffect=!1;var s=t;if(t&&!(t instanceof de)&&(e=0|t.x,i=0|t.y,n=0|t.width,o=0|t.height,!(s=t.image))){throw new Error("An image texture is required to contsruct a sprite")}this.x=e||0,this.y=i||0,this._texture=s,this._spriteCanvas=document.createElement("canvas"),this._spriteCanvas.width=n,this._spriteCanvas.height=o,this._spriteCtx=this._spriteCanvas.getContext("2d"),this._texture.loaded.then(function(){r.width=r.width||r._texture.image.naturalWidth,r.height=r.height||r._texture.image.naturalHeight,r._spriteCanvas.width=r._spriteCanvas.width||r._texture.image.naturalWidth,r._spriteCanvas.height=r._spriteCanvas.height||r._texture.image.naturalHeight,r._loadPixels(),r._dirtyEffect=!0}).error(function(t){r.logger.error("Error loading texture ",r._texture.path,t)}),this.width=n,this.height=o}return Object.defineProperty(t.prototype,"drawWidth",{get:function(){return this.width*this.scale.x},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"drawHeight",{get:function(){return this.height*this.scale.y},enumerable:!0,configurable:!0}),t.prototype._loadPixels=function(){if(this._texture.isLoaded()&&!this._pixelsLoaded){var t=this._texture.image.naturalWidth||0,e=this._texture.image.naturalHeight||0;if(this.width>t&&this.logger.warn("The sprite width "+this.width+" exceeds the width \n                              "+t+" of the backing texture "+this._texture.path),this.width<=0||t<=0)throw new Error("The width of a sprite cannot be 0 or negative, sprite width: "+this.width+", original width: "+t);if(this.height>e&&this.logger.warn("The sprite height "+this.height+" exceeds the height \n                              "+e+" of the backing texture "+this._texture.path),this.height<=0||e<=0)throw new Error("The height of a sprite cannot be 0 or negative, sprite height: "+this.height+", original height: "+e);this._spriteCtx.drawImage(this._texture.image,v(this.x,0,t),v(this.y,0,e),v(this.width,0,t),v(this.height,0,e),0,0,this.width,this.height),this._pixelsLoaded=!0}},t.prototype.opacity=function(t){this.addEffect(new te(t))},t.prototype.grayscale=function(){this.addEffect(new Jt)},t.prototype.invert=function(){this.addEffect(new $t)},t.prototype.fill=function(t){this.addEffect(new se(t))},t.prototype.colorize=function(t){this.addEffect(new ee(t))},t.prototype.lighten=function(t){void 0===t&&(t=.1),this.addEffect(new ie(t))},t.prototype.darken=function(t){void 0===t&&(t=.1),this.addEffect(new ne(t))},t.prototype.saturate=function(t){void 0===t&&(t=.1),this.addEffect(new oe(t))},t.prototype.desaturate=function(t){void 0===t&&(t=.1),this.addEffect(new re(t))},t.prototype.addEffect=function(t){this.effects.push(t),this._texture.isLoaded()&&this._pixelsLoaded?this._applyEffects():this._dirtyEffect=!0},t.prototype.removeEffect=function(t){var e=-1;(e="number"==typeof t?t:this.effects.indexOf(t))<0||e>=this.effects.length||(this.effects.splice(e,1),this._texture.isLoaded()&&this._pixelsLoaded?this._applyEffects():this._dirtyEffect=!0)},t.prototype._applyEffects=function(){var t=this._texture.image.naturalWidth||0,e=this._texture.image.naturalHeight||0;this._spriteCtx.clearRect(0,0,this.width,this.height),this._spriteCtx.drawImage(this._texture.image,v(this.x,0,t),v(this.y,0,e),v(this.width,0,t),v(this.height,0,e),0,0,this.width,this.height),this._pixelData=this._spriteCtx.getImageData(0,0,this.width,this.height);for(var i=this.effects.length,n=0;n<i;n++)for(var o=0;o<this.height;o++)for(var r=0;r<this.width;r++)this.effects[n].updatePixel(r,o,this._pixelData);this._spriteCtx.clearRect(0,0,this.width,this.height),this._spriteCtx.putImageData(this._pixelData,0,0),this._dirtyEffect=!1},t.prototype.clearEffects=function(){this.effects.length=0,this._applyEffects()},t.prototype.reset=function(){},t.prototype.debugDraw=function(t,e,i){t.save(),t.translate(e,i),t.rotate(this.rotation);var n=this.drawWidth*this.anchor.x,o=this.drawHeight*this.anchor.y;t.strokeStyle=At.Black.toString(),t.strokeRect(-n,-o,this.drawWidth,this.drawHeight),t.restore()},t.prototype.draw=function(t,e,i){this._dirtyEffect&&this._applyEffects(),t.save();var n=this.drawWidth*this.anchor.x,o=this.drawHeight*this.anchor.y;t.translate(e,i),t.rotate(this.rotation),this.flipHorizontal&&(t.translate(this.drawWidth,0),t.scale(-1,1)),this.flipVertical&&(t.translate(0,this.drawHeight),t.scale(1,-1)),t.drawImage(this._spriteCanvas,0,0,this.width,this.height,-n,-o,this.drawWidth,this.drawHeight),t.restore()},t.prototype.clone=function(){var t=new le(this._texture,this.x,this.y,this.width,this.height);t.scale=this.scale.clone(),t.rotation=this.rotation,t.flipHorizontal=this.flipHorizontal,t.flipVertical=this.flipVertical;for(var e=this.effects.length,i=0;i<e;i++)t.addEffect(this.effects[i]);return t},t}())),pe=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),de=function(t){function e(e,i){void 0===i&&(i=!0);var n=t.call(this,e,"blob",i)||this;return n.path=e,n.bustCache=i,n.loaded=new d,n._isLoaded=!1,n._sprite=null,n._sprite=new le(n,0,0,0,0),n}return pe(e,t),e.prototype.isLoaded=function(){return this._isLoaded},e.prototype.load=function(){var e=this,i=new d;this.path.indexOf("data:image/")>-1?(this.image=new Image,this.image.addEventListener("load",function(){e.width=e._sprite.width=e.image.naturalWidth,e.height=e._sprite.height=e.image.naturalHeight,e._sprite=new le(e,0,0,e.width,e.height),e.loaded.resolve(e.image),i.resolve(e.image)}),this.image.src=this.path):t.prototype.load.call(this).then(function(){e.image=new Image,e.image.addEventListener("load",function(){e._isLoaded=!0,e.width=e._sprite.width=e.image.naturalWidth,e.height=e._sprite.height=e.image.naturalHeight,e.loaded.resolve(e.image),i.resolve(e.image)}),e.image.src=t.prototype.getData.call(e)},function(){i.reject("Error loading texture.")});return i},e.prototype.asSprite=function(){return this._sprite},e}(Qt);!function(t){t[t.ShortestPath=0]="ShortestPath",t[t.LongestPath=1]="LongestPath",t[t.Clockwise=2]="Clockwise",t[t.CounterClockwise=3]="CounterClockwise"}(ce||(ce={}));var fe=function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},ge=function(){function t(t,e,i,n,o){this.actor=t,this.easingFcn=o,this._currentLerpTime=0,this._lerpDuration=1e3,this._lerpStart=new F(0,0),this._lerpEnd=new F(0,0),this._initialized=!1,this._stopped=!1,this._distance=0,this._lerpDuration=n,this._lerpEnd=new F(e,i)}return t.prototype._initialize=function(){this._lerpStart=new F(this.actor.pos.x,this.actor.pos.y),this._currentLerpTime=0,this._distance=this._lerpStart.distance(this._lerpEnd)},t.prototype.update=function(t){this._initialized||(this._initialize(),this._initialized=!0);var e=this.actor.pos.x,i=this.actor.pos.y;this._currentLerpTime<this._lerpDuration?(e=this._lerpEnd.x<this._lerpStart.x?this._lerpStart.x-(this.easingFcn(this._currentLerpTime,this._lerpEnd.x,this._lerpStart.x,this._lerpDuration)-this._lerpEnd.x):this.easingFcn(this._currentLerpTime,this._lerpStart.x,this._lerpEnd.x,this._lerpDuration),i=this._lerpEnd.y<this._lerpStart.y?this._lerpStart.y-(this.easingFcn(this._currentLerpTime,this._lerpEnd.y,this._lerpStart.y,this._lerpDuration)-this._lerpEnd.y):this.easingFcn(this._currentLerpTime,this._lerpStart.y,this._lerpEnd.y,this._lerpDuration),this.actor.pos.x=e,this.actor.pos.y=i,this._currentLerpTime+=t):(this.actor.pos.x=this._lerpEnd.x,this.actor.pos.y=this._lerpEnd.y)},t.prototype.isComplete=function(t){return this._stopped||new F(t.pos.x,t.pos.y).distance(this._lerpStart)>=this._distance},t.prototype.reset=function(){this._initialized=!1},t.prototype.stop=function(){this._stopped=!0},t}(),ye=function(){function t(t,e,i,n){this._started=!1,this._stopped=!1,this._actor=t,this._end=new F(e,i),this._speed=n}return t.prototype.update=function(t){this._started||(this._started=!0,this._start=new F(this._actor.pos.x,this._actor.pos.y),this._distance=this._start.distance(this._end),this._dir=this._end.sub(this._start).normalize());var e=this._dir.scale(this._speed);this._actor.vel.x=e.x,this._actor.vel.y=e.y,this.isComplete(this._actor)&&(this._actor.pos.x=this._end.x,this._actor.pos.y=this._end.y,this._actor.vel.y=0,this._actor.vel.x=0)},t.prototype.isComplete=function(t){return this._stopped||new F(t.pos.x,t.pos.y).distance(this._start)>=this._distance},t.prototype.stop=function(){this._actor.vel.y=0,this._actor.vel.x=0,this._stopped=!0},t.prototype.reset=function(){this._started=!1},t}(),_e=function(){function t(t,e,i,n){if(this._started=!1,this._stopped=!1,this._actor=t,this._speed=n,this._offset=new F(e,i),n<=0)throw Nt.getInstance().error("Attempted to moveBy with speed less than or equal to zero : "+n),new Error("Speed must be greater than 0 pixels per second")}return t.prototype.update=function(t){this._started||(this._started=!0,this._start=new F(this._actor.pos.x,this._actor.pos.y),this._end=this._start.add(this._offset),this._distance=this._offset.magnitude(),this._dir=this._end.sub(this._start).normalize()),this._actor.vel=this._dir.scale(this._speed),this.isComplete(this._actor)&&(this._actor.pos.x=this._end.x,this._actor.pos.y=this._end.y,this._actor.vel.y=0,this._actor.vel.x=0)},t.prototype.isComplete=function(t){return this._stopped||t.pos.distance(this._start)>=this._distance},t.prototype.stop=function(){this._actor.vel.y=0,this._actor.vel.x=0,this._stopped=!0},t.prototype.reset=function(){this._started=!1},t}(),ve=function(){function t(t,e,i){this._started=!1,this._stopped=!1,this._actor=t,this._actorToFollow=e,this._current=new F(this._actor.pos.x,this._actor.pos.y),this._end=new F(e.pos.x,e.pos.y),this._maximumDistance=void 0!==i?i:this._current.distance(this._end),this._speed=0}return t.prototype.update=function(t){this._started||(this._started=!0,this._distanceBetween=this._current.distance(this._end),this._dir=this._end.sub(this._current).normalize());var e=Math.sqrt(Math.pow(this._actorToFollow.vel.x,2)+Math.pow(this._actorToFollow.vel.y,2));if(0!==e&&(this._speed=e),this._current.x=this._actor.pos.x,this._current.y=this._actor.pos.y,this._end.x=this._actorToFollow.pos.x,this._end.y=this._actorToFollow.pos.y,this._distanceBetween=this._current.distance(this._end),this._dir=this._end.sub(this._current).normalize(),this._distanceBetween>=this._maximumDistance){var i=this._dir.scale(this._speed);this._actor.vel.x=i.x,this._actor.vel.y=i.y}else this._actor.vel.x=0,this._actor.vel.y=0;this.isComplete()&&(this._actor.pos.x=this._end.x,this._actor.pos.y=this._end.y,this._actor.vel.y=0,this._actor.vel.x=0)},t.prototype.stop=function(){this._actor.vel.y=0,this._actor.vel.x=0,this._stopped=!0},t.prototype.isComplete=function(){return this._stopped},t.prototype.reset=function(){this._started=!1},t}(),me=function(){function t(t,e,i){this._started=!1,this._stopped=!1,this._speedWasSpecified=!1,this._actor=t,this._actorToMeet=e,this._current=new F(this._actor.pos.x,this._actor.pos.y),this._end=new F(e.pos.x,e.pos.y),this._speed=i||0,void 0!==i&&(this._speedWasSpecified=!0)}return t.prototype.update=function(t){this._started||(this._started=!0,this._distanceBetween=this._current.distance(this._end),this._dir=this._end.sub(this._current).normalize());var e=Math.sqrt(Math.pow(this._actorToMeet.vel.x,2)+Math.pow(this._actorToMeet.vel.y,2));0===e||this._speedWasSpecified||(this._speed=e),this._current.x=this._actor.pos.x,this._current.y=this._actor.pos.y,this._end.x=this._actorToMeet.pos.x,this._end.y=this._actorToMeet.pos.y,this._distanceBetween=this._current.distance(this._end),this._dir=this._end.sub(this._current).normalize();var i=this._dir.scale(this._speed);this._actor.vel.x=i.x,this._actor.vel.y=i.y,this.isComplete()&&(this._actor.pos.x=this._end.x,this._actor.pos.y=this._end.y,this._actor.vel.y=0,this._actor.vel.x=0)},t.prototype.isComplete=function(){return this._stopped||this._distanceBetween<=1},t.prototype.stop=function(){this._actor.vel.y=0,this._actor.vel.x=0,this._stopped=!0},t.prototype.reset=function(){this._started=!1},t}(),be=function(){function t(t,e,i,n){this._started=!1,this._stopped=!1,this._actor=t,this._end=e,this._speed=i,this._rotationType=n||ce.ShortestPath}return t.prototype.update=function(t){if(!this._started){this._started=!0,this._start=this._actor.rotation;var e=Math.abs(this._end-this._start),i=g-e;switch(e>i?(this._shortDistance=i,this._longDistance=e):(this._shortDistance=e,this._longDistance=i),this._shortestPathIsPositive=(this._start-this._end+g)%g>=Math.PI,this._rotationType){case ce.ShortestPath:this._distance=this._shortDistance,this._shortestPathIsPositive?this._direction=1:this._direction=-1;break;case ce.LongestPath:this._distance=this._longDistance,this._shortestPathIsPositive?this._direction=-1:this._direction=1;break;case ce.Clockwise:this._direction=1,this._shortestPathIsPositive?this._distance=this._shortDistance:this._distance=this._longDistance;break;case ce.CounterClockwise:this._direction=-1,this._shortestPathIsPositive?this._distance=this._longDistance:this._distance=this._shortDistance}}this._actor.rx=this._direction*this._speed,this.isComplete()&&(this._actor.rotation=this._end,this._actor.rx=0,this._stopped=!0)},t.prototype.isComplete=function(){var t=Math.abs(this._actor.rotation-this._start);return this._stopped||t>=Math.abs(this._distance)},t.prototype.stop=function(){this._actor.rx=0,this._stopped=!0},t.prototype.reset=function(){this._started=!1},t}(),we=function(){function t(t,e,i,n){this._started=!1,this._stopped=!1,this._actor=t,this._speed=i,this._offset=e,this._rotationType=n||ce.ShortestPath}return t.prototype.update=function(t){if(!this._started){this._started=!0,this._start=this._actor.rotation,this._end=this._start+this._offset;var e=Math.abs(this._end-this._start),i=g-e;switch(e>i?(this._shortDistance=i,this._longDistance=e):(this._shortDistance=e,this._longDistance=i),this._shortestPathIsPositive=(this._start-this._end+g)%g>=Math.PI,this._rotationType){case ce.ShortestPath:this._distance=this._shortDistance,this._shortestPathIsPositive?this._direction=1:this._direction=-1;break;case ce.LongestPath:this._distance=this._longDistance,this._shortestPathIsPositive?this._direction=-1:this._direction=1;break;case ce.Clockwise:this._direction=1,this._shortDistance>=0?this._distance=this._shortDistance:this._distance=this._longDistance;break;case ce.CounterClockwise:this._direction=-1,this._shortDistance<=0?this._distance=this._shortDistance:this._distance=this._longDistance}}this._actor.rx=this._direction*this._speed,this.isComplete()&&(this._actor.rotation=this._end,this._actor.rx=0,this._stopped=!0)},t.prototype.isComplete=function(){var t=Math.abs(this._actor.rotation-this._start);return this._stopped||t>=Math.abs(this._distance)},t.prototype.stop=function(){this._actor.rx=0,this._stopped=!0},t.prototype.reset=function(){this._started=!1},t}(),xe=function(){function t(t,e,i,n,o){this._started=!1,this._stopped=!1,this._actor=t,this._endX=e,this._endY=i,this._speedX=n,this._speedY=o}return t.prototype.update=function(t){if(this._started||(this._started=!0,this._startX=this._actor.scale.x,this._startY=this._actor.scale.y,this._distanceX=Math.abs(this._endX-this._startX),this._distanceY=Math.abs(this._endY-this._startY)),Math.abs(this._actor.scale.x-this._startX)>=this._distanceX)this._actor.sx=0;else{var e=this._endY<this._startY?-1:1;this._actor.sx=this._speedX*e}if(Math.abs(this._actor.scale.y-this._startY)>=this._distanceY)this._actor.sy=0;else{var i=this._endY<this._startY?-1:1;this._actor.sy=this._speedY*i}this.isComplete()&&(this._actor.scale.x=this._endX,this._actor.scale.y=this._endY,this._actor.sx=0,this._actor.sy=0)},t.prototype.isComplete=function(){return this._stopped||Math.abs(this._actor.scale.y-this._startX)>=this._distanceX&&Math.abs(this._actor.scale.y-this._startY)>=this._distanceY},t.prototype.stop=function(){this._actor.sx=0,this._actor.sy=0,this._stopped=!0},t.prototype.reset=function(){this._started=!1},t=fe([Xt({message:"ex.Action.ScaleTo will be removed in v0.24.0",alternateMethod:"Set width and hight directly"})],t)}(),Pe=function(){function t(t,e,i,n){this._started=!1,this._stopped=!1,this._actor=t,this._offset=new F(e,i),this._speedX=this._speedY=n}return t.prototype.update=function(t){this._started||(this._started=!0,this._startScale=this._actor.scale.clone(),this._endScale=this._startScale.add(this._offset),this._distanceX=Math.abs(this._endScale.x-this._startScale.x),this._distanceY=Math.abs(this._endScale.y-this._startScale.y),this._directionX=this._endScale.x<this._startScale.x?-1:1,this._directionY=this._endScale.y<this._startScale.y?-1:1),this._actor.sx=this._speedX*this._directionX,this._actor.sy=this._speedY*this._directionY,this.isComplete()&&(this._actor.scale=this._endScale,this._actor.sx=0,this._actor.sy=0)},t.prototype.isComplete=function(){return this._stopped||Math.abs(this._actor.scale.x-this._startScale.x)>=this._distanceX&&Math.abs(this._actor.scale.y-this._startScale.y)>=this._distanceY},t.prototype.stop=function(){this._actor.sx=0,this._actor.sy=0,this._stopped=!0},t.prototype.reset=function(){this._started=!1},t=fe([Xt({message:"ex.Action.ScaleBy will be removed in v0.24.0",alternateMethod:"Set width and hight directly"})],t)}(),Se=function(){function t(t,e){this._elapsedTime=0,this._started=!1,this._stopped=!1,this._actor=t,this._delay=e}return t.prototype.update=function(t){this._started||(this._started=!0),this.x=this._actor.pos.x,this.y=this._actor.pos.y,this._elapsedTime+=t},t.prototype.isComplete=function(){return this._stopped||this._elapsedTime>=this._delay},t.prototype.stop=function(){this._stopped=!0},t.prototype.reset=function(){this._elapsedTime=0,this._started=!1},t}(),Ae=function(){function t(t,e,i,n){void 0===n&&(n=1),this._timeVisible=0,this._timeNotVisible=0,this._elapsedTime=0,this._totalTime=0,this._stopped=!1,this._started=!1,this._actor=t,this._timeVisible=e,this._timeNotVisible=i,this._duration=(e+i)*n}return t.prototype.update=function(t){this._started||(this._started=!0),this._elapsedTime+=t,this._totalTime+=t,this._actor.visible&&this._elapsedTime>=this._timeVisible&&(this._actor.visible=!1,this._elapsedTime=0),!this._actor.visible&&this._elapsedTime>=this._timeNotVisible&&(this._actor.visible=!0,this._elapsedTime=0),this.isComplete()&&(this._actor.visible=!0)},t.prototype.isComplete=function(){return this._stopped||this._totalTime>=this._duration},t.prototype.stop=function(){this._actor.visible=!0,this._stopped=!0},t.prototype.reset=function(){this._started=!1,this._elapsedTime=0,this._totalTime=0},t}(),Ee=function(){function t(t,e,i){this._multiplier=1,this._started=!1,this._stopped=!1,this._actor=t,this._endOpacity=e,this._speed=i}return t.prototype.update=function(t){this._started||(this._started=!0,this._endOpacity<this._actor.opacity?this._multiplier=-1:this._multiplier=1),this._speed>0&&(this._actor.opacity+=this._multiplier*(Math.abs(this._actor.opacity-this._endOpacity)*t)/this._speed),this._speed-=t,this.isComplete()&&(this._actor.opacity=this._endOpacity),Nt.getInstance().debug("[Action fade] Actor opacity:",this._actor.opacity)},t.prototype.isComplete=function(){return this._stopped||Math.abs(this._actor.opacity-this._endOpacity)<.05},t.prototype.stop=function(){this._stopped=!0},t.prototype.reset=function(){this._started=!1},t}(),Ce=function(){function t(t){this._stopped=!1,this._actor=t}return t.prototype.update=function(t){this._actor.actionQueue.clearActions(),this._actor.kill(),this._stopped=!0},t.prototype.isComplete=function(){return this._stopped},t.prototype.stop=function(){},t.prototype.reset=function(){},t}(),Te=function(){function t(t,e){this._method=null,this._actor=null,this._hasBeenCalled=!1,this._actor=t,this._method=e}return t.prototype.update=function(t){this._method.call(this._actor),this._hasBeenCalled=!0},t.prototype.isComplete=function(){return this._hasBeenCalled},t.prototype.reset=function(){this._hasBeenCalled=!1},t.prototype.stop=function(){this._hasBeenCalled=!0},t}(),Me=function(){function t(t,e,i){this._stopped=!1,this._actor=t,this._actionQueue=new Be(t),this._repeat=e,this._originalRepeat=e;for(var n=i.length,o=0;o<n;o++)i[o].reset(),this._actionQueue.add(i[o])}return t.prototype.update=function(t){this.x=this._actor.pos.x,this.y=this._actor.pos.y,this._actionQueue.hasNext()||(this._actionQueue.reset(),this._repeat--),this._actionQueue.update(t)},t.prototype.isComplete=function(){return this._stopped||this._repeat<=0},t.prototype.stop=function(){this._stopped=!0},t.prototype.reset=function(){this._repeat=this._originalRepeat},t}(),Oe=function(){function t(t,e){this._stopped=!1,this._actor=t,this._actionQueue=new Be(t);for(var i=e.length,n=0;n<i;n++)e[n].reset(),this._actionQueue.add(e[n])}return t.prototype.update=function(t){this.x=this._actor.pos.x,this.y=this._actor.pos.y,this._stopped||(this._actionQueue.hasNext()||this._actionQueue.reset(),this._actionQueue.update(t))},t.prototype.isComplete=function(){return this._stopped},t.prototype.stop=function(){this._stopped=!0,this._actionQueue.clearActions()},t.prototype.reset=function(){},t}(),Be=function(){function t(t){this._actions=[],this._completedActions=[],this._actor=t}return t.prototype.add=function(t){this._actions.push(t)},t.prototype.remove=function(t){var e=this._actions.indexOf(t);this._actions.splice(e,1)},t.prototype.clearActions=function(){this._actions.length=0,this._completedActions.length=0,this._currentAction&&this._currentAction.stop()},t.prototype.getActions=function(){return this._actions.concat(this._completedActions)},t.prototype.hasNext=function(){return this._actions.length>0},t.prototype.reset=function(){this._actions=this.getActions();for(var t=this._actions.length,e=0;e<t;e++)this._actions[e].reset();this._completedActions=[]},t.prototype.update=function(t){this._actions.length>0&&(this._currentAction=this._actions[0],this._currentAction.update(t),this._currentAction.isComplete(this._actor)&&this._completedActions.push(this._actions.shift()))},t}(),De=function(){function t(){}return t.CreateReversableEasingFunction=function(t){return function(e,i,n,o){return n<i?i-(t(e,n,i,o)-n):t(e,i,n,o)}},t.CreateVectorEasingFunction=function(t){return function(e,i,n,o){return new F(t(e,i.x,n.x,o),t(e,i.y,n.y,o))}},t.Linear=t.CreateReversableEasingFunction(function(t,e,i,n){return(i-=e)*t/n+e}),t.EaseInQuad=t.CreateReversableEasingFunction(function(t,e,i,n){return(i-=e)*(t/=n)*t+e}),t.EaseOutQuad=t.CreateReversableEasingFunction(function(t,e,i,n){return-(i-=e)*(t/=n)*(t-2)+e}),t.EaseInOutQuad=t.CreateReversableEasingFunction(function(t,e,i,n){return i-=e,(t/=n/2)<1?i/2*t*t+e:-i/2*(--t*(t-2)-1)+e}),t.EaseInCubic=t.CreateReversableEasingFunction(function(t,e,i,n){return(i-=e)*(t/=n)*t*t+e}),t.EaseOutCubic=t.CreateReversableEasingFunction(function(t,e,i,n){return t/=n,(i-=e)*(--t*t*t+1)+e}),t.EaseInOutCubic=t.CreateReversableEasingFunction(function(t,e,i,n){return i-=e,(t/=n/2)<1?i/2*t*t*t+e:i/2*((t-=2)*t*t+2)+e}),t}(),ke=function(){function t(){this._actors=[],this._queues=[],null!==arguments&&(this._actors=Array.prototype.slice.call(arguments,0),this._queues=this._actors.map(function(t){return t.actionQueue}))}return t.prototype.clearActions=function(){for(var t=this._queues.length,e=0;e<t;e++)this._queues[e].clearActions()},t.prototype.addActorToContext=function(t){this._actors.push(t),this._queues.push(t.actionQueue)},t.prototype.removeActorFromContext=function(t){var e=this._actors.indexOf(t);e>-1&&(this._actors.splice(e,1),this._queues.splice(e,1))},t.prototype.easeTo=function(t,e,i,n){void 0===n&&(n=De.Linear);for(var o=this._queues.length,r=0;r<o;r++)this._queues[r].add(new ge(this._actors[r],t,e,i,n));return this},t.prototype.moveTo=function(t,e,i){for(var n=this._queues.length,o=0;o<n;o++)this._queues[o].add(new ye(this._actors[o],t,e,i));return this},t.prototype.moveBy=function(t,e,i){for(var n=this._queues.length,o=0;o<n;o++)this._queues[o].add(new _e(this._actors[o],t,e,i));return this},t.prototype.rotateTo=function(t,e,i){for(var n=this._queues.length,o=0;o<n;o++)this._queues[o].add(new be(this._actors[o],t,e,i));return this},t.prototype.rotateBy=function(t,e,i){for(var n=this._queues.length,o=0;o<n;o++)this._queues[o].add(new we(this._actors[o],t,e,i));return this},t.prototype.scaleTo=function(t,e,i,n){for(var o=this._queues.length,r=0;r<o;r++)this._queues[r].add(new xe(this._actors[r],t,e,i,n));return this},t.prototype.scaleBy=function(t,e,i){for(var n=this._queues.length,o=0;o<n;o++)this._queues[o].add(new Pe(this._actors[o],t,e,i));return this},t.prototype.blink=function(t,e,i){void 0===i&&(i=1);for(var n=this._queues.length,o=0;o<n;o++)this._queues[o].add(new Ae(this._actors[o],t,e,i));return this},t.prototype.fade=function(t,e){for(var i=this._queues.length,n=0;n<i;n++)this._queues[n].add(new Ee(this._actors[n],t,e));return this},t.prototype.delay=function(t){for(var e=this._queues.length,i=0;i<e;i++)this._queues[i].add(new Se(this._actors[i],t));return this},t.prototype.die=function(){for(var t=this._queues.length,e=0;e<t;e++)this._queues[e].add(new Ce(this._actors[e]));return this},t.prototype.callMethod=function(t){for(var e=this._queues.length,i=0;i<e;i++)this._queues[i].add(new Te(this._actors[i],t));return this},t.prototype.repeat=function(t){if(!t)return this.repeatForever(),this;for(var e=this._queues.length,i=0;i<e;i++)this._queues[i].add(new Me(this._actors[i],t,this._actors[i].actionQueue.getActions()));return this},t.prototype.repeatForever=function(){for(var t=this._queues.length,e=0;e<t;e++)this._queues[e].add(new Oe(this._actors[e],this._actors[e].actionQueue.getActions()));return this},t.prototype.follow=function(t,e){for(var i=this._queues.length,n=0;n<i;n++)void 0===e?this._queues[n].add(new ve(this._actors[n],t)):this._queues[n].add(new ve(this._actors[n],t,e));return this},t.prototype.meet=function(t,e){for(var i=this._queues.length,n=0;n<i;n++)void 0===e?this._queues[n].add(new me(this._actors[n],t)):this._queues[n].add(new me(this._actors[n],t,e));return this},t.prototype.asPromise=function(){var t=this,e=this._queues.map(function(e,i){var n=new d;return e.add(new Te(t._actors[i],function(){n.resolve()})),n});return d.join.apply(this,e)},t}(),Re=function(){function t(){}return t.Box=function(t,e,i,n){return void 0===i&&(i=F.Half),void 0===n&&(n=F.Zero),new zt({points:new Yt(-t*i.x,-e*i.y,t-t*i.x,e-e*i.y).getPoints(),offset:n})},t.Polygon=function(t,e,i){return void 0===e&&(e=!1),void 0===i&&(i=F.Zero),new zt({points:t,offset:i,clockwiseWinding:e})},t.Circle=function(t,e){return void 0===e&&(e=F.Zero),new Ft({radius:t,offset:e})},t.Edge=function(t,e){return new It({begin:t,end:e})},t}(),Fe=function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},je=function(){function t(t){var e=t.actor,i=t.collider;if(this.pos=new F(0,0),this.oldPos=new F(0,0),this.vel=new F(0,0),this.oldVel=new F(0,0),this.acc=new F(0,0),this.oldAcc=F.Zero,this.torque=0,this.motion=10,this.oldRotation=0,this.rotation=0,this.scale=F.One,this.oldScale=F.One,this.sx=0,this.sy=0,this.rx=0,this._geometryDirty=!1,this._totalMtv=F.Zero,!e&&!i)throw new Error("An actor or collider are required to create a body");this.actor=e,this.collider=!i&&e?this.useBoxCollider(e.width,e.height,e.anchor):i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.actor?this.actor.id:-1},enumerable:!0,configurable:!0}),t.prototype.clone=function(){return new t({actor:null,collider:this.collider.clone()})},Object.defineProperty(t.prototype,"active",{get:function(){return!!this.actor&&!this.actor.isKilled()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"center",{get:function(){return this.pos},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collider",{get:function(){return this._collider},set:function(t){t&&(this._collider=t,this._collider.body=this,this._wireColliderEventsToActor())},enumerable:!0,configurable:!0}),t.prototype.addMtv=function(t){this._totalMtv.addEqual(t)},t.prototype.applyMtv=function(){this.pos.addEqual(this._totalMtv),this._totalMtv.setTo(0,0)},t.prototype.markCollisionShapeDirty=function(){this._geometryDirty=!0},Object.defineProperty(t.prototype,"isColliderShapeDirty",{get:function(){return this._geometryDirty},enumerable:!0,configurable:!0}),t.prototype.captureOldTransform=function(){this.oldVel.setTo(this.vel.x,this.vel.y),this.oldPos.setTo(this.pos.x,this.pos.y),this.oldAcc.setTo(this.acc.x,this.acc.y),this.oldScale.setTo(this.scale.x,this.scale.y),this.oldRotation=this.rotation},t.prototype.integrate=function(t){var e=t/1e3,i=this.acc.clone();this.collider.type===Ct.Active&&i.addEqual(Tt.acc),this.vel.addEqual(i.scale(e)),this.pos.addEqual(this.vel.scale(e)).addEqual(i.scale(.5*e*e)),this.rx+=this.torque*(1/this.collider.inertia)*e,this.rotation+=this.rx*e,this.scale.x+=this.sx*t/1e3,this.scale.y+=this.sy*t/1e3,this.scale.equals(this.oldScale)||(this._geometryDirty=!0),this.collider.update(),this._geometryDirty=!1},t.prototype.useBoxCollider=function(t,e,i,n){return void 0===i&&(i=F.Half),void 0===n&&(n=F.Zero),this.collider.shape=Re.Box(t,e,i,n),this.collider},t.prototype.useBoxCollision=function(t){void 0===t&&(t=F.Zero),this.useBoxCollider(this.actor.width,this.actor.height,this.actor.anchor,t)},t.prototype.usePolygonCollider=function(t,e){return void 0===e&&(e=F.Zero),this.collider.shape=Re.Polygon(t,!1,e),this.collider},t.prototype.usePolygonCollision=function(t,e){void 0===e&&(e=F.Zero),this.usePolygonCollider(t,e)},t.prototype.useCircleCollider=function(t,e){return void 0===e&&(e=F.Zero),this.collider.shape=Re.Circle(t,e),this.collider},t.prototype.useCircleCollision=function(t,e){void 0===e&&(e=F.Zero),this.useCircleCollider(t,e)},t.prototype.useEdgeCollider=function(t,e){return this.collider.shape=Re.Edge(t,e),this.collider},t.prototype.useEdgeCollision=function(t,e){this.useEdgeCollider(t,e)},t.prototype._wireColliderEventsToActor=function(){var t=this;this.collider.clear(),this.collider.on("precollision",function(e){t.actor&&t.actor.emit("precollision",new pt(e.target.body.actor,e.other.body.actor,e.side,e.intersection))}),this.collider.on("postcollision",function(e){t.actor&&t.actor.emit("postcollision",new dt(e.target.body.actor,e.other.body.actor,e.side,e.intersection))}),this.collider.on("collisionstart",function(e){t.actor&&t.actor.emit("collisionstart",new ft(e.target.body.actor,e.other.body.actor,e.pair))}),this.collider.on("collisionend",function(e){t.actor&&t.actor.emit("collisionend",new gt(e.target.body.actor,e.other.body.actor))})},Fe([Xt({message:"Will be removed in v0.24.0",alternateMethod:"Body.useBoxCollider"})],t.prototype,"useBoxCollision",null),Fe([Xt({message:"Will be removed in v0.24.0",alternateMethod:"Body.usePolygonCollider"})],t.prototype,"usePolygonCollision",null),Fe([Xt({message:"Will be removed in v0.24.0",alternateMethod:"Body.useCircleCollider"})],t.prototype,"useCircleCollision",null),Fe([Xt({message:"Will be removed in v0.24.0",alternateMethod:"Body.useEdgeCollider"})],t.prototype,"useEdgeCollision",null),t}(),Le=function(){function t(){}return t.prototype.update=function(t,e){var i=t.eventDispatcher;if(t.body.collider.type!==Ct.PreventCollision&&e.currentScene&&e.currentScene.tileMaps)for(var n=0;n<e.currentScene.tileMaps.length;n++)for(var o=e.currentScene.tileMaps[n],r=void 0,s=p.None,a=2;(r=o.collides(t))&&!(a--<0);)s=Yt.getSideFromIntersection(r),i.emit("precollision",new pt(t,null,s,r)),t.body.collider.type===Ct.Active&&(t.pos.y+=r.y,t.pos.x+=r.x,i.emit("postcollision",new dt(t,null,s,r)))},t}(),Ie=function(){function t(){this._topLeft=new F(0,0),this._topRight=new F(0,0),this._bottomLeft=new F(0,0),this._bottomRight=new F(0,0)}return t.prototype.isSpriteOffScreen=function(t,e){var i=t.currentDrawing.drawWidth,n=t.currentDrawing.drawHeight,o=t.rotation,r=t.center,s=t.getWorldPos();this._topLeft.x=s.x-i/2,this._topLeft.y=s.y-n/2,this._topLeft=this._topLeft.rotate(o,r),this._topRight.x=s.x+i/2,this._topRight.y=s.y-n/2,this._topRight=this._topRight.rotate(o,r),this._bottomLeft.x=s.x-i/2,this._bottomLeft.y=s.y+n/2,this._bottomLeft=this._bottomLeft.rotate(o,r),this._bottomRight.x=s.x+i/2,this._bottomRight.y=s.y+n/2,this._bottomRight=this._bottomRight.rotate(o,r);var a=e.worldToScreenCoordinates(this._topLeft),h=e.worldToScreenCoordinates(this._topRight),c=e.worldToScreenCoordinates(this._bottomLeft),u=e.worldToScreenCoordinates(this._bottomRight);this._xCoords=[],this._yCoords=[],this._xCoords.push(a.x,h.x,c.x,u.x),this._yCoords.push(a.y,h.y,c.y,u.y),this._xMin=Math.min.apply(null,this._xCoords),this._yMin=Math.min.apply(null,this._yCoords),this._xMax=Math.max.apply(null,this._xCoords),this._yMax=Math.max.apply(null,this._yCoords);var l=e.screenToWorldCoordinates(new F(this._xMin,this._yMin)),p=e.screenToWorldCoordinates(new F(this._xMax,this._yMax));this._xMinWorld=l.x,this._yMinWorld=l.y,this._xMaxWorld=p.x,this._yMaxWorld=p.y;var d=[new F(this._xMin,this._yMin),new F(this._xMax,this._yMin),new F(this._xMin,this._yMax),new F(this._xMax,this._yMax)];if(d[0].x<0&&d[1].x>e.canvas.clientWidth&&(d[0].y>0||d[2].y<e.canvas.clientHeight))return!1;if(d[0].y<0&&d[2].y>e.canvas.clientHeight&&(d[1].x>0||d[0].x<e.canvas.clientWidth))return!1;for(var f=0;f<d.length;f++)if(d[f].x>0&&d[f].y>0&&d[f].x<e.canvas.clientWidth&&d[f].y<e.canvas.clientHeight)return!1;return!0},t.prototype.debugDraw=function(t){t.beginPath(),t.strokeStyle=At.White.toString(),t.rect(this._xMinWorld,this._yMinWorld,this._xMaxWorld-this._xMinWorld,this._yMaxWorld-this._yMinWorld),t.stroke(),t.fillStyle=At.Red.toString(),t.beginPath(),t.arc(this._topLeft.x,this._topLeft.y,5,0,2*Math.PI),t.closePath(),t.fill(),t.fillStyle=At.Green.toString(),t.beginPath(),t.arc(this._topRight.x,this._topRight.y,5,0,2*Math.PI),t.closePath(),t.fill(),t.fillStyle=At.Blue.toString(),t.beginPath(),t.arc(this._bottomLeft.x,this._bottomLeft.y,5,0,2*Math.PI),t.closePath(),t.fill(),t.fillStyle=At.Magenta.toString(),t.beginPath(),t.arc(this._bottomRight.x,this._bottomRight.y,5,0,2*Math.PI),t.closePath(),t.fill()},t}(),We=function(){function t(){this.cullingBox=new Ie}return t.prototype.update=function(t,e){var i=t.eventDispatcher,n=!0;null!=t.currentDrawing&&(n=this.cullingBox.isSpriteOffScreen(t,e));var o=!1;e&&e.currentScene&&e.currentScene.camera&&e.currentScene.camera.viewport&&(o=!e.currentScene.camera.viewport.intersect(t.body.collider.bounds)),t.isOffScreen?o&&n||(i.emit("enterviewport",new bt(t)),t.isOffScreen=!1):o&&n&&(i.emit("exitviewport",new mt(t)),t.isOffScreen=!0)},t}(),He=function(){function t(){}return t.prototype.update=function(t,e){t.enableCapturePointer&&(t.isKilled()||e.input.pointers.revisePointerEventsPaths(t))},t}();function ze(t,e,i,n,o,r,s,a){void 0===e&&(e=At.Red),void 0===s&&(s=1),void 0===a&&(a="butt"),t.beginPath(),t.lineWidth=s,t.lineCap=a,t.strokeStyle=e.toString(),t.moveTo(i,n),t.lineTo(o,r),t.closePath(),t.stroke()}function Ue(t,e,i){void 0===e&&(e=At.Red),t.beginPath(),t.strokeStyle=e.toString(),t.arc(i.x,i.y,5,0,2*Math.PI),t.closePath(),t.stroke()}function Ne(t,e,i,n,o){void 0===o&&(o=1);var r=e?e.toString():"blue",s=n.scale(o);t.beginPath(),t.strokeStyle=r,t.moveTo(i.x,i.y),t.lineTo(i.x+s.x,i.y+s.y),t.closePath(),t.stroke()}function qe(t,e,i,n,o,r,s,a){var h;if(void 0===r&&(r=5),void 0===s&&(s=At.White),void 0===a&&(a=null),"number"==typeof r)h={tl:r,tr:r,br:r,bl:r};else{var c={tl:0,tr:0,br:0,bl:0};for(var u in c)if(c.hasOwnProperty(u)){var l=u;h[l]=r[l]||c[l]}}t.beginPath(),t.moveTo(e+h.tl,i),t.lineTo(e+n-h.tr,i),t.quadraticCurveTo(e+n,i,e+n,i+h.tr),t.lineTo(e+n,i+o-h.br),t.quadraticCurveTo(e+n,i+o,e+n-h.br,i+o),t.lineTo(e+h.bl,i+o),t.quadraticCurveTo(e,i+o,e,i+o-h.bl),t.lineTo(e,i+h.tl),t.quadraticCurveTo(e,i,e+h.tl,i),t.closePath(),a&&(t.fillStyle=a.toString(),t.fill()),s&&(t.strokeStyle=s.toString(),t.stroke())}function Ge(t,e,i,n,o,r){void 0===o&&(o=At.White),void 0===r&&(r=null),t.beginPath(),t.arc(e,i,n,0,2*Math.PI),t.closePath(),r&&(t.fillStyle=r.toString(),t.fill()),o&&(t.strokeStyle=o.toString(),t.stroke())}var Ve=function(){function t(t,e,i){this._name=t,this._category=e,this._mask=i}return Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"category",{get:function(){return this._category},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mask",{get:function(){return this._mask},enumerable:!0,configurable:!0}),t.prototype.canCollide=function(t){return 0!=(this.category&t.mask)&&0!=(t.category&this.mask)},t.All=new t("Collide with all groups",-1,-1),t}(),Xe=function(){function t(e,i){this.colliderA=e,this.colliderB=i,this.id=null,this.collision=null,this.id=t.calculatePairHash(e,i)}return t.canCollide=function(t,e){return!!t.group.canCollide(e.group)&&((t.type!==Ct.Fixed||e.type!==Ct.Fixed)&&(e.type!==Ct.PreventCollision&&t.type!==Ct.PreventCollision&&!(!t.active||!e.active)))},Object.defineProperty(t.prototype,"canCollide",{get:function(){var e=this.colliderA,i=this.colliderB;return t.canCollide(e,i)},enumerable:!0,configurable:!0}),t.prototype.collide=function(){this.collision=this.colliderA.collide(this.colliderB)},t.prototype.resolve=function(t){this.collision&&this.collision.resolve(t)},t.calculatePairHash=function(t,e){return t.id<e.id?"#"+t.id+"+"+e.id:"#"+e.id+"+"+t.id},t.prototype.debugDraw=function(t){this.collision&&(Tt.showContacts&&Ue(t,At.Red,this.collision.point),Tt.showCollisionNormals&&Ne(t,At.Cyan,this.collision.point,this.collision.normal,30))},t}();function Ke(t){return t instanceof Ye}var Ye=function(){function t(t){var e=t.body,i=t.type,n=t.group,o=t.shape,r=t.offset,s=t.useShapeInertia,a=void 0===s||s;this._events=new Pt(this),this.type=Ct.PreventCollision,this.group=Ve.All,this.mass=1,this.inertia=1e3,this.friction=.99,this.bounciness=.2,e&&e.collider&&!o?this._shape=e.collider.shape:(this._shape=o,this.body=e),this.useShapeInertia=a,this._shape.collider=this,this.type=i||this.type,this.group=n||this.group,this.offset=r||F.Zero}return t.prototype.clone=function(){return new t({body:null,type:this.type,shape:this._shape.clone(),group:this.group,offset:this.offset})},Object.defineProperty(t.prototype,"id",{get:function(){return this.body?this.body.id:-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shape",{get:function(){return this._shape},set:function(t){this._shape=t,this._shape.collider=this,this.useShapeInertia&&(this.inertia=isNaN(this._shape.inertia)?this.inertia:this._shape.inertia)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"center",{get:function(){return this.bounds.center},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"active",{get:function(){return this.body.active},enumerable:!0,configurable:!0}),t.prototype.collide=function(t){return this.shape.collide(t.shape)},t.prototype.getClosestLineBetween=function(t){return this.shape.getClosestLineBetween(t.shape)},Object.defineProperty(t.prototype,"offset",{get:function(){return this.shape.offset.clone()},set:function(t){this.shape.offset=t.clone()},enumerable:!0,configurable:!0}),t.prototype.touching=function(t){var e=new Xe(this,t);return e.collide(),!!e.collision},Object.defineProperty(t.prototype,"bounds",{get:function(){return this.shape?this.shape.bounds:this.body?(new Yt).translate(this.body.pos):new Yt},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"localBounds",{get:function(){return this.shape?this.shape.localBounds:new Yt},enumerable:!0,configurable:!0}),t.prototype.update=function(){this.shape&&this.shape.recalc()},t.prototype.emit=function(t,e){this._events.emit(t,e)},t.prototype.on=function(t,e){this._events.on(t,e)},t.prototype.off=function(t,e){this._events.off(t,e)},t.prototype.once=function(t,e){this._events.once(t,e)},t.prototype.clear=function(){this._events.clear()},t.prototype.debugDraw=function(t){Tt.showMotionVectors&&(Ne(t,At.Yellow,this.body.pos,this.body.acc.add(Tt.acc)),Ne(t,At.Red,this.body.pos,this.body.vel),Ue(t,At.Red,this.body.pos)),Tt.showBounds&&this.bounds.debugDraw(t,At.Yellow),Tt.showArea&&this.shape.debugDraw(t,At.Green)},t}(),Ze=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Qe=function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s};function Je(t){return t instanceof $e}var $e=function(t){function e(e,i,n,o,r){return t.call(this,e,i,n,o,r)||this}return Ze(e,t),e}(he(function(t){function e(i,n,o,r,s){var a=t.call(this)||this;a.id=e.maxId++,a._height=0,a._width=0,a.isOffScreen=!1,a.visible=!0,a.opacity=1,a.previousOpacity=1,a.logger=Nt.getInstance(),a.scene=null,a.parent=null,a.children=[],a.collisionGroups=[],a._collisionHandlers={},a._isInitialized=!1,a.frames={},a._effectsDirty=!1,a.currentDrawing=null,a.traits=[],a.enableCapturePointer=!1,a.capturePointer={captureMoveEvents:!1,captureDragEvents:!1},a._zIndex=0,a._isKilled=!1,a._opacityFx=new te(a.opacity),a._capturePointerEvents=["pointerup","pointerdown","pointermove","pointerenter","pointerleave","pointerdragstart","pointerdragend","pointerdragmove","pointerdragenter","pointerdragleave"],a._captureMoveEvents=["pointermove","pointerenter","pointerleave","pointerdragmove","pointerdragenter","pointerdragleave"],a._captureDragEvents=["pointerdragstart","pointerdragend","pointerdragmove","pointerdragenter","pointerdragleave"],a._initDefaults();var h=!0;if(i&&"object"==typeof i){var c=i;i=c.pos?c.pos.x:c.x,n=c.pos?c.pos.y:c.y,o=c.width,r=c.height,c.body&&(h=!1,a.body=c.body),c.anchor&&(a.anchor=c.anchor)}return a._width=o||0,a._height=r||0,h&&(a.body=new je({collider:new Ye({type:Ct.Passive,shape:Re.Box(a._width,a._height,a.anchor)})})),a.pos.x=i||0,a.pos.y=n||0,s&&(a.color=s,a.opacity=s.a),a.traits.push(new Le),a.traits.push(new We),a.traits.push(new He),a.actionQueue=new Be(a),a.actions=new ke(a),a}return Ze(e,t),Object.defineProperty(e.prototype,"body",{get:function(){return this._body},set:function(t){this._body=t,this._body.actor=this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"collisionArea",{get:function(){return this.body.collider.shape},set:function(t){this.body.collider.shape=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"x",{get:function(){return this.body.pos.x},set:function(t){this.body.pos.x=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.body.pos.y},set:function(t){this.body.pos.y=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pos",{get:function(){return this.body.pos},set:function(t){this.body.pos.setTo(t.x,t.y)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"oldPos",{get:function(){return this.body.oldPos},set:function(t){this.body.oldPos.setTo(t.x,t.y)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"vel",{get:function(){return this.body.vel},set:function(t){this.body.vel.setTo(t.x,t.y)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"oldVel",{get:function(){return this.body.oldVel},set:function(t){this.body.oldVel.setTo(t.x,t.y)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"acc",{get:function(){return this.body.acc},set:function(t){this.body.acc.setTo(t.x,t.y)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"oldAcc",{get:function(){return this.body.oldAcc},set:function(t){this.body.oldAcc.setTo(t.x,t.y)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.body.rotation},set:function(t){this.body.rotation=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rx",{get:function(){return this.body.rx},set:function(t){this.body.rx=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"torque",{get:function(){return this.body.torque},set:function(t){this.body.torque=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mass",{get:function(){return this.body.collider.mass},set:function(t){this.body.collider.mass=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"moi",{get:function(){return this.body.collider.inertia},set:function(t){this.body.collider.inertia=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"friction",{get:function(){return this.body.collider.friction},set:function(t){this.body.collider.friction=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"restitution",{get:function(){return this.body.collider.bounciness},set:function(t){this.body.collider.bounciness=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this.body.scale},set:function(t){this.body.scale=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"oldScale",{get:function(){return this.body.oldScale},set:function(t){this.body.oldScale=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sx",{get:function(){return this.body.sx},set:function(t){this.body.sx=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sy",{get:function(){return this.body.sy},set:function(t){this.body.sy=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"collisionType",{get:function(){return this.body.collider.type},set:function(t){this.body.collider.type=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(t){this._color=t.clone()},enumerable:!0,configurable:!0}),e.prototype.onInitialize=function(t){},Object.defineProperty(e.prototype,"isInitialized",{get:function(){return this._isInitialized},enumerable:!0,configurable:!0}),e.prototype._initialize=function(e){this.isInitialized||(this.onInitialize(e),t.prototype.emit.call(this,"initialize",new yt(e,this)),this._isInitialized=!0);for(var i=0,n=this.children;i<n.length;i++){n[i]._initialize(e)}},e.prototype._initDefaults=function(){this.anchor=$e.defaults.anchor.clone()},e.prototype._checkForPointerOptIn=function(t){if(t){var e=t.toLowerCase();-1!==this._capturePointerEvents.indexOf(e)&&(this.enableCapturePointer=!0,-1!==this._captureMoveEvents.indexOf(e)&&(this.capturePointer.captureMoveEvents=!0),-1!==this._captureDragEvents.indexOf(e)&&(this.capturePointer.captureDragEvents=!0))}},e.prototype.on=function(e,i){this._checkForPointerOptIn(e),t.prototype.on.call(this,e,i)},e.prototype.once=function(e,i){this._checkForPointerOptIn(e),t.prototype.once.call(this,e,i)},e.prototype.off=function(e,i){t.prototype.off.call(this,e,i)},e.prototype._prekill=function(e){t.prototype.emit.call(this,"prekill",new V(this)),this.onPreKill(e)},e.prototype.onPreKill=function(t){},e.prototype._postkill=function(e){t.prototype.emit.call(this,"postkill",new X(this)),this.onPostKill(e)},e.prototype.onPostKill=function(t){},e.prototype.kill=function(){this.scene?(this._prekill(this.scene),this.emit("kill",new G(this)),this._isKilled=!0,this.scene.remove(this),this._postkill(this.scene)):this.logger.warn("Cannot kill actor, it was never added to the Scene")},e.prototype.unkill=function(){this._isKilled=!1},e.prototype.isKilled=function(){return this._isKilled},e.prototype.add=function(t){t.body.collider.type=Ct.PreventCollision,A(t,this.children)&&(t.parent=this)},e.prototype.remove=function(t){E(t,this.children)&&(t.parent=null)},e.prototype.setDrawing=function(t){t=t.toString(),this.currentDrawing!==this.frames[t]&&(null!=this.frames[t]?(this.frames[t].reset(),this.currentDrawing=this.frames[t]):Nt.getInstance().error("the specified drawing key "+t+" does not exist"))},e.prototype.addDrawing=function(){2===arguments.length?(this.frames[arguments[0]]=arguments[1],this.currentDrawing||(this.currentDrawing=arguments[1]),this._effectsDirty=!0):(arguments[0]instanceof le&&this.addDrawing("default",arguments[0]),arguments[0]instanceof de&&this.addDrawing("default",arguments[0].asSprite()))},Object.defineProperty(e.prototype,"z",{get:function(){return this.getZIndex()},set:function(t){this.setZIndex(t)},enumerable:!0,configurable:!0}),e.prototype.getZIndex=function(){return this._zIndex},e.prototype.setZIndex=function(t){this.scene.cleanupDrawTree(this),this._zIndex=t,this.scene.updateDrawTree(this)},e.prototype.addCollisionGroup=function(t){this.collisionGroups.push(t)},e.prototype.removeCollisionGroup=function(t){var e=this.collisionGroups.indexOf(t);-1!==e&&this.collisionGroups.splice(e,1)},e.prototype.getCenter=function(){return new F(this.pos.x+this.width/2-this.anchor.x*this.width,this.pos.y+this.height/2-this.anchor.y*this.height)},Object.defineProperty(e.prototype,"center",{get:function(){return new F(this.pos.x+this.width/2-this.anchor.x*this.width,this.pos.y+this.height/2-this.anchor.y*this.height)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width*this.getGlobalScale().x},set:function(t){this._width=t/this.scale.x,this.body.collider.shape=Re.Box(this._width,this._height,this.anchor),this.body.markCollisionShapeDirty()},enumerable:!0,configurable:!0}),e.prototype.getWidth=function(){return this.width},e.prototype.setWidth=function(t){this.width=t},Object.defineProperty(e.prototype,"height",{get:function(){return this._height*this.getGlobalScale().y},set:function(t){this._height=t/this.scale.y,this.body.collider.shape=Re.Box(this._width,this._height,this.anchor),this.body.markCollisionShapeDirty()},enumerable:!0,configurable:!0}),e.prototype.getHeight=function(){return this.height},e.prototype.setHeight=function(t){this.height=t},e.prototype.getLeft=function(){return this.getBounds().left},e.prototype.getRight=function(){return this.getBounds().right},e.prototype.getTop=function(){return this.getBounds().top},e.prototype.getBottom=function(){return this.getBounds().bottom},e.prototype.getWorldRotation=function(){return this.parent?this.rotation+this.parent.getWorldRotation():this.rotation},e.prototype.getWorldPos=function(){if(!this.parent)return this.pos.clone();var t=[],e=this;for(t.push(this);e.parent;)e=e.parent,t.push(e);var i=t.reduceRight(function(t,e){return e.parent?t+e.pos.x*e.getGlobalScale().x:t+e.pos.x},0),n=t.reduceRight(function(t,e){return e.parent?t+e.pos.y*e.getGlobalScale().y:t+e.pos.y},0),o=e.getWorldPos(),r=this.getWorldRotation();return new F(i,n).rotate(r,o)},e.prototype.getGlobalScale=function(){if(!this.parent)return new F(this.scale.x,this.scale.y);var t=this.parent.getGlobalScale();return new F(this.scale.x*t.x,this.scale.y*t.y)},e.prototype.getBounds=function(t){void 0===t&&(t=!0);var e=this._getCalculatedAnchor(),i=this.getWorldPos(),n=new Yt(i.x-e.x,i.y-e.y,i.x+this.width-e.x,i.y+this.height-e.y);return t?n.rotate(this.rotation,i):n},e.prototype.getRelativeBounds=function(t){void 0===t&&(t=!0);var e=this._getCalculatedAnchor(),i=new Yt(-e.x,-e.y,this.width-e.x,this.height-e.y);return t?i.rotate(this.rotation):i},e.prototype.getGeometry=function(){return this.getBounds(!1).getPoints()},e.prototype.getRelativeGeometry=function(){return this.getRelativeBounds(!1).getPoints()},e.prototype.contains=function(t,e,i){void 0===i&&(i=!1);var n=this.getWorldPos().sub(this.pos),o=this.body.collider.bounds.translate(n).contains(new F(t,e));return i?o||this.children.some(function(i){return i.contains(t,e,!0)}):o},e.prototype.getSideFromIntersect=function(t){return t?Math.abs(t.x)>Math.abs(t.y)?t.x<0?p.Right:p.Left:t.y<0?p.Bottom:p.Top:p.None},e.prototype.collidesWithSide=function(t){var e=this.collides(t);return e?Math.abs(e.x)>Math.abs(e.y)?this.pos.x<t.pos.x?p.Right:p.Left:this.pos.y<t.pos.y?p.Bottom:p.Top:p.None},e.prototype.collides=function(t){var e=this.body.collider.bounds,i=t.body.collider.bounds;return e.intersect(i)},e.prototype.onCollidesWith=function(t,e){this._collisionHandlers[t]||(this._collisionHandlers[t]=[]),this._collisionHandlers[t].push(e)},e.prototype.getCollisionHandlers=function(){return this._collisionHandlers},e.prototype.removeCollidesWith=function(t){this._collisionHandlers[t]=[]},e.prototype.within=function(t,e){return this.body.collider.shape.getClosestLineBetween(t.body.collider.shape).getLength()<=e},e.prototype._getCalculatedAnchor=function(){return new F(this.width*this.anchor.x,this.height*this.anchor.y)},e.prototype._reapplyEffects=function(t){t.removeEffect(this._opacityFx),t.addEffect(this._opacityFx)},e.prototype.update=function(t,e){this._initialize(t),this._preupdate(t,e),this.actionQueue.update(e),this.color&&(this.color.a=this.opacity),this.previousOpacity!==this.opacity&&(this.previousOpacity=this.opacity,this._opacityFx.opacity=this.opacity,this._effectsDirty=!0),this.body.captureOldTransform(),this.body.integrate(e);for(var i=0,n=this.traits;i<n.length;i++){n[i].update(this,t,e)}for(var o=0;o<this.children.length;o++)this.children[o].update(t,e);this._postupdate(t,e)},e.prototype.onPreUpdate=function(t,e){},e.prototype.onPostUpdate=function(t,e){},e.prototype._preupdate=function(t,e){this.emit("preupdate",new tt(t,e,this)),this.onPreUpdate(t,e)},e.prototype._postupdate=function(t,e){this.emit("postupdate",new tt(t,e,this)),this.onPostUpdate(t,e)},e.prototype.draw=function(t,e){if(t.save(),t.translate(this.pos.x,this.pos.y),t.rotate(this.rotation),t.scale(this.scale.x,this.scale.y),t.save(),t.translate(-this._width*this.anchor.x,-this._height*this.anchor.y),this._predraw(t,e),this.currentDrawing){var i=this.currentDrawing,n=(this._width-i.width*i.scale.x)*this.anchor.x,o=(this._height-i.height*i.scale.y)*this.anchor.y;this._effectsDirty&&(this._reapplyEffects(this.currentDrawing),this._effectsDirty=!1),this.currentDrawing.draw(t,n,o)}else this.color&&this.body&&this.body.collider&&this.body.collider.shape&&this.body.collider.shape.draw(t,this.color,new F(this.width*this.anchor.x,this.height*this.anchor.y));t.restore();for(var r=0;r<this.children.length;r++)this.children[r].visible&&this.children[r].draw(t,e);this._postdraw(t,e),t.restore()},e.prototype.onPreDraw=function(t,e){},e.prototype.onPostDraw=function(t,e){},e.prototype._predraw=function(t,e){this.emit("predraw",new Z(t,e,this)),this.onPreDraw(t,e)},e.prototype._postdraw=function(t,e){this.emit("postdraw",new Z(t,e,this)),this.onPostDraw(t,e)},e.prototype.debugDraw=function(t){this.emit("predebugdraw",new J(t,this)),this.body.collider.debugDraw(t);var e=this.body.collider.localBounds.translate(this.getWorldPos());e.debugDraw(t),t.fillText("id: "+this.id,e.left+3,e.top+10),t.fillStyle=At.Yellow.toString(),t.beginPath(),t.arc(this.getWorldPos().x,this.getWorldPos().y,3,0,2*Math.PI),t.closePath(),t.fill();for(var i=0;i<this.traits.length;i++)this.traits[i]instanceof We&&this.traits[i].cullingBox.debugDraw(t);t.strokeStyle=At.Yellow.toString(),t.beginPath();var n=Math.min(this.width,this.height);t.arc(this.getWorldPos().x,this.getWorldPos().y,n,0,2*Math.PI),t.closePath(),t.stroke();var o={"0 Pi":0,"Pi/2":Math.PI/2,Pi:Math.PI,"3/2 Pi":3*Math.PI/2},r=t.font;for(var s in o)t.fillStyle=At.Yellow.toString(),t.font="14px",t.textAlign="center",t.fillText(s,this.getWorldPos().x+Math.cos(o[s])*(n+10),this.getWorldPos().y+Math.sin(o[s])*(n+10));t.font=r;for(var a=0;a<this.children.length;a++)this.children[a].debugDraw(t);this.emit("postdebugdraw",new $(t,this))},e.prototype.getAncestors=function(){for(var t,e=[this],i=this;t=i.parent;)i=t,e.push(i);return e.reverse()},e.defaults={anchor:F.Half},e.maxId=0,Qe([Xt({message:"Actor.collisionArea will be removed in v0.24.0",alternateMethod:"Actor.body.collider.shape"})],e.prototype,"collisionArea",null),Qe([Xt({message:"ex.Actor.x will be removed in v0.24.0",alternateMethod:"ex.Actor.pos.x, or ex.Actor.body.pos.x"})],e.prototype,"x",null),Qe([Xt({message:"ex.Actor.y will be removed in v0.24.0",alternateMethod:"ex.Actor.pos.y, or ex.Actor.body.pos.y"})],e.prototype,"y",null),Qe([Xt({message:"ex.Actor.torque will be removed in v0.24.0",alternateMethod:"ex.Actor.body.torque"})],e.prototype,"torque",null),Qe([Xt({message:"ex.Actor.mass will be removed in v0.24.0",alternateMethod:"ex.Actor.body.collider.mass"})],e.prototype,"mass",null),Qe([Xt({message:"ex.Actor.moi will be removed in v0.24.0",alternateMethod:"ex.Actor.body.collider.inertia"})],e.prototype,"moi",null),Qe([Xt({message:"ex.Actor.friction will be removed in v0.24.0",alternateMethod:"ex.Actor.body.collider.friction"})],e.prototype,"friction",null),Qe([Xt({message:"ex.Actor.restitution will be removed in v0.24.0",alternateMethod:"ex.Actor.body.collider.bounciness"})],e.prototype,"restitution",null),Qe([Xt({message:"ex.Actor.sx will be removed in v0.24.0",alternateMethod:"Set width and height directly in constructor"})],e.prototype,"sx",null),Qe([Xt({message:"ex.Actor.sy will be removed in v0.24.0",alternateMethod:"Set width and height directly in constructor"})],e.prototype,"sy",null),Qe([Xt({message:"ex.Actor.collisionType will be removed in v0.24.0",alternateMethod:"ex.Actor.body.collider.type"})],e.prototype,"collisionType",null),Qe([Xt({message:"Legacy collision groups will be removed in v0.24.0",alternateMethod:"Actor.body.collider.collisionGroup"})],e.prototype,"addCollisionGroup",null),Qe([Xt({message:"Legacy collision groups will be removed in v0.24.0",alternateMethod:"Actor.body.collider.collisionGroup"})],e.prototype,"removeCollisionGroup",null),Qe([Xt({message:"Will be removed in v0.24.0",alternateMethod:"Actor.center"})],e.prototype,"getCenter",null),Qe([Xt({message:"Will be removed in v0.24.0",alternateMethod:"Actor.width"})],e.prototype,"getWidth",null),Qe([Xt({message:"Will be removed in v0.24.0",alternateMethod:"Actor.width"})],e.prototype,"setWidth",null),Qe([Xt({message:"Will be removed in v0.24.0",alternateMethod:"Actor.height"})],e.prototype,"getHeight",null),Qe([Xt({message:"Will be removed in v0.24.0",alternateMethod:"Actor.height"})],e.prototype,"setHeight",null),Qe([Xt({message:"Will be removed in v0.24.0",alternateMethod:"Actor.body.collider.bounds.left"})],e.prototype,"getLeft",null),Qe([Xt({message:"Will be removed in v0.24.0",alternateMethod:"Actor.body.collider.bounds.right"})],e.prototype,"getRight",null),Qe([Xt({message:"Will be removed in v0.24.0",alternateMethod:"Actor.body.collider.bounds.top"})],e.prototype,"getTop",null),Qe([Xt({message:"Will be removed in v0.24.0",alternateMethod:"Actor.body.collider.bounds.bottom"})],e.prototype,"getBottom",null),Qe([Xt({message:"Will be removed in v0.24.0",alternateMethod:"Actor.body.collider.bounds"})],e.prototype,"getBounds",null),Qe([Xt({message:"Will be removed in v0.24.0",alternateMethod:"Actor.body.collider.localBounds"})],e.prototype,"getRelativeBounds",null),Qe([Xt({message:"Will be removed in v0.24.0",alternateMethod:"Actor.body.collider.bounds.getPoints()"})],e.prototype,"getGeometry",null),Qe([Xt({message:"Will be removed in v0.24.0",alternateMethod:"Actor.body.collider.localBounds.getPoints()"})],e.prototype,"getRelativeGeometry",null),Qe([Xt({message:"Actor.getSideFromIntersect will be removed in v0.24.0",alternateMethod:"BoundingBox.sideFromIntersection"})],e.prototype,"getSideFromIntersect",null),Qe([Xt({message:"Actor.collidesWithSide will be removed in v0.24.0",alternateMethod:"Actor.bounds.intersectWithSide"})],e.prototype,"collidesWithSide",null),Qe([Xt({message:"Actor.collides will be removed  in v0.24.0",alternateMethod:"Actor.bounds.intersect or Actor."})],e.prototype,"collides",null),Qe([Xt({message:"Actor.onCollidesWIth will be removed  in v0.24.0",alternateMethod:"Actor.collider.canCollide"})],e.prototype,"onCollidesWith",null),Qe([Xt({message:"Actor.getCollisionHandlers will be removed  in v0.24.0"})],e.prototype,"getCollisionHandlers",null),Qe([Xt({message:"Actor.getCollisionHandlers will be removed  in v0.24.0"})],e.prototype,"removeCollidesWith",null),e}(St))),ti=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ei=function(t){function e(e,i,n,o){var r=this;return(r="object"!=typeof e?t.call(this,e,i,n,o)||this:t.call(this,e)||this).traits=[],r.traits.push(new He),r.anchor.setTo(0,0),r.body.collider.type=Ct.PreventCollision,r.body.collider.shape=Re.Box(r.width,r.height,r.anchor),r.enableCapturePointer=!0,r}return ti(e,t),e.prototype._initialize=function(e){this._engine=e,t.prototype._initialize.call(this,e)},e.prototype.contains=function(e,i,n){if(void 0===n&&(n=!0),n)return t.prototype.contains.call(this,e,i);var o=this._engine.worldToScreenCoordinates(new F(e,i));return t.prototype.contains.call(this,o.x,o.y)},e}($e),ii=function(){function t(e,i,n,o){if(this.id=0,this.interval=10,this.fcn=function(){},this.repeats=!1,this.maxNumberOfRepeats=-1,this._elapsedTime=0,this._totalTimeAlive=0,this._paused=!1,this._numberOfTicks=0,this.complete=!1,this.scene=null,o&&o>=0&&(this.maxNumberOfRepeats=o,!n))throw new Error("repeats must be set to true if numberOfRepeats is set");this.id=t.id++,this.interval=i||this.interval,this.fcn=e||this.fcn,this.repeats=n||this.repeats}return t.prototype.update=function(t){this._paused||(this._totalTimeAlive+=t,this._elapsedTime+=t,this.maxNumberOfRepeats>-1&&this._numberOfTicks>=this.maxNumberOfRepeats&&(this.complete=!0),!this.complete&&this._elapsedTime>=this.interval&&(this.fcn.call(this),this._numberOfTicks++,this.repeats?this._elapsedTime=0:this.complete=!0))},t.prototype.reset=function(t,e){if(t&&t>=0&&(this.interval=t),this.maxNumberOfRepeats&&this.maxNumberOfRepeats>=0&&(this.maxNumberOfRepeats=e,!this.repeats))throw new Error("repeats must be set to true if numberOfRepeats is set");this.complete=!1,this._elapsedTime=0,this._numberOfTicks=0},Object.defineProperty(t.prototype,"timesRepeated",{get:function(){return this._numberOfTicks},enumerable:!0,configurable:!0}),t.prototype.getTimeRunning=function(){return this._totalTimeAlive},t.prototype.pause=function(){this._paused=!0},t.prototype.unpause=function(){this._paused=!1},t.prototype.cancel=function(){this.scene&&this.scene.cancelTimer(this)},t.id=0,t}(),ni=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),oi=function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},ri=function(t){function e(e,i,n,o,r,s){return t.call(this,e,i,n,o,r,s)||this}return ni(e,t),e}(he(function(t){function e(e,i,n,o,r,s){var a=t.call(this)||this;if(a._collidingX=-1,a._collidingY=-1,a._onScreenXStart=0,a._onScreenXEnd=9999,a._onScreenYStart=0,a._onScreenYEnd=9999,a._spriteSheets={},a.logger=Nt.getInstance(),a.data=[],e&&"object"==typeof e){var h=e;e=h.x,i=h.y,n=h.cellWidth,o=h.cellHeight,r=h.rows,s=h.cols}a.x=e,a.y=i,a.cellWidth=n,a.cellHeight=o,a.rows=r,a.cols=s,a.data=new Array(r*s);for(var c=function(t){for(var h=function(r){var h;h=new ai(t*n+e,r*o+i,n,o,t+r*s),a.data[t+r*s]=h},c=0;c<r;c++)h(c)},u=0;u<s;u++)c(u);return a}return ni(e,t),e.prototype.on=function(e,i){t.prototype.on.call(this,e,i)},e.prototype.registerSpriteSheet=function(t,e){this._spriteSheets[t]=e},e.prototype.collides=function(t){for(var e=t.pos.x+t.width,i=t.pos.y+t.height,n=t.body.collider.bounds,o=[],r=n.left;r<=e;r+=Math.min(t.width/2,this.cellWidth/2))for(var s=n.top;s<=i;s+=Math.min(t.height/2,this.cellHeight/2)){var a=this.getCellByPoint(r,s);if(a&&a.solid){var h=n.intersect(a.bounds),c=t.center.sub(a.center);h&&h.dot(c)>0&&o.push(h)}}return 0===o.length?null:o.reduce(function(t,e){var i=t.x,n=t.y;return Math.abs(t.x)<Math.abs(e.x)&&(i=e.x),Math.abs(t.y)<Math.abs(e.y)&&(n=e.y),new F(i,n)})},e.prototype.getCellByIndex=function(t){return this.data[t]},e.prototype.getCell=function(t,e){return t<0||e<0||t>=this.cols||e>=this.rows?null:this.data[t+e*this.cols]},e.prototype.getCellByPoint=function(t,e){t=Math.floor((t-this.x)/this.cellWidth),e=Math.floor((e-this.y)/this.cellHeight);var i=this.getCell(t,e);return t>=0&&e>=0&&t<this.cols&&e<this.rows&&i?i:null},e.prototype.update=function(t,e){this.emit("preupdate",new tt(t,e,this));var i=t.screenToWorldCoordinates(new F(0,0)),n=t.screenToWorldCoordinates(new F(t.canvas.clientWidth,t.canvas.clientHeight));this._onScreenXStart=Math.max(Math.floor((i.x-this.x)/this.cellWidth)-2,0),this._onScreenYStart=Math.max(Math.floor((i.y-this.y)/this.cellHeight)-2,0),this._onScreenXEnd=Math.max(Math.floor((n.x-this.x)/this.cellWidth)+2,0),this._onScreenYEnd=Math.max(Math.floor((n.y-this.y)/this.cellHeight)+2,0),this.emit("postupdate",new et(t,e,this))},e.prototype.draw=function(t,e){this.emit("predraw",new Z(t,e,this)),t.save(),t.translate(this.x,this.y);for(var i,n,o,r=this._onScreenXStart,s=Math.min(this._onScreenXEnd,this.cols),a=this._onScreenYStart,h=Math.min(this._onScreenYEnd,this.rows);r<s;r++){for(;a<h;a++)for(n=0,o=(i=this.getCell(r,a).sprites.filter(function(t){return t.spriteId>-1})).length;n<o;n++){var c=this._spriteSheets[i[n].spriteSheetKey];if(c){var u=c.getSprite(i[n].spriteId);u?u.draw(t,r*this.cellWidth,a*this.cellHeight):this.logger.warn("Sprite does not exist for id",i[n].spriteId,"in sprite sheet",i[n].spriteSheetKey,u,c)}else this.logger.warn("Sprite sheet",i[n].spriteSheetKey,"does not exist",c)}a=this._onScreenYStart}t.restore(),this.emit("postdraw",new Q(t,e,this))},e.prototype.debugDraw=function(t){var e=this.cols*this.cellWidth,i=this.rows*this.cellHeight;t.save(),t.strokeStyle=At.Red.toString();for(var n=0;n<this.cols+1;n++)t.beginPath(),t.moveTo(this.x+n*this.cellWidth,this.y),t.lineTo(this.x+n*this.cellWidth,this.y+i),t.stroke();for(var o=0;o<this.rows+1;o++)t.beginPath(),t.moveTo(this.x,this.y+o*this.cellHeight),t.lineTo(this.x+e,this.y+o*this.cellHeight),t.stroke();var r=At.Red;r.a=.3,this.data.filter(function(t){return t.solid}).forEach(function(e){t.fillStyle=r.toString(),t.fillRect(e.x,e.y,e.width,e.height)}),this._collidingY>-1&&this._collidingX>-1&&(t.fillStyle=At.Cyan.toString(),t.fillRect(this.x+this._collidingX*this.cellWidth,this.y+this._collidingY*this.cellHeight,this.cellWidth,this.cellHeight)),t.restore()},e}(St))),si=function(){return function(t,e){this.spriteSheetKey=t,this.spriteId=e}}(),ai=function(t){function e(e,i,n,o,r,s,a){return t.call(this,e,i,n,o,r,s,a)||this}return ni(e,t),e}(he(function(){function t(t,e,i,n,o,r,s){if(void 0===r&&(r=!1),void 0===s&&(s=[]),this.solid=!1,this.sprites=[],t&&"object"==typeof t){var a=t;t=a.x,e=a.y,i=a.width,n=a.height,o=a.index,r=a.solid,s=a.sprites}this.x=t,this.y=e,this.width=i,this.height=n,this.index=o,this.solid=r,this.sprites=s,this._bounds=new Yt(this.x,this.y,this.x+this.width,this.y+this.height)}return t.prototype.getBounds=function(){return this._bounds},Object.defineProperty(t.prototype,"bounds",{get:function(){return this._bounds},enumerable:!0,configurable:!0}),t.prototype.getCenter=function(){return new F(this.x+this.width/2,this.y+this.height/2)},Object.defineProperty(t.prototype,"center",{get:function(){return new F(this.x+this.width/2,this.y+this.height/2)},enumerable:!0,configurable:!0}),t.prototype.pushSprite=function(t){this.sprites.push(t)},t.prototype.removeSprite=function(t){var e;(e=this.sprites.indexOf(t))>-1&&this.sprites.splice(e,1)},t.prototype.clearSprites=function(){this.sprites.length=0},oi([Xt({message:"Will be removed in v0.24.0",alternateMethod:"BoundingBox.bounds"})],t.prototype,"getBounds",null),oi([Xt({message:"Will be removed in v0.24.0",alternateMethod:"BoundingBox.center"})],t.prototype,"getCenter",null),t}())),hi=function(){function t(){}return t.create=function(){return this._INSTANCE||(window.AudioContext||window.webkitAudioContext)&&(this._INSTANCE=new window.AudioContext),this._INSTANCE},t._INSTANCE=null,t}();var ci,ui=function(){function t(){}return t.unlock=function(){var e=new d;if(t._unlocked||!hi.create())return e.resolve(!0);var i=setTimeout(function(){Nt.getInstance().warn("Excalibur was unable to unlock the audio context, audio probably will not play in this browser."),e.resolve()},200),n=hi.create();return n.resume().then(function(){var o=n.createBuffer(1,1,22050),r=n.createBufferSource(),s=!1;r.buffer=o,r.connect(n.destination),r.onended=function(){return s=!0},r.noteOn?r.noteOn(0):r.start(0),setTimeout(function(){!function(t){return!!t.playbackState}(r)?(n.currentTime>0||s)&&(t._unlocked=!0):r.playbackState!==r.PLAYING_STATE&&r.playbackState!==r.FINISHED_STATE||(t._unlocked=!0)},0),clearTimeout(i),e.state()===c.Pending&&e.resolve()},function(){e.state()===c.Pending&&e.reject(!1)}),e},t.isUnlocked=function(){return this._unlocked},t._unlocked=!1,t}(),li=i(1),pi=i.n(li),di=i(2),fi=i.n(di),gi=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),yi=function(t){function e(e){var i=t.call(this)||this;return i._resourceList=[],i._index=0,i._playButtonShown=!1,i._resourceCount=0,i._numLoaded=0,i._progressCounts={},i._totalCounts={},i.logo=pi.a,i.logoWidth=468,i.logoHeight=118,i.backgroundColor="#176BAA",i.suppressPlayButton=!1,i._playButtonStyles=fi.a.toString(),i.playButtonText="Play game",i.startButtonFactory=function(){var t=document.createElement("button");return t.id="excalibur-play",t.textContent=i.playButtonText,t.style.display="none",t},i.getData=function(){},i.setData=function(){},i.processData=function(){},i.onprogress=function(t){Nt.getInstance().debug("[ex.Loader] Loading "+(100*t.loaded/t.total).toFixed(0))},i.oncomplete=function(){},i.onerror=function(){},e&&i.addResources(e),i}return gi(e,t),Object.defineProperty(e.prototype,"_image",{get:function(){return this._imageElement||(this._imageElement=new Image,this._imageElement.src=this.logo),this._imageElement},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_playButton",{get:function(){return this._playButtonRootElement||(this._playButtonRootElement=document.createElement("div"),this._playButtonRootElement.style.position="absolute",document.body.appendChild(this._playButtonRootElement)),this._styleBlock||(this._styleBlock=document.createElement("style"),this._styleBlock.textContent=this._playButtonStyles,document.head.appendChild(this._styleBlock)),this._playButtonElement||(this._playButtonElement=this.startButtonFactory(),this._playButtonRootElement.appendChild(this._playButtonElement)),this._playButtonElement},enumerable:!0,configurable:!0}),e.prototype.wireEngine=function(t){this._engine=t},e.prototype.addResource=function(t){var e=this._index++;this._resourceList.push(t),this._progressCounts[e]=0,this._totalCounts[e]=1,this._resourceCount++},e.prototype.addResources=function(t){for(var e=0,i=t.length;e<i;e++)this.addResource(t[e])},e.prototype.isLoaded=function(){return this._numLoaded===this._resourceCount},e.prototype.showPlayButton=function(){if(this.suppressPlayButton)return d.resolve();this._playButtonShown=!0,this._playButton.style.display="block";var t=new d;return this._playButton.addEventListener("click",function(){return t.state()===c.Pending?t.resolve():t}),this._playButton.addEventListener("touchend",function(){return t.state()===c.Pending?t.resolve():t}),this._playButton.addEventListener("pointerup",function(){return t.state()===c.Pending?t.resolve():t}),t},e.prototype.hidePlayButton=function(){this._playButtonShown=!1,this._playButton.style.display="none"},e.prototype.load=function(){var t=this,e=new d,i=this;if(0===this._resourceList.length)return i.showPlayButton().then(function(){ui.unlock().then(function(){i.hidePlayButton(),i.oncomplete.call(i),e.resolve()})}),e;var n=new Array(this._resourceList.length),o=this._resourceList.length;return this._resourceList.forEach(function(r,s){t._engine&&r.wireEngine(t._engine),r.onprogress=function(t){var e=t.total,r=t.loaded;n[s]={loaded:r/e*(100/o),total:100};var a=n.reduce(function(t,e){return{loaded:t.loaded+e.loaded,total:100}},{loaded:0,total:100});i.onprogress.call(i,a)},r.oncomplete=r.onerror=function(){i._numLoaded++,i._numLoaded===i._resourceCount&&setTimeout(function(){i.showPlayButton().then(function(){ui.unlock().then(function(){i.hidePlayButton(),i.oncomplete.call(i),e.resolve()})})},200)}}),function t(e,i){e[i]&&e[i].load().then(function(){t(e,i+1)})}(this._resourceList,0),e},e.prototype.draw=function(t){var e=this._engine.canvasHeight/this._engine.pixelRatio,i=this._engine.canvasWidth/this._engine.pixelRatio;if(this._playButtonRootElement){var n=t.canvas.offsetLeft,o=t.canvas.offsetTop,r=this._playButton.clientWidth,s=this._playButton.clientHeight;this._playButtonRootElement.style.left=n+i/2-r/2+"px",this._playButtonRootElement.style.top=o+e/2-s/2+100+"px"}t.fillStyle=this.backgroundColor,t.fillRect(0,0,i,e);var a=e/2,h=Math.min(this.logoWidth,.75*i),c=i/2-h/2,u=Math.floor(h*(this.logoHeight/this.logoWidth)),l=this._engine.getAntialiasing();if(this._engine.setAntialiasing(!0),t.drawImage(this._image,0,0,this.logoWidth,this.logoHeight,c,a-u-20,h,u),this.suppressPlayButton||!this._playButtonShown){t.lineWidth=2,qe(t,c,a,h,20,10);var p=h*(this._numLoaded/this._resourceCount)-10;qe(t,c+5,a+5,p>0?p:0,10,5,null,At.White),this._engine.setAntialiasing(l)}else this._engine.setAntialiasing(l)},e.prototype.update=function(t,e){},e}(St),_i={webgl:"WebGL",webaudio:"WebAudio",gamepadapi:"Gamepad API"},vi=function(){function t(){this._features=null,this.failedTests=[],this._criticalTests={canvasSupport:function(){var t=document.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))},arrayBufferSupport:function(){var t=new XMLHttpRequest;t.open("GET","/");try{t.responseType="arraybuffer"}catch(t){return!1}return"arraybuffer"===t.responseType},dataUrlSupport:function(){return 0===document.createElement("canvas").toDataURL("image/png").indexOf("data:image/png")},objectUrlSupport:function(){return"URL"in window&&"revokeObjectURL"in URL&&"createObjectURL"in URL},rgbaSupport:function(){var t=document.createElement("a").style;return t.cssText="background-color:rgba(150,255,150,.5)",(""+t.backgroundColor).indexOf("rgba")>-1}},this._warningTest={webAudioSupport:function(){return!!(window.AudioContext||window.webkitAudioContext||window.mozAudioContext||window.msAudioContext||window.oAudioContext)},webglSupport:function(){var t=document.createElement("canvas");return!(!t.getContext||!t.getContext("webgl"))}},this._features=this._loadBrowserFeatures()}return t.prototype.getBrowserFeatures=function(){return null===this._features&&(this._features=this._loadBrowserFeatures()),this._features},t.prototype.logBrowserFeatures=function(){for(var t="%cSUPPORTED BROWSER FEATURES\n==========================%c\n",e=["font-weight: bold; color: navy","font-weight: normal; color: inherit"],i=this.getBrowserFeatures(),n=0,o=Object.keys(_i);n<o.length;n++){var r=o[n];i[r]?(t+="(%c✓%c)",e.push("font-weight: bold; color: green"),e.push("font-weight: normal; color: inherit")):(t+="(%c✗%c)",e.push("font-weight: bold; color: red"),e.push("font-weight: normal; color: inherit")),t+=" "+_i[r]+"\n"}e.unshift(t),console.log.apply(console,e)},t.prototype._loadBrowserFeatures=function(){var t=this;return{canvas:t._criticalTests.canvasSupport(),arraybuffer:t._criticalTests.arrayBufferSupport(),dataurl:t._criticalTests.dataUrlSupport(),objecturl:t._criticalTests.objectUrlSupport(),rgba:t._criticalTests.rgbaSupport(),webaudio:t._warningTest.webAudioSupport(),webgl:t._warningTest.webglSupport(),gamepadapi:!!navigator.getGamepads}},t.prototype.test=function(){var t=!1;for(var e in this._criticalTests)this._criticalTests[e].call(this)||(this.failedTests.push(e),Nt.getInstance().error("Critical browser feature missing, Excalibur requires:",e),t=!0);if(t)return!1;for(var i in this._warningTest)this._warningTest[i]()||Nt.getInstance().warn("Warning browser feature missing, Excalibur will have reduced performance:",i);return!0},t}(),mi=function(){function t(t){this.parent=t,this.parent=t||null,this.body=null,this.bounds=new Yt,this.left=null,this.right=null,this.height=0}return t.prototype.isLeaf=function(){return!this.left&&!this.right},t}(),bi=function(){function t(t){void 0===t&&(t=new Yt(-Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE)),this.worldBounds=t,this.root=null,this.nodes={}}return t.prototype._insert=function(t){if(null===this.root)return this.root=t,void(this.root.parent=null);for(var e=t.bounds,i=this.root;!i.isLeaf();){var n=i.left,o=i.right,r=i.bounds.getPerimeter(),s=i.bounds.combine(e).getPerimeter(),a=2*s,h=2*(s-r),c=0,u=e.combine(n.bounds),l=void 0;n.isLeaf()?c=u.getPerimeter()+h:(l=n.bounds.getPerimeter(),c=u.getPerimeter()-l+h);var p=0,d=e.combine(o.bounds);if(o.isLeaf()?p=d.getPerimeter()+h:(l=o.bounds.getPerimeter(),p=d.getPerimeter()-l+h),a<c&&a<p)break;i=c<p?n:o}var f=i.parent,g=new mi(f);g.bounds=e.combine(i.bounds),g.height=i.height+1,null!==f?(f.left===i?f.left=g:f.right=g,g.left=i,g.right=t,i.parent=g,t.parent=g):(g.left=i,g.right=t,i.parent=g,t.parent=g,this.root=g);for(var y=t.parent;y;){if(!(y=this._balance(y)).left)throw new Error("Parent of current leaf cannot have a null left child"+y);if(!y.right)throw new Error("Parent of current leaf cannot have a null right child"+y);y.height=1+Math.max(y.left.height,y.right.height),y.bounds=y.left.bounds.combine(y.right.bounds),y=y.parent}},t.prototype._remove=function(t){if(t!==this.root){var e,i=t.parent,n=i.parent;if(e=i.left===t?i.right:i.left,n){n.left===i?n.left=e:n.right=e,e.parent=n;for(var o=n;o;)(o=this._balance(o)).bounds=o.left.bounds.combine(o.right.bounds),o.height=1+Math.max(o.left.height,o.right.height),o=o.parent}else this.root=e,e.parent=null}else this.root=null},t.prototype.trackBody=function(t){var e=new mi;e.body=t,e.bounds=t.collider.bounds,e.bounds.left-=2,e.bounds.top-=2,e.bounds.right+=2,e.bounds.bottom+=2,this.nodes[t.id]=e,this._insert(e)},t.prototype.updateBody=function(t){var e=this.nodes[t.id];if(!e)return!1;var i=t.collider.bounds;if(!this.worldBounds.contains(i))return Nt.getInstance().warn("Collider with id "+t.id+" is outside the world bounds and will no longer be tracked for physics"),this.untrackBody(t),!1;if(e.bounds.contains(i))return!1;this._remove(e),i.left-=Tt.boundsPadding,i.top-=Tt.boundsPadding,i.right+=Tt.boundsPadding,i.bottom+=Tt.boundsPadding;var n=t.vel.x*Tt.dynamicTreeVelocityMultiplyer,o=t.vel.y*Tt.dynamicTreeVelocityMultiplyer;return n<0?i.left+=n:i.right+=n,o<0?i.top+=o:i.bottom+=o,e.bounds=i,this._insert(e),!0},t.prototype.untrackBody=function(t){var e=this.nodes[t.collider.id];e&&(this._remove(e),this.nodes[t.collider.id]=null,delete this.nodes[t.collider.id])},t.prototype._balance=function(t){if(null===t)throw new Error("Cannot balance at null node");if(t.isLeaf()||t.height<2)return t;var e=t.left,i=t.right,n=t,o=e,r=i,s=e.left,a=e.right,h=i.left,c=i.right,u=r.height-o.height;if(u>1)return r.left=n,r.parent=n.parent,n.parent=r,r.parent?r.parent.left===n?r.parent.left=r:r.parent.right=r:this.root=r,h.height>c.height?(r.right=h,n.right=c,c.parent=n,n.bounds=o.bounds.combine(c.bounds),r.bounds=n.bounds.combine(h.bounds),n.height=1+Math.max(o.height,c.height),r.height=1+Math.max(n.height,h.height)):(r.right=c,n.right=h,h.parent=n,n.bounds=o.bounds.combine(h.bounds),r.bounds=n.bounds.combine(c.bounds),n.height=1+Math.max(o.height,h.height),r.height=1+Math.max(n.height,c.height)),r;if(u<-1){if(o.left=n,o.parent=n.parent,n.parent=o,o.parent)if(o.parent.left===n)o.parent.left=o;else{if(o.parent.right!==n)throw"Error rotating Dynamic Tree";o.parent.right=o}else this.root=o;return s.height>a.height?(o.right=s,n.left=a,a.parent=n,n.bounds=r.bounds.combine(a.bounds),o.bounds=n.bounds.combine(s.bounds),n.height=1+Math.max(r.height,a.height),o.height=1+Math.max(n.height,s.height)):(o.right=a,n.left=s,s.parent=n,n.bounds=r.bounds.combine(s.bounds),o.bounds=n.bounds.combine(a.bounds),n.height=1+Math.max(r.height,s.height),o.height=1+Math.max(n.height,a.height)),o}return t},t.prototype.getHeight=function(){return null===this.root?0:this.root.height},t.prototype.query=function(t,e){var i=t.collider.bounds,n=function(o){if(o&&o.bounds.intersect(i)){if(!o.isLeaf()||o.body===t)return n(o.left)||n(o.right);if(e.call(t,o.body))return!0}return!1};n(this.root)},t.prototype.rayCastQuery=function(t,e,i){void 0===e&&(e=1/0);var n=function(o){if(o&&o.bounds.rayCast(t,e)){if(!o.isLeaf())return n(o.left)||n(o.right);if(i.call(t,o.body))return!0}return!1};n(this.root)},t.prototype.getNodes=function(){var t=function(e){return e?[e].concat(t(e.left),t(e.right)):[]};return t(this.root)},t.prototype.debugDraw=function(t){var e=function(i){i&&(i.isLeaf()?(t.lineWidth=1,t.strokeStyle="green"):(t.lineWidth=1,t.strokeStyle="white"),i.bounds.debugDraw(t),i.left&&e(i.left),i.right&&e(i.right))};e(this.root)},t}(),wi=function(){function t(){this._dynamicCollisionTree=new bi,this._collisionHash={},this._collisionPairCache=[],this._lastFramePairs=[],this._lastFramePairsHash={}}return t.prototype.track=function(t){t?this._dynamicCollisionTree.trackBody(t):Nt.getInstance().warn("Cannot track null physics body")},t.prototype.untrack=function(t){t?this._dynamicCollisionTree.untrackBody(t):Nt.getInstance().warn("Cannot untrack a null physics body")},t.prototype._shouldGenerateCollisionPair=function(t,e){var i=Xe.calculatePairHash(t,e);return!this._collisionHash[i]&&Xe.canCollide(t,e)},t.prototype.broadphase=function(t,e,i){var n,o=this,r=e/1e3,s=t.map(function(t){return t.collider}).filter(function(t){return t.active&&t.type!==Ct.PreventCollision});this._collisionPairCache=[],this._collisionHash={};for(var a=0,h=s.length;a<h;a++)n=s[a],this._dynamicCollisionTree.query(n.body,function(t){if(o._shouldGenerateCollisionPair(n,t.collider)){var e=new Xe(n,t.collider);o._collisionHash[e.id]=!0,o._collisionPairCache.push(e)}return!1});if(i&&(i.physics.pairs=this._collisionPairCache.length),Tt.checkForFastBodies)for(var c=function(t){if(t.type!==Ct.Active)return"continue";var e=t.body.vel.magnitude()*r+.5*t.body.acc.magnitude()*r*r,n=Math.min(t.bounds.height,t.bounds.width);if(Tt.disableMinimumSpeedForFastBody||e>n/2){i&&i.physics.fastBodies++;var o,s=t.body.pos.sub(t.body.oldPos),a=t.shape.center,h=t.shape.getFurthestPoint(t.body.vel),c=h.sub(s),l=new j(c,t.body.vel);l.pos=l.pos.add(l.dir.scale(-2*Tt.surfaceEpsilon));var p=new F(1/0,1/0);if(u._dynamicCollisionTree.rayCastQuery(l,e+2*Tt.surfaceEpsilon,function(i){if(t.body!==i&&i.collider.shape&&Xe.canCollide(t,i.collider)){var n=i.collider.shape.rayCast(l,e+10*Tt.surfaceEpsilon);if(n){var r=n.sub(c);r.magnitude()<p.magnitude()&&(p=r,o=i)}}return!1}),o&&F.isValid(p)){var d=new Xe(t,o.collider);u._collisionHash[d.id]||(u._collisionHash[d.id]=!0,u._collisionPairCache.push(d));var f=a.sub(h);t.body.pos=c.add(f).add(p).add(l.dir.scale(2*Tt.surfaceEpsilon)),t.shape.recalc(),i&&i.physics.fastBodyCollisions++}}},u=this,l=0,p=s;l<p.length;l++){c(p[l])}return this._collisionPairCache},t.prototype.narrowphase=function(t,e){for(var i=0;i<t.length;i++)t[i].collide(),e&&t[i].collision&&(e.physics.collisions++,e.physics.collidersHash[t[i].id]=t[i]);return t.filter(function(t){return t.collision})},t.prototype.resolve=function(t,e,i){for(var n=0,o=t;n<o.length;n++){var r=o[n];r.resolve(i),r.collision&&(r.colliderA.body.applyMtv(),r.colliderB.body.applyMtv(),r.colliderA.body.integrate(e*Tt.collisionShift),r.colliderB.body.integrate(e*Tt.collisionShift))}return t.filter(function(t){return t.canCollide})},t.prototype.runCollisionStartEnd=function(t){for(var e={},i=0,n=t;i<n.length;i++){if(e[(h=n[i]).id]=h,!this._lastFramePairsHash[h.id]){var o=h.colliderA,r=h.colliderB;o.emit("collisionstart",new ft(o,r,h)),r.emit("collisionstart",new ft(r,o,h))}}for(var s=0,a=this._lastFramePairs;s<a.length;s++){var h;if(!e[(h=a[s]).id]){o=h.colliderA,r=h.colliderB;o.emit("collisionend",new gt(o,r)),r.emit("collisionend",new gt(r,o))}}this._lastFramePairs=t,this._lastFramePairsHash=e},t.prototype.update=function(t){for(var e=0,i=t.length,n=0;n<i;n++)this._dynamicCollisionTree.updateBody(t[n])&&e++;return e},t.prototype.debugDraw=function(t){if(Tt.broadphaseDebug&&this._dynamicCollisionTree.debugDraw(t),Tt.showContacts||Tt.showCollisionNormals)for(var e=0,i=this._collisionPairCache;e<i.length;e++){i[e].debugDraw(t)}},t}(),xi=function(){function t(t){this._getComparable=t}return t.prototype.find=function(t){return this._find(this._root,t)},t.prototype._find=function(t,e){return null!=t&&(this._getComparable.call(e)===t.getKey()?t.getData().indexOf(e)>-1:this._getComparable.call(e)<t.getKey()?this._find(t.getLeft(),e):this._find(t.getRight(),e))},t.prototype.get=function(t){return this._get(this._root,t)},t.prototype._get=function(t,e){return null==t?[]:e===t.getKey()?t.getData():e<t.getKey()?this._get(t.getLeft(),e):this._get(t.getRight(),e)},t.prototype.add=function(t){return null==this._root?(this._root=new Pi(this._getComparable.call(t),[t],null,null),!0):this._insert(this._root,t)},t.prototype._insert=function(t,e){return null!=t&&(this._getComparable.call(e)===t.getKey()?!(t.getData().indexOf(e)>-1)&&(t.getData().push(e),!0):this._getComparable.call(e)<t.getKey()?null==t.getLeft()?(t.setLeft(new Pi(this._getComparable.call(e),[e],null,null)),!0):this._insert(t.getLeft(),e):null==t.getRight()?(t.setRight(new Pi(this._getComparable.call(e),[e],null,null)),!0):this._insert(t.getRight(),e))},t.prototype.removeByComparable=function(t){this._root=this._remove(this._root,t)},t.prototype._remove=function(t,e){if(null==t)return null;if(this._getComparable.call(e)!==t.getKey())return this._getComparable.call(e)<t.getKey()?(t.setLeft(this._remove(t.getLeft(),e)),t):(t.setRight(this._remove(t.getRight(),e)),t);var i=t.getData().indexOf(e);if(i>-1){if(t.getData().splice(i,1),0===t.getData().length){if(null==t.getLeft()&&null==t.getRight())return null;if(null==t.getLeft())return t.getRight();if(null==t.getRight())return t.getLeft();var n=this._findMinNode(t.getRight());return t.setKey(n.getKey()),t.setData(n.getData()),t.setRight(this._cleanup(t.getRight(),n)),t}return t}return null},t.prototype._cleanup=function(t,e){var i=e.getKey();if(null==t)return null;if(i===t.getKey()){if(null==t.getLeft()&&null==t.getRight())return null;if(null==t.getLeft())return t.getRight();if(null==t.getRight())return t.getLeft();var n=this._findMinNode(t.getRight());return t.setKey(n.getKey()),t.setData(n.getData()),t.setRight(this._cleanup(t.getRight(),n)),t}return this._getComparable.call(e)<t.getKey()?(t.setLeft(this._cleanup(t.getLeft(),e)),t):(t.setRight(this._cleanup(t.getRight(),e)),t)},t.prototype._findMinNode=function(t){for(var e=t;null!=e.getLeft();)e=e.getLeft();return e},t.prototype.list=function(){var t=new Array;return this._list(this._root,t),t},t.prototype._list=function(t,e){null!=t&&(this._list(t.getLeft(),e),t.getData().forEach(function(t){e.push(t)}),this._list(t.getRight(),e))},t}(),Pi=function(){function t(t,e,i,n){this._key=t,this._data=e,this._left=i,this._right=n}return t.prototype.getKey=function(){return this._key},t.prototype.setKey=function(t){this._key=t},t.prototype.getData=function(){return this._data},t.prototype.setData=function(t){this._data=t},t.prototype.getLeft=function(){return this._left},t.prototype.setLeft=function(t){this._left=t},t.prototype.getRight=function(){return this._right},t.prototype.setRight=function(t){this._right=t},t}(),Si=function(){function t(t){this._key=0,this._key=t}return t.prototype.getTheKey=function(){return this._key},t.prototype.setKey=function(t){this._key=t},t}(),Ai=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Ei=function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Ci=function(t){function e(e,i){var n=t.call(this)||this;(n.name=e,n.scene=i,n._logger=Nt.getInstance(),n._members=[],n.actions=new ke,null==i)?n._logger.error("Invalid constructor arguments passed to Group: ",e,", scene must not be null!"):(i.groups[e]&&n._logger.warn("Group with name",e,"already exists. This new group will replace it."),i.groups[e]=n);return n}return Ai(e,t),e.prototype.add=function(t){t instanceof $e&&(t=[].concat(t));for(var e=t.length,i=0;i<e;i++)-1===this.getMembers().indexOf(t[i])&&(this._members.push(t[i]),this.scene.add(t[i]),this.actions.addActorToContext(t[i]),this.eventDispatcher.wire(t[i].eventDispatcher))},e.prototype.remove=function(t){var e=this._members.indexOf(t);e>-1&&(this._members.splice(e,1),this.actions.removeActorFromContext(t),this.eventDispatcher.unwire(t.eventDispatcher))},e.prototype.move=function(t){var e=this.getMembers(),i=e.length;if(1===arguments.length&&t instanceof F)for(var n=0;n<i;n++)e[n].pos.x+=t.x,e[n].pos.y+=t.y;else if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var o=arguments[0],r=arguments[1];for(n=0;n<i;n++)e[n].pos.x+=o,e[n].pos.y+=r}else this._logger.error("Invalid arguments passed to group move",this.name,"args:",arguments)},e.prototype.rotate=function(t){if("number"==typeof t)for(var e=0,i=this.getMembers();e<i.length;e++){i[e].rotation+=t}else this._logger.error("Invalid arguments passed to group rotate",this.name,"args:",arguments)},e.prototype.on=function(t,e){this.eventDispatcher.on(t,e)},e.prototype.off=function(t,e){this.eventDispatcher.off(t,e)},e.prototype.emit=function(t,e){this.eventDispatcher.emit(t,e)},e.prototype.contains=function(t){return this.getMembers().indexOf(t)>-1},e.prototype.getMembers=function(){return this._members},e.prototype.getRandomMember=function(){return this._members[Math.floor(Math.random()*this._members.length)]},e.prototype.getBounds=function(){return this.getMembers().map(function(t){return t.getBounds()}).reduce(function(t,e){return t.combine(e)})},e=Ei([Xt({message:"ex.Group will be deprecated in v0.24.0",alternateMethod:"Use ex.CollisionGroupManager"})],e)}(St),Ti=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Mi=function(){function t(t){this.camera=t}return t.prototype.lockToActor=function(t){this.camera.addStrategy(new Ri(t))},t.prototype.lockToActorAxis=function(t,e){this.camera.addStrategy(new Fi(t,e))},t.prototype.elasticToActor=function(t,e,i){this.camera.addStrategy(new ji(t,e,i))},t.prototype.radiusAroundActor=function(t,e){this.camera.addStrategy(new Li(t,e))},t}();!function(t){t[t.X=0]="X",t[t.Y=1]="Y"}(ci||(ci={}));var Oi,Bi,Di,ki,Ri=function(){return function(t){this.target=t,this.action=function(t,e,i,n){return t.center}}}(),Fi=function(){return function(t,e){var i=this;this.target=t,this.axis=e,this.action=function(t,e,n,o){var r=t.center,s=e.getFocus();return i.axis===ci.X?new F(r.x,s.y):new F(s.x,r.y)}}}(),ji=function(){return function(t,e,i){var n=this;this.target=t,this.cameraElasticity=e,this.cameraFriction=i,this.action=function(t,e,i,o){var r=t.center,s=e.getFocus(),a=new F(e.dx,e.dy),h=r.sub(s).scale(n.cameraElasticity),c=(a=a.add(h)).scale(-1).scale(n.cameraFriction);return a=a.add(c),s=s.add(a)}}}(),Li=function(){return function(t,e){var i=this;this.target=t,this.radius=e,this.action=function(t,e,n,o){var r=t.center,s=e.getFocus(),a=r.sub(s),h=a.magnitude();if(h>=i.radius){var c=h-i.radius;return s.add(a.normalize().scale(c))}return s}}}(),Ii=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._cameraStrategies=[],e.strategy=new Mi(e),e.z=1,e.dx=0,e.dy=0,e.dz=0,e.ax=0,e.ay=0,e.az=0,e.rotation=0,e.rx=0,e._x=0,e._y=0,e._cameraMoving=!1,e._currentLerpTime=0,e._lerpDuration=1e3,e._lerpStart=null,e._lerpEnd=null,e._isShaking=!1,e._shakeMagnitudeX=0,e._shakeMagnitudeY=0,e._shakeDuration=0,e._elapsedShakeTime=0,e._xShake=0,e._yShake=0,e._isZooming=!1,e._zoomStart=1,e._zoomEnd=1,e._currentZoomTime=0,e._zoomDuration=0,e._zoomEasing=De.EaseInOutCubic,e._easing=De.EaseInOutCubic,e._isInitialized=!1,e}return Ti(e,t),Object.defineProperty(e.prototype,"x",{get:function(){return this._x},set:function(t){this._follow||this._cameraMoving||(this._x=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(t){this._follow||this._cameraMoving||(this._y=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pos",{get:function(){return new F(this.x,this.y)},set:function(t){this.x=t.x,this.y=t.y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"vel",{get:function(){return new F(this.dx,this.dy)},set:function(t){this.dx=t.x,this.dy=t.y},enumerable:!0,configurable:!0}),e.prototype.getFocus=function(){return new F(this.x,this.y)},e.prototype.move=function(t,e,i){if(void 0===i&&(i=De.EaseInOutCubic),"function"!=typeof i)throw"Please specify an EasingFunction";return this._follow?(new d).reject(t):(this._lerpPromise&&this._lerpPromise.state()===c.Pending&&this._lerpPromise.resolve(t),this._lerpPromise=new d,this._lerpStart=this.getFocus().clone(),this._lerpDuration=e,this._lerpEnd=t,this._currentLerpTime=0,this._cameraMoving=!0,this._easing=i,this._lerpPromise)},e.prototype.shake=function(t,e,i){this._isShaking=!0,this._shakeMagnitudeX=t,this._shakeMagnitudeY=e,this._shakeDuration=i},e.prototype.zoom=function(t,e,i){return void 0===e&&(e=0),void 0===i&&(i=De.EaseInOutCubic),this._zoomPromise=new d,e?(this._isZooming=!0,this._zoomEasing=i,this._currentZoomTime=0,this._zoomDuration=e,this._zoomStart=this.z,this._zoomEnd=t):(this._isZooming=!1,this.z=t,this._zoomPromise.resolve(!0)),this._zoomPromise},e.prototype.getZoom=function(){return this.z},Object.defineProperty(e.prototype,"viewport",{get:function(){if(this._engine){var t=this._engine.halfDrawWidth,e=this._engine.halfDrawHeight;return new Yt(this.x-t,this.y-e,this.x+t,this.y+e)}return new Yt(0,0,0,0)},enumerable:!0,configurable:!0}),e.prototype.addStrategy=function(t){this._cameraStrategies.push(t)},e.prototype.removeStrategy=function(t){E(t,this._cameraStrategies)},e.prototype.clearAllStrategies=function(){this._cameraStrategies.length=0},e.prototype._preupdate=function(t,e){this.emit("preupdate",new tt(t,e,this)),this.onPreUpdate(t,e)},e.prototype.onPreUpdate=function(t,e){},e.prototype._postupdate=function(t,e){this.emit("postupdate",new et(t,e,this)),this.onPostUpdate(t,e)},e.prototype.onPostUpdate=function(t,e){},Object.defineProperty(e.prototype,"isInitialized",{get:function(){return this._isInitialized},enumerable:!0,configurable:!0}),e.prototype._initialize=function(e){this.isInitialized||(this.onInitialize(e),t.prototype.emit.call(this,"initialize",new yt(e,this)),this._isInitialized=!0,this._engine=e)},e.prototype.onInitialize=function(t){},e.prototype.on=function(e,i){t.prototype.on.call(this,e,i)},e.prototype.off=function(e,i){t.prototype.off.call(this,e,i)},e.prototype.once=function(e,i){t.prototype.once.call(this,e,i)},e.prototype.update=function(t,e){if(this._initialize(t),this._preupdate(t,e),this._x+=this.dx*e/1e3,this._y+=this.dy*e/1e3,this.z+=this.dz*e/1e3,this.dx+=this.ax*e/1e3,this.dy+=this.ay*e/1e3,this.dz+=this.az*e/1e3,this.rotation+=this.rx*e/1e3,this._isZooming)if(this._currentZoomTime<this._zoomDuration){var i=(0,this._zoomEasing)(this._currentZoomTime,this._zoomStart,this._zoomEnd,this._zoomDuration);this.z=i,this._currentZoomTime+=e}else this._isZooming=!1,this.z=this._zoomEnd,this._currentZoomTime=0,this._zoomPromise.resolve(!0);if(this._cameraMoving)if(this._currentLerpTime<this._lerpDuration){var n=De.CreateVectorEasingFunction(this._easing)(this._currentLerpTime,this._lerpStart,this._lerpEnd,this._lerpDuration);this._x=n.x,this._y=n.y,this._currentLerpTime+=e}else{this._x=this._lerpEnd.x,this._y=this._lerpEnd.y;var o=this._lerpEnd.clone();this._lerpStart=null,this._lerpEnd=null,this._currentLerpTime=0,this._cameraMoving=!1,this._lerpPromise.resolve(o)}this._isDoneShaking()?(this._isShaking=!1,this._elapsedShakeTime=0,this._shakeMagnitudeX=0,this._shakeMagnitudeY=0,this._shakeDuration=0,this._xShake=0,this._yShake=0):(this._elapsedShakeTime+=e,this._xShake=1+(Math.random()*this._shakeMagnitudeX|0),this._yShake=1+(Math.random()*this._shakeMagnitudeY|0));for(var r=0,s=this._cameraStrategies;r<s.length;r++){var a=s[r];this.pos=a.action.call(a,a.target,this,t,e)}this._postupdate(t,e)},e.prototype.draw=function(t){var e=this.getFocus(),i=t.canvas.width,n=t.canvas.height,o=this._engine?this._engine.pixelRatio:window.devicePixelRatio,r=this.getZoom(),s=i/r/o,a=n/r/o;t.scale(r,r),t.translate(-e.x+s/2+this._xShake,-e.y+a/2+this._yShake)},e.prototype.debugDraw=function(t){var e=this.getFocus();t.fillStyle="red",t.strokeStyle="white",t.lineWidth=3,t.beginPath(),t.arc(e.x,e.y,15,0,2*Math.PI),t.closePath(),t.stroke(),t.beginPath(),t.arc(e.x,e.y,5,0,2*Math.PI),t.closePath(),t.stroke(),t.beginPath(),t.setLineDash([5,15]),t.lineWidth=5,t.strokeStyle="white",t.strokeRect(this.viewport.left,this.viewport.top,this.viewport.width,this.viewport.height),t.closePath()},e.prototype._isDoneShaking=function(){return!this._isShaking||this._elapsedShakeTime>=this._shakeDuration},e}(St),Wi=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();!function(t){t[t.Em=0]="Em",t[t.Rem=1]="Rem",t[t.Px=2]="Px",t[t.Pt=3]="Pt",t[t.Percent=4]="Percent"}(Oi||(Oi={})),function(t){t[t.Left=0]="Left",t[t.Right=1]="Right",t[t.Center=2]="Center",t[t.Start=3]="Start",t[t.End=4]="End"}(Bi||(Bi={})),function(t){t[t.Top=0]="Top",t[t.Hanging=1]="Hanging",t[t.Middle=2]="Middle",t[t.Alphabetic=3]="Alphabetic",t[t.Ideographic=4]="Ideographic",t[t.Bottom=5]="Bottom"}(Di||(Di={})),function(t){t[t.Normal=0]="Normal",t[t.Italic=1]="Italic",t[t.Oblique=2]="Oblique"}(ki||(ki={}));var Hi=function(t){function e(e,i,n,o,r){return t.call(this,e,i,n,o,r)||this}return Wi(e,t),e}(he(function(t){function e(e,i,n,o,r){var s=t.call(this,e&&"object"==typeof e?{x:e.x,y:e.y}:{x:i,y:n})||this;s.bold=!1,s.fontSize=10,s.fontStyle=ki.Normal,s.fontUnit=Oi.Px,s.textAlign=Bi.Left,s.baseAlign=Di.Bottom,s.letterSpacing=0,s.caseInsensitive=!0;var a="";return e&&"object"==typeof e?(o=e.fontFamily,r=e.spriteFont,a=e.text):a=e,s.text=a||"",s.color=At.Black,s.spriteFont=r,s.body.collider.type=Ct.PreventCollision,s.fontFamily=o||"sans-serif",s._textShadowOn=!1,s._shadowOffsetX=0,s._shadowOffsetY=0,s}return Wi(e,t),e.prototype.getTextWidth=function(t){var e=t.font;t.font=this._fontString;var i=t.measureText(this.text).width;return t.font=e,i},e.prototype._lookupFontUnit=function(t){switch(t){case Oi.Em:return"em";case Oi.Rem:return"rem";case Oi.Pt:return"pt";case Oi.Px:return"px";case Oi.Percent:return"%";default:return"px"}},e.prototype._lookupTextAlign=function(t){switch(t){case Bi.Left:return"left";case Bi.Right:return"right";case Bi.Center:return"center";case Bi.End:return"end";case Bi.Start:default:return"start"}},e.prototype._lookupBaseAlign=function(t){switch(t){case Di.Alphabetic:return"alphabetic";case Di.Bottom:return"bottom";case Di.Hanging:return"hanging";case Di.Ideographic:return"ideographic";case Di.Middle:return"middle";case Di.Top:return"top";default:return"alphabetic"}},e.prototype._lookupFontStyle=function(t){var e=this.bold?" bold":"";switch(t){case ki.Italic:return"italic"+e;case ki.Normal:return"normal"+e;case ki.Oblique:return"oblique"+e;default:return"normal"+e}},e.prototype.setTextShadow=function(t,e,i){this.spriteFont.setTextShadow(t,e,i)},e.prototype.useTextShadow=function(t){this.spriteFont.useTextShadow(t)},e.prototype.clearTextShadow=function(){this._textShadowOn=!1,this._shadowOffsetX=0,this._shadowOffsetY=0},e.prototype.update=function(e,i){t.prototype.update.call(this,e,i)},e.prototype.draw=function(e,i){e.save(),e.translate(this.pos.x,this.pos.y),e.scale(this.scale.x,this.scale.y),e.rotate(this.rotation),this._textShadowOn&&(e.save(),e.translate(this._shadowOffsetX,this._shadowOffsetY),this._fontDraw(e),e.restore()),this._fontDraw(e),t.prototype.draw.call(this,e,i),e.restore()},e.prototype._fontDraw=function(t){if(this.spriteFont)this.spriteFont.draw(t,this.text,0,0,{color:this.color.clone(),baseAlign:this.baseAlign,textAlign:this.textAlign,fontSize:this.fontSize,letterSpacing:this.letterSpacing,opacity:this.opacity});else{var e=t.textAlign,i=t.textBaseline;t.textAlign=this._lookupTextAlign(this.textAlign),t.textBaseline=this._lookupBaseAlign(this.baseAlign),this.color&&(this.color.a=this.opacity),t.fillStyle=this.color.toString(),t.font=this._fontString,this.maxWidth?t.fillText(this.text,0,0,this.maxWidth):t.fillText(this.text,0,0),t.textAlign=e,t.textBaseline=i}},Object.defineProperty(e.prototype,"_fontString",{get:function(){return this._lookupFontStyle(this.fontStyle)+" "+this.fontSize+this._lookupFontUnit(this.fontUnit)+" "+this.fontFamily},enumerable:!0,configurable:!0}),e.prototype.debugDraw=function(e){t.prototype.debugDraw.call(this,e)},e}($e))),zi=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Ui={pos:F.Zero,width:10,height:10,visible:!1,action:function(){},filter:function(){return!0},repeat:-1},Ni=function(t){function e(e){var i=t.call(this,e.pos.x,e.pos.y,e.width,e.height)||this;return i.action=function(){},i.filter=function(){return!0},i.repeat=-1,e=y({},Ui,e),i.filter=e.filter||i.filter,i.repeat=e.repeat||i.repeat,i.action=e.action||i.action,e.target&&(i.target=e.target),i.visible=e.visible,i.body.collider.type=Ct.Passive,i.eventDispatcher=new Pt(i),i.actionQueue=new Be(i),i.on("collisionstart",function(t){Je(t.other)&&i.filter(t.other)&&(i.emit("enter",new wt(i,t.other)),i._dispatchAction(),0===i.repeat&&i.kill())}),i.on("collisionend",function(t){Je(t.other)&&i.filter(t.other)&&i.emit("exit",new xt(i,t.other))}),i}return zi(e,t),Object.defineProperty(e.prototype,"target",{get:function(){return this._target},set:function(t){this._target=t,this.filter=function(e){return e===t}},enumerable:!0,configurable:!0}),e.prototype._initialize=function(e){t.prototype._initialize.call(this,e)},e.prototype._dispatchAction=function(){this.action.call(this),this.repeat--},e.prototype.debugDraw=function(e){t.prototype.debugDraw.call(this,e),e.save(),e.translate(this.pos.x,this.pos.y);var i=this.body.collider.bounds,n=this.getWorldPos();i.left=i.left-n.x,i.right=i.right-n.x,i.top=i.top-n.y,i.bottom=i.bottom-n.y,e.fillStyle=At.Violet.toString(),e.strokeStyle=At.Violet.toString(),e.fillText("Trigger",10,10),i.debugDraw(e),e.restore()},e}($e);function qi(t){return t instanceof ei}var Gi,Vi=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Xi=function(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Ki=function(t){function e(e){var i=t.call(this)||this;return i.actors=[],i._bodies=[],i.triggers=[],i.tileMaps=[],i._groups={},i.uiActors=[],i._isInitialized=!1,i._sortedDrawingTree=new xi($e.prototype.getZIndex),i._broadphase=new wi,i._killQueue=[],i._triggerKillQueue=[],i._timers=[],i._cancelQueue=[],i._logger=Nt.getInstance(),i.camera=new Ii,i._engine=e,e&&(i.camera.x=e.halfDrawWidth,i.camera.y=e.halfDrawHeight),i}return Vi(e,t),Object.defineProperty(e.prototype,"groups",{get:function(){return this._groups},set:function(t){this._groups=t},enumerable:!0,configurable:!0}),e.prototype.on=function(e,i){t.prototype.on.call(this,e,i)},e.prototype.once=function(e,i){t.prototype.once.call(this,e,i)},e.prototype.off=function(e,i){t.prototype.off.call(this,e,i)},e.prototype.onInitialize=function(t){},e.prototype.onActivate=function(t,e){},e.prototype.onDeactivate=function(t,e){},e.prototype.onPreUpdate=function(t,e){},e.prototype.onPostUpdate=function(t,e){},e.prototype.onPreDraw=function(t,e){},e.prototype.onPostDraw=function(t,e){},e.prototype._initializeChildren=function(){for(var t=0,e=this.actors;t<e.length;t++){e[t]._initialize(this._engine)}},Object.defineProperty(e.prototype,"isInitialized",{get:function(){return this._isInitialized},enumerable:!0,configurable:!0}),e.prototype._initialize=function(t){this.isInitialized||(this._engine=t,this.camera&&(this.camera.x=t.halfDrawWidth,this.camera.y=t.halfDrawHeight),this._initializeChildren(),this._logger.debug("Scene.onInitialize",this,t),this.eventDispatcher.emit("initialize",new yt(t,this)),this.onInitialize.call(this,t),this._isInitialized=!0)},e.prototype._activate=function(t,e){this._logger.debug("Scene.onActivate",this),this.onActivate(t,e)},e.prototype._deactivate=function(t,e){this._logger.debug("Scene.onDectivate",this),this.onDeactivate(t,e)},e.prototype._preupdate=function(t,e){this.emit("preupdate",new tt(t,e,this)),this.onPreUpdate(t,e)},e.prototype._postupdate=function(t,e){this.emit("postupdate",new et(t,e,this)),this.onPostUpdate(t,e)},e.prototype._predraw=function(t,e){this.emit("predraw",new Z(t,e,this)),this.onPreDraw(t,e)},e.prototype._postdraw=function(t,e){this.emit("postdraw",new Q(t,e,this)),this.onPostDraw(t,e)},e.prototype.update=function(t,e){var i,n;for(this._preupdate(t,e),this.camera&&this.camera.update(t,e),i=0,n=this._cancelQueue.length;i<n;i++)this.removeTimer(this._cancelQueue[i]);this._cancelQueue.length=0;for(var o=0,r=this._timers;o<r.length;o++){r[o].update(e)}for(i=0,n=this.uiActors.length;i<n;i++)this.uiActors[i].update(t,e);for(i=0,n=this.tileMaps.length;i<n;i++)this.tileMaps[i].update(t,e);for(i=0,n=this.actors.length;i<n;i++)this.actors[i].update(t,e),this._bodies[i]=this.actors[i].body;for(i=0,n=this.triggers.length;i<n;i++)this.triggers[i].update(t,e);if(this._collectActorStats(t),t.input.pointers.propagate(),this._broadphase&&Tt.enabled){var s=Date.now();this._broadphase.update(this._bodies,e);for(var a=this._broadphase.broadphase(this._bodies,e,t.stats.currFrame),h=Date.now(),c=Date.now(),u=Tt.collisionPasses,l=e/u;u>0;)a=this._broadphase.narrowphase(a,t.stats.currFrame),a=this._broadphase.resolve(a,l,Tt.collisionResolutionStrategy),this._broadphase.runCollisionStartEnd(a),u--;var p=Date.now();t.stats.currFrame.physics.broadphase=h-s,t.stats.currFrame.physics.narrowphase=p-c}t.stats.currFrame.actors.killed=this._killQueue.length+this._triggerKillQueue.length,this._processKillQueue(this._killQueue,this.actors),this._processKillQueue(this._triggerKillQueue,this.triggers),this._postupdate(t,e)},e.prototype._processKillQueue=function(t,e){for(var i,n=0,o=t;n<o.length;n++){var r=o[n];r.isKilled()&&(i=e.indexOf(r))>-1&&(this._sortedDrawingTree.removeByComparable(r),e.splice(i,1))}t.length=0},e.prototype.draw=function(t,e){var i,n;for(this._predraw(t,e),t.save(),this.camera&&this.camera.draw(t),i=0,n=this.tileMaps.length;i<n;i++)this.tileMaps[i].draw(t,e);var o=this._sortedDrawingTree.list();for(i=0,n=o.length;i<n;i++)o[i].visible&&!o[i].isOffScreen&&o[i].draw(t,e);for(this._engine&&this._engine.isDebug&&(t.strokeStyle="yellow",this.debugDraw(t)),t.restore(),i=0,n=this.uiActors.length;i<n;i++)this.uiActors[i].visible&&this.uiActors[i].draw(t,e);if(this._engine&&this._engine.isDebug)for(i=0,n=this.uiActors.length;i<n;i++)this.uiActors[i].debugDraw(t);this._postdraw(t,e)},e.prototype.debugDraw=function(t){var e,i;for(this.emit("predebugdraw",new J(t,this)),e=0,i=this.tileMaps.length;e<i;e++)this.tileMaps[e].debugDraw(t);for(e=0,i=this.actors.length;e<i;e++)this.actors[e].debugDraw(t);for(e=0,i=this.triggers.length;e<i;e++)this.triggers[e].debugDraw(t);this._broadphase.debugDraw(t,20),this.camera.debugDraw(t),this.emit("postdebugdraw",new $(t,this))},e.prototype.contains=function(t){return this.actors.indexOf(t)>-1},e.prototype.add=function(t){t instanceof $e&&t.unkill(),t instanceof ei?C(this.uiActors,t)||this.addUIActor(t):t instanceof $e?C(this.actors,t)||this._addChild(t):t instanceof ii?C(this._timers,t)||this.addTimer(t):t instanceof ri&&(C(this.tileMaps,t)||this.addTileMap(t))},e.prototype.remove=function(t){t instanceof ei?this.removeUIActor(t):(t instanceof $e&&this._removeChild(t),t instanceof ii&&this.removeTimer(t),t instanceof ri&&this.removeTileMap(t))},e.prototype.addUIActor=function(t){this.uiActors.push(t),t.scene=this},e.prototype.removeUIActor=function(t){var e=this.uiActors.indexOf(t);e>-1&&this.uiActors.splice(e,1)},e.prototype._addChild=function(t){this._broadphase.track(t.body),t.scene=this,t instanceof Ni?this.triggers.push(t):this.actors.push(t),this._sortedDrawingTree.add(t)},e.prototype.addTileMap=function(t){this.tileMaps.push(t)},e.prototype.removeTileMap=function(t){var e=this.tileMaps.indexOf(t);e>-1&&this.tileMaps.splice(e,1)},e.prototype._removeChild=function(t){C(this.actors,t)&&(this._broadphase.untrack(t.body),t instanceof Ni?this._triggerKillQueue.push(t):(t.isKilled()||t.kill(),this._killQueue.push(t)),t.parent=null)},e.prototype.addTimer=function(t){return this._timers.push(t),t.scene=this,t},e.prototype.removeTimer=function(t){var e=this._timers.indexOf(t);return-1!==e&&this._timers.splice(e,1),t},e.prototype.cancelTimer=function(t){return this._cancelQueue.push(t),t},e.prototype.isTimerActive=function(t){return this._timers.indexOf(t)>-1&&!t.complete},e.prototype.createGroup=function(t){return new Ci(t,this)},e.prototype.getGroup=function(t){return this.groups[t]},e.prototype.removeGroup=function(t){"string"==typeof t?delete this.groups[t]:t instanceof Ci?delete this.groups[t.name]:this._logger.error("Invalid arguments to removeGroup",t)},e.prototype.cleanupDrawTree=function(t){this._sortedDrawingTree.removeByComparable(t)},e.prototype.updateDrawTree=function(t){this._sortedDrawingTree.add(t)},e.prototype.isActorInDrawTree=function(t){return this._sortedDrawingTree.find(t)},e.prototype.isCurrentScene=function(){return!!this._engine&&this._engine.currentScene===this},e.prototype._collectActorStats=function(t){for(var e=0,i=this.uiActors;e<i.length;e++){i[e];t.stats.currFrame.actors.ui++}for(var n=0,o=this.actors;n<o.length;n++){var r=o[n];t.stats.currFrame.actors.alive++;for(var s=0,a=r.children;s<a.length;s++){qi(a[s])?t.stats.currFrame.actors.ui++:t.stats.currFrame.actors.alive++}}},Xi([Xt({message:"ex.Group will be deprecated in v0.24.0"})],e.prototype,"groups",null),Xi([Xt({message:"ex.Group will be deprecated in v0.24.0"})],e.prototype,"createGroup",null),Xi([Xt({message:"ex.Group will be deprecated in v0.24.0"})],e.prototype,"getGroup",null),Xi([Xt({message:"ex.Group will be deprecated in v0.24.0"})],e.prototype,"removeGroup",null),e}(St),Yi=function(){return function(){this.stats={currFrame:new Zi,prevFrame:new Zi}}}(),Zi=function(){function t(){this._id=0,this._delta=0,this._fps=0,this._actorStats={alive:0,killed:0,ui:0,get remaining(){return this.alive-this.killed},get total(){return this.remaining+this.ui}},this._durationStats={update:0,draw:0,get total(){return this.update+this.draw}},this._physicsStats=new Qi}return t.prototype.reset=function(t){t?(this.id=t.id,this.delta=t.delta,this.fps=t.fps,this.actors.alive=t.actors.alive,this.actors.killed=t.actors.killed,this.actors.ui=t.actors.ui,this.duration.update=t.duration.update,this.duration.draw=t.duration.draw,this._physicsStats.reset(t.physics)):(this.id=this.delta=this.fps=0,this.actors.alive=this.actors.killed=this.actors.ui=0,this.duration.update=this.duration.draw=0,this._physicsStats.reset())},t.prototype.clone=function(){var e=new t;return e.reset(this),e},Object.defineProperty(t.prototype,"id",{get:function(){return this._id},set:function(t){this._id=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"delta",{get:function(){return this._delta},set:function(t){this._delta=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fps",{get:function(){return this._fps},set:function(t){this._fps=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"actors",{get:function(){return this._actorStats},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"duration",{get:function(){return this._durationStats},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"physics",{get:function(){return this._physicsStats},enumerable:!0,configurable:!0}),t}(),Qi=function(){function t(){this._pairs=0,this._collisions=0,this._collidersHash={},this._fastBodies=0,this._fastBodyCollisions=0,this._broadphase=0,this._narrowphase=0}return t.prototype.reset=function(t){t?(this.pairs=t.pairs,this.collisions=t.collisions,this.collidersHash=t.collidersHash,this.fastBodies=t.fastBodies,this.fastBodyCollisions=t.fastBodyCollisions,this.broadphase=t.broadphase,this.narrowphase=t.narrowphase):(this.pairs=this.collisions=this.fastBodies=0,this.fastBodyCollisions=this.broadphase=this.narrowphase=0,this.collidersHash={})},t.prototype.clone=function(){var e=new t;return e.reset(this),e},Object.defineProperty(t.prototype,"pairs",{get:function(){return this._pairs},set:function(t){this._pairs=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collisions",{get:function(){return this._collisions},set:function(t){this._collisions=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collidersHash",{get:function(){return this._collidersHash},set:function(t){this._collidersHash=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fastBodies",{get:function(){return this._fastBodies},set:function(t){this._fastBodies=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fastBodyCollisions",{get:function(){return this._fastBodyCollisions},set:function(t){this._fastBodyCollisions=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"broadphase",{get:function(){return this._broadphase},set:function(t){this._broadphase=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"narrowphase",{get:function(){return this._narrowphase},set:function(t){this._narrowphase=t},enumerable:!0,configurable:!0}),t}(),Ji=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();!function(t){t[t.Num1=97]="Num1",t[t.Num2=98]="Num2",t[t.Num3=99]="Num3",t[t.Num4=100]="Num4",t[t.Num5=101]="Num5",t[t.Num6=102]="Num6",t[t.Num7=103]="Num7",t[t.Num8=104]="Num8",t[t.Num9=105]="Num9",t[t.Num0=96]="Num0",t[t.Numlock=144]="Numlock",t[t.Semicolon=186]="Semicolon",t[t.A=65]="A",t[t.B=66]="B",t[t.C=67]="C",t[t.D=68]="D",t[t.E=69]="E",t[t.F=70]="F",t[t.G=71]="G",t[t.H=72]="H",t[t.I=73]="I",t[t.J=74]="J",t[t.K=75]="K",t[t.L=76]="L",t[t.M=77]="M",t[t.N=78]="N",t[t.O=79]="O",t[t.P=80]="P",t[t.Q=81]="Q",t[t.R=82]="R",t[t.S=83]="S",t[t.T=84]="T",t[t.U=85]="U",t[t.V=86]="V",t[t.W=87]="W",t[t.X=88]="X",t[t.Y=89]="Y",t[t.Z=90]="Z",t[t.Shift=16]="Shift",t[t.Alt=18]="Alt",t[t.Up=38]="Up",t[t.Down=40]="Down",t[t.Left=37]="Left",t[t.Right=39]="Right",t[t.Space=32]="Space",t[t.Esc=27]="Esc"}(Gi||(Gi={}));var $i,tn,en,nn,on,rn=function(t){function e(e){var i=t.call(this)||this;return i.key=e,i}return Ji(e,t),e}(q),sn=function(t){function e(){var e=t.call(this)||this;return e._keys=[],e._keysUp=[],e._keysDown=[],e}return Ji(e,t),e.prototype.on=function(e,i){t.prototype.on.call(this,e,i)},e.prototype.init=function(t){var e=this;(t=t||window).addEventListener("blur",function(){e._keys.length=0}),t.addEventListener("keyup",function(t){var i=e._normalizeKeyCode(t.keyCode),n=e._keys.indexOf(i);e._keys.splice(n,1),e._keysUp.push(i);var o=new rn(i);e.eventDispatcher.emit("up",o),e.eventDispatcher.emit("release",o)}),t.addEventListener("keydown",function(t){var i=e._normalizeKeyCode(t.keyCode);if(-1===e._keys.indexOf(i)){e._keys.push(i),e._keysDown.push(i);var n=new rn(i);e.eventDispatcher.emit("down",n),e.eventDispatcher.emit("press",n)}})},e.prototype.update=function(){this._keysDown.length=0,this._keysUp.length=0;for(var t=0;t<this._keys.length;t++)this.eventDispatcher.emit("hold",new rn(this._keys[t]))},e.prototype.getKeys=function(){return this._keys},e.prototype.wasPressed=function(t){return this._keysDown.indexOf(t)>-1},e.prototype.isHeld=function(t){return this._keys.indexOf(t)>-1},e.prototype.wasReleased=function(t){return this._keysUp.indexOf(t)>-1},e.prototype._normalizeKeyCode=function(t){switch(t){case 59:return Gi.Semicolon;default:return t}},e}(St),an=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();!function(t){t.Touch="Touch",t.Mouse="Mouse",t.Pen="Pen",t.Unknown="Unknown"}($i||($i={})),function(t){t[t.NoButton=-1]="NoButton",t[t.Left=0]="Left",t[t.Middle=1]="Middle",t[t.Right=2]="Right",t[t.Unknown=3]="Unknown"}(tn||(tn={})),function(t){t.Left="Left",t.Middle="Middle",t.Right="Right",t.Unknown="Unknown",t.NoButton="NoButton"}(en||(en={})),function(t){t.Pixel="Pixel",t.Line="Line",t.Page="Page"}(nn||(nn={})),function(t){t.Canvas="Canvas",t.Document="Document"}(on||(on={}));var hn=function(t){function e(e,i,n,o,r,s){var a=t.call(this)||this;return a.coordinates=e,a.pointer=i,a.index=n,a.pointerType=o,a.button=r,a.ev=s,a}return an(e,t),Object.defineProperty(e.prototype,"worldPos",{get:function(){return this.coordinates.worldPos.clone()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pagePos",{get:function(){return this.coordinates.pagePos.clone()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"screenPos",{get:function(){return this.coordinates.screenPos.clone()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pos",{get:function(){return this.coordinates.worldPos.clone()},enumerable:!0,configurable:!0}),e.prototype.layPath=function(t){if(this.pointer.isActorUnderPointer(t)){var e=t.getAncestors();this._path=e.length>this._path.length?e:this._path}},e}(q),cn=function(){function t(t){this._pointerEventType=t}return t.prototype.create=function(t,e,i,n,o,r){return new this._pointerEventType(t,e,i,n,o,r)},t}(),un=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return an(e,t),e}(hn),ln=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._name="pointerup",e}return an(e,t),e.prototype._onActionEnd=function(t){this.pointer.isDragEnd&&t.capturePointer.captureDragEvents&&t.eventDispatcher.emit("pointerdragend",this)},e}(hn),pn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._name="pointerdown",e}return an(e,t),e.prototype._onActionEnd=function(t){this.pointer.isDragStart&&t.capturePointer.captureDragEvents&&t.eventDispatcher.emit("pointerdragstart",this)},e}(hn),dn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._name="pointermove",e}return an(e,t),e.prototype.propagate=function(){var t=this;this.eventPath.length?(this.action(),this.bubbles&&this.propagate()):this.pointer.hasActorsUnderPointer&&this.pointer.getActorsUnderPointer().forEach(function(e){t.pointer.isActorUnderPointer(e)||t._onActorLeave(e)})},e.prototype.layPath=function(t){if(this.pointer.isDragging)t=this.pointer.dragTarget||t;else if(!this.pointer.isActorUnderPointer(t))return;var e=t.getAncestors();this._path=e.length>this._path.length?e:this._path},e.prototype._onActionStart=function(t){t.capturePointer.captureMoveEvents&&(this.pointer.isActorUnderPointer(t)&&!this.pointer.hasActorUnderPointerInList(t)&&this._onActorEnter(t),this.pointer.isDragging&&t.capturePointer.captureDragEvents&&t.eventDispatcher.emit("pointerdragmove",this))},e.prototype._onActorEnter=function(t){var e=vn("enter",this.coordinates,this.pointer,this.index,this.pointerType,this.button,this.ev);e.layPath(t),e.propagate(),this.pointer.addActorUnderPointer(t),this.pointer.isDragging&&(this.pointer.dragTarget=t)},e.prototype._onActorLeave=function(t){var e=vn("leave",this.coordinates,this.pointer,this.index,this.pointerType,this.button,this.ev);e.layPath(t),e.propagate(),this.pointer.removeActorUnderPointer(t)},e}(hn),fn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._name="pointerenter",e}return an(e,t),e.prototype._onActionStart=function(t){t.capturePointer.captureMoveEvents},e.prototype._onActionEnd=function(t){this.pointer.isDragging&&t.capturePointer.captureDragEvents&&t.eventDispatcher.emit("pointerdragenter",this)},e}(hn),gn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._name="pointerleave",e}return an(e,t),e.prototype.layPath=function(t){var e=t.getAncestors();this._path=e.length>this._path.length?e:this._path},e.prototype._onActionStart=function(t){t.capturePointer.captureMoveEvents},e.prototype._onActionEnd=function(t){this.pointer.isDragging&&t.capturePointer.captureDragEvents&&t.eventDispatcher.emit("pointerdragleave",this)},e}(hn),yn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._name="pointercancel",e}return an(e,t),e}(hn),_n=function(t){function e(e,i,n,o,r,s,a,h,c,u,l,p){var d=t.call(this)||this;return d.x=e,d.y=i,d.pageX=n,d.pageY=o,d.screenX=r,d.screenY=s,d.index=a,d.deltaX=h,d.deltaY=c,d.deltaZ=u,d.deltaMode=l,d.ev=p,d}return an(e,t),e}(q);function vn(t,e,i,n,o,r,s){var a;switch(t){case"up":a=new cn(ln);break;case"down":a=new cn(pn);break;case"move":a=new cn(dn);break;case"cancel":a=new cn(yn);break;case"enter":a=new cn(fn);break;case"leave":a=new cn(gn)}return a.create(e,i,n,o,r,s)}var mn,bn,wn=function(t){function e(e){var i=t.call(this)||this;return i._pointerDown=[],i._pointerUp=[],i._pointerMove=[],i._pointerCancel=[],i._wheel=[],i._pointers=[],i._activePointers=[],i._engine=e,i._pointers.push(new xn),i._activePointers=[-1],i.primary=i._pointers[0],i}return an(e,t),e.prototype.on=function(e,i){t.prototype.on.call(this,e,i)},e.prototype.init=function(t){(t=t||this._engine.canvas).addEventListener("touchstart",this._handleTouchEvent("down",this._pointerDown)),t.addEventListener("touchend",this._handleTouchEvent("up",this._pointerUp)),t.addEventListener("touchmove",this._handleTouchEvent("move",this._pointerMove)),t.addEventListener("touchcancel",this._handleTouchEvent("cancel",this._pointerCancel)),window.PointerEvent?(this._engine.canvas.style.touchAction="none",t.addEventListener("pointerdown",this._handlePointerEvent("down",this._pointerDown)),t.addEventListener("pointerup",this._handlePointerEvent("up",this._pointerUp)),t.addEventListener("pointermove",this._handlePointerEvent("move",this._pointerMove)),t.addEventListener("pointercancel",this._handlePointerEvent("cancel",this._pointerCancel))):window.MSPointerEvent?(this._engine.canvas.style.msTouchAction="none",t.addEventListener("MSPointerDown",this._handlePointerEvent("down",this._pointerDown)),t.addEventListener("MSPointerUp",this._handlePointerEvent("up",this._pointerUp)),t.addEventListener("MSPointerMove",this._handlePointerEvent("move",this._pointerMove)),t.addEventListener("MSPointerCancel",this._handlePointerEvent("cancel",this._pointerCancel))):(t.addEventListener("mousedown",this._handleMouseEvent("down",this._pointerDown)),t.addEventListener("mouseup",this._handleMouseEvent("up",this._pointerUp)),t.addEventListener("mousemove",this._handleMouseEvent("move",this._pointerMove))),"onwheel"in document.createElement("div")?t.addEventListener("wheel",this._handleWheelEvent("wheel",this._wheel)):void 0!==document.onmousewheel?t.addEventListener("mousewheel",this._handleWheelEvent("wheel",this._wheel)):t.addEventListener("MozMousePixelScroll",this._handleWheelEvent("wheel",this._wheel))},e.prototype.update=function(){this._pointerUp.length=0,this._pointerDown.length=0,this._pointerMove.length=0,this._pointerCancel.length=0,this._wheel.length=0;for(var t=0;t<this._pointers.length;t++)this._pointers[t].update()},e.prototype.at=function(t){if(t>=this._pointers.length)for(var e=this._pointers.length-1,i=t;e<i;e++)this._pointers.push(new xn),this._activePointers.push(-1);return this._pointers[t]},e.prototype.count=function(){return this._pointers.length},e.prototype.propagate=function(){this._propagatePointerEvent(this._pointerDown),this._propagatePointerEvent(this._pointerUp),this._propagatePointerEvent(this._pointerMove),this._propagatePointerEvent(this._pointerCancel),this._propagateWheelEvent("pointerwheel",this._wheel)},e.prototype.revisePointerEventsPaths=function(t){this._revisePointerEventPath(t,this._pointerDown),this._revisePointerEventPath(t,this._pointerUp),this._revisePointerEventPath(t,this._pointerMove),this._revisePointerEventPath(t,this._pointerCancel),this._validateWheelEventPath(this._wheel,t)},e.prototype._propagatePointerEvent=function(t){for(var e=t.length,i=0;i<e;i++)t[i].propagate()},e.prototype._revisePointerEventPath=function(t,e){for(var i=e.length,n=0;n<i;n++){e[n].layPath(t)}},e.prototype._validateWheelEventPath=function(t,e){for(var i=0;i<t.length;i++){var n=t[i],o=!qi(e);e.contains(n.x,n.y,o)&&n.layPath(e)}},e.prototype._propagateWheelEvent=function(t,e){for(var i,n=e.length,o=0;o<n;o++)switch(i=e[o],t){case"pointerwheel":this._propagateWheelPointerEvent(i)}},e.prototype._propagateWheelPointerEvent=function(t){t.eventPath.length&&(t.eventPath.pop().eventDispatcher.emit("pointerwheel",t),t.bubbles&&this._propagateWheelPointerEvent(t))},e.prototype._handleMouseEvent=function(t,e){var i=this;return function(n){n.preventDefault();var o=i.at(0),r=W.fromPagePosition(n.pageX,n.pageY,i._engine),s=vn(t,r,o,0,$i.Mouse,i._nativeButtonToPointerButton(n.button),n);e.push(s),o.eventDispatcher.emit(t,s)}},e.prototype._handleTouchEvent=function(t,e){var i=this;return function(n){n.preventDefault();for(var o=0,r=n.changedTouches.length;o<r;o++){var s=i._pointers.length>1?i._getPointerIndex(n.changedTouches[o].identifier):0;if(-1!==s){var a=i.at(s),h=W.fromPagePosition(n.changedTouches[o].pageX,n.changedTouches[o].pageY,i._engine),c=vn(t,h,a,s,$i.Touch,en.Unknown,n);e.push(c),a.eventDispatcher.emit(t,c),i._pointers.length>1&&("up"===t?i._activePointers[s]=-1:"down"===t&&(i._activePointers[s]=n.changedTouches[o].identifier))}}}},e.prototype._handlePointerEvent=function(t,e){var i=this;return function(n){n.preventDefault();var o=i._pointers.length>1?i._getPointerIndex(n.pointerId):0;if(-1!==o){var r=i.at(o),s=W.fromPagePosition(n.pageX,n.pageY,i._engine),a=vn(t,s,r,o,i._stringToPointerType(n.pointerType),i._nativeButtonToPointerButton(n.button),n);e.push(a),r.eventDispatcher.emit(t,a),i._pointers.length>1&&("up"===t?i._activePointers[o]=-1:"down"===t&&(i._activePointers[o]=n.pointerId))}}},e.prototype._handleWheelEvent=function(t,e){var i=this;return function(n){(i._engine.pageScrollPreventionMode===Cn.All||i._engine.pageScrollPreventionMode===Cn.Canvas&&n.target===i._engine.canvas)&&n.preventDefault();var o=n.pageX-S(i._engine.canvas).x,r=n.pageY-S(i._engine.canvas).y,s=i._engine.screenToWorldCoordinates(new F(o,r)),a=n.deltaX||-.025*n.wheelDeltaX||0,h=n.deltaY||-.025*n.wheelDeltaY||-.025*n.wheelDelta||n.detail||0,c=n.deltaZ||0,u=nn.Pixel;n.deltaMode&&(1===n.deltaMode?u=nn.Line:2===n.deltaMode&&(u=nn.Page));var l=new _n(s.x,s.y,n.pageX,n.pageY,o,r,0,a,h,c,u,n);e.push(l),i.at(0).eventDispatcher.emit(t,l)}},e.prototype._getPointerIndex=function(t){var e;if((e=this._activePointers.indexOf(t))>-1)return e;for(var i=0;i<this._activePointers.length;i++)if(-1===this._activePointers[i])return i;return-1},e.prototype._nativeButtonToPointerButton=function(t){switch(t){case tn.NoButton:return en.NoButton;case tn.Left:return en.Left;case tn.Middle:return en.Middle;case tn.Right:return en.Right;case tn.Unknown:return en.Unknown;default:return D(t)}},e.prototype._stringToPointerType=function(t){switch(t){case"touch":return $i.Touch;case"mouse":return $i.Mouse;case"pen":return $i.Pen;default:return $i.Unknown}},e}(St),xn=function(t){function e(){var e=t.call(this)||this;return e._isDown=!1,e._wasDown=!1,e._actorsUnderPointer={length:0},e.lastPagePos=null,e.lastScreenPos=null,e.lastWorldPos=null,e.dragTarget=null,e.on("move",e._onPointerMove),e.on("down",e._onPointerDown),e.on("up",e._onPointerUp),e}return an(e,t),Object.defineProperty(e.prototype,"isDragging",{get:function(){return this._isDown},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDragStart",{get:function(){return!this._wasDown&&this._isDown},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDragEnd",{get:function(){return this._wasDown&&!this._isDown},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasActorsUnderPointer",{get:function(){return!!this._actorsUnderPointer.length},enumerable:!0,configurable:!0}),e.prototype.update=function(){this._wasDown&&!this._isDown?this._wasDown=!1:!this._wasDown&&this._isDown&&(this._wasDown=!0)},e.prototype.addActorUnderPointer=function(t){this.hasActorUnderPointerInList(t)||(this._actorsUnderPointer[t.id]=t,this._actorsUnderPointer.length+=1)},e.prototype.removeActorUnderPointer=function(t){this.hasActorUnderPointerInList(t)&&(delete this._actorsUnderPointer[t.id],this._actorsUnderPointer.length-=1)},e.prototype.getActorsUnderPointer=function(){var t=[];for(var e in this._actorsUnderPointer)if("length"!==e){var i=this._actorsUnderPointer[e];t.push(i)}return t},e.prototype.isActorUnderPointer=function(t){return!!this.lastWorldPos&&t.contains(this.lastWorldPos.x,this.lastWorldPos.y,!qi(t))},e.prototype.hasActorUnderPointerInList=function(t){return this._actorsUnderPointer.hasOwnProperty(t.id.toString())},e.prototype._onPointerMove=function(t){this.lastPagePos=new F(t.pagePos.x,t.pagePos.y),this.lastScreenPos=new F(t.screenPos.x,t.screenPos.y),this.lastWorldPos=new F(t.worldPos.x,t.worldPos.y)},e.prototype._onPointerDown=function(t){this.lastPagePos=new F(t.pagePos.x,t.pagePos.y),this.lastScreenPos=new F(t.screenPos.x,t.screenPos.y),this.lastWorldPos=new F(t.worldPos.x,t.worldPos.y),this._isDown=!0},e.prototype._onPointerUp=function(){this._isDown=!1,this.dragTarget=null},e}(St),Pn=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Sn=function(t){function e(){var e=t.call(this)||this;return e.enabled=!1,e.supported=!!navigator.getGamepads,e._gamePadTimeStamps=[0,0,0,0],e._oldPads=[],e._pads=[],e._initSuccess=!1,e._navigator=navigator,e._minimumConfiguration=null,e}return Pn(e,t),e.prototype.init=function(){this.supported&&(this._initSuccess||(this._oldPads=this._clonePads(this._navigator.getGamepads()),this._oldPads.length&&this._oldPads[0]&&(this._initSuccess=!0)))},e.prototype.setMinimumGamepadConfiguration=function(t){this._enableAndUpdate(),this._minimumConfiguration=t},e.prototype._enableAndUpdate=function(){this.enabled||(this.enabled=!0,this.update())},e.prototype._isGamepadValid=function(t){if(!this._minimumConfiguration)return!0;if(!t)return!1;var e=t.axes.filter(function(t){return void 0!==typeof t}).length,i=t.buttons.filter(function(t){return void 0!==typeof t}).length;return e>=this._minimumConfiguration.axis&&i>=this._minimumConfiguration.buttons&&t.connected},e.prototype.on=function(e,i){this._enableAndUpdate(),t.prototype.on.call(this,e,i)},e.prototype.off=function(e,i){this._enableAndUpdate(),t.prototype.off.call(this,e,i)},e.prototype.update=function(){if(this.enabled&&this.supported){this.init();for(var t=this._navigator.getGamepads(),e=0;e<t.length;e++)if(t[e]){if(!this.at(e).connected&&this._isGamepadValid(t[e])&&this.eventDispatcher.emit("connect",new ot(e,this.at(e))),this.at(e).connected=!0,!t[e].timestamp||t[e].timestamp!==this._gamePadTimeStamps[e]){this._gamePadTimeStamps[e]=t[e].timestamp,this.at(e).navigatorGamepad=t[e];var i=void 0,n=void 0,o=void 0,r=void 0,s=void 0;for(i in mn)"number"==typeof(n=mn[i])&&t[e].buttons[n]&&(s=t[e].buttons[n].value)!==this._oldPads[e].getButton(n)&&(t[e].buttons[n].pressed?(this.at(e).updateButton(n,s),this.at(e).eventDispatcher.emit("button",new st(n,s,this.at(e)))):this.at(e).updateButton(n,0));for(o in bn)"number"==typeof(r=bn[o])&&(s=t[e].axes[r])!==this._oldPads[e].getAxes(r)&&(this.at(e).updateAxes(r,s),this.at(e).eventDispatcher.emit("axis",new at(r,s,this.at(e))));this._oldPads[e]=this._clonePad(t[e])}}else{var a=this.at(e);a.connected&&this.eventDispatcher.emit("disconnect",new rt(e,a)),a.connected=!1}}},e.prototype.at=function(t){if(this._enableAndUpdate(),t>=this._pads.length)for(var e=this._pads.length-1,i=t;e<i;e++)this._pads.push(new An),this._oldPads.push(new An);return this._pads[t]},e.prototype.getValidGamepads=function(){this._enableAndUpdate();for(var t=[],e=0;e<this._pads.length;e++)this._isGamepadValid(this.at(e).navigatorGamepad)&&this.at(e).connected&&t.push(this.at(e));return t},e.prototype.count=function(){return this._pads.filter(function(t){return t.connected}).length},e.prototype._clonePads=function(t){for(var e=[],i=0,n=t.length;i<n;i++)e.push(this._clonePad(t[i]));return e},e.prototype._clonePad=function(t){var e,i,n=new An;if(!t)return n;for(e=0,i=t.buttons.length;e<i;e++)t.buttons[e]&&n.updateButton(e,t.buttons[e].value);for(e=0,i=t.axes.length;e<i;e++)n.updateAxes(e,t.axes[e]);return n},e.MinAxisMoveThreshold=.05,e}(St),An=function(t){function e(){var e=t.call(this)||this;e.connected=!1,e._buttons=new Array(16),e._axes=new Array(4);for(var i=0;i<e._buttons.length;i++)e._buttons[i]=0;for(i=0;i<e._axes.length;i++)e._axes[i]=0;return e}return Pn(e,t),e.prototype.isButtonPressed=function(t,e){return void 0===e&&(e=1),this._buttons[t]>=e},e.prototype.getButton=function(t){return this._buttons[t]},e.prototype.getAxes=function(t){var e=this._axes[t];return Math.abs(e)<Sn.MinAxisMoveThreshold?0:e},e.prototype.updateButton=function(t,e){this._buttons[t]=e},e.prototype.updateAxes=function(t,e){this._axes[t]=e},e}(St);!function(t){t[t.Face1=0]="Face1",t[t.Face2=1]="Face2",t[t.Face3=2]="Face3",t[t.Face4=3]="Face4",t[t.LeftBumper=4]="LeftBumper",t[t.RightBumper=5]="RightBumper",t[t.LeftTrigger=6]="LeftTrigger",t[t.RightTrigger=7]="RightTrigger",t[t.Select=8]="Select",t[t.Start=9]="Start",t[t.LeftStick=10]="LeftStick",t[t.RightStick=11]="RightStick",t[t.DpadUp=12]="DpadUp",t[t.DpadDown=13]="DpadDown",t[t.DpadLeft=14]="DpadLeft",t[t.DpadRight=15]="DpadRight"}(mn||(mn={})),function(t){t[t.LeftStickX=0]="LeftStickX",t[t.LeftStickY=1]="LeftStickY",t[t.RightStickX=2]="RightStickX",t[t.RightStickY=3]="RightStickY"}(bn||(bn={}));var En,Cn,Tn=function(){function t(t){this.nativeComponet=t,this._paused=!1,this._nativeHandlers={}}return t.prototype.on=function(t,e){this._nativeHandlers[t]&&this.off(t,this._nativeHandlers[t]),this._nativeHandlers[t]=this._decorate(e),this.nativeComponet.addEventListener(t,this._nativeHandlers[t])},t.prototype.off=function(t,e){e||(e=this._nativeHandlers[t]),this.nativeComponet.removeEventListener(t,e),this._nativeHandlers[t]=null},t.prototype._decorate=function(t){var e=this;return function(i){e._paused||t(i)}},t.prototype.pause=function(){this._paused=!0},t.prototype.resume=function(){this._paused=!1},t.prototype.clear=function(){for(var t in this._nativeHandlers)this.off(t)},t}(),Mn=function(){function t(t,e){this._windowGlobal=t,this._documentGlobal=e,this._windowComponent=new Tn(this._windowGlobal),this._documentComponent=new Tn(this._documentGlobal)}return Object.defineProperty(t.prototype,"window",{get:function(){return this._windowComponent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"document",{get:function(){return this._documentComponent},enumerable:!0,configurable:!0}),t.prototype.pause=function(){this.window.pause(),this.document.pause()},t.prototype.resume=function(){this.window.resume(),this.document.resume()},t.prototype.clear=function(){this.window.clear(),this.document.clear()},t}(),On=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();l(),function(t){t[t.FullScreen=0]="FullScreen",t[t.Container=1]="Container",t[t.Fixed=2]="Fixed",t[t.Position=3]="Position"}(En||(En={})),function(t){t[t.None=0]="None",t[t.Canvas=1]="Canvas",t[t.All=2]="All"}(Cn||(Cn={}));var Bn,Dn=function(t){function e(i){var n=t.call(this)||this;n._hasStarted=!1,n.debug=new Yi,n.postProcessors=[],n.scenes={},n._animations=[],n.isFullscreen=!1,n.displayMode=En.FullScreen,n._suppressHiDPIScaling=!1,n._suppressPlayButton=!1,n.pauseAudioWhenHidden=!0,n.isDebug=!1,n.debugColor=new At(255,255,255),n.enableCanvasTransparency=!0,n.onFatalException=function(t){Nt.getInstance().fatal(t)},n._isSmoothingEnabled=!0,n._timescale=1,n._isLoading=!1,n._isInitialized=!1,i=y({},e._DefaultEngineOptions,i),n.browser=new Mn(window,document);var o=new vi;if(!i.suppressMinimumBrowserFeatureDetection&&!(n._compatible=o.test())){var r=document.createElement("div");if(r.innerText="Sorry, your browser does not support all the features needed for Excalibur",document.body.appendChild(r),o.failedTests.forEach(function(t){var e=document.createElement("div");e.innerText="Browser feature missing "+t,document.body.appendChild(e)}),i.canvasElementId){var s=document.getElementById(i.canvasElementId);s&&s.parentElement.removeChild(s)}return n}return n._compatible=!0,console.log&&!i.suppressConsoleBootMessage&&(console.log("%cPowered by Excalibur.js (v"+vo+")","background: #176BAA; color: white; border-radius: 5px; padding: 15px; font-size: 1.5em; line-height: 80px;"),console.log("\n      /| ________________\nO|===|* >________________>\n      \\|"),console.log("Visit","http://excaliburjs.com","for more information")),i.suppressPlayButton&&(n._suppressPlayButton=!0),n._logger=Nt.getInstance(),n._logger.defaultLevel===Dt.Debug&&o.logBrowserFeatures(),n._logger.debug("Building engine..."),n.canvasElementId=i.canvasElementId,i.canvasElementId?(n._logger.debug("Using Canvas element specified: "+i.canvasElementId),n.canvas=document.getElementById(i.canvasElementId)):(n._logger.debug("Using generated canvas element"),n.canvas=document.createElement("canvas")),i.width&&i.height?(void 0===i.displayMode&&(n.displayMode=En.Fixed),n._logger.debug("Engine viewport is size "+i.width+" x "+i.height),n.canvas.width=i.width,n.canvas.height=i.height):i.displayMode||(n._logger.debug("Engine viewport is fullscreen"),n.displayMode=En.FullScreen),i.backgroundColor&&(n.backgroundColor=i.backgroundColor.clone()),n.enableCanvasTransparency=i.enableCanvasTransparency,n._loader=new yi,n._initialize(i),n.rootScene=n.currentScene=new Ki(n),n.addScene("root",n.rootScene),n.goToScene("root"),n}return On(e,t),Object.defineProperty(e.prototype,"canvasWidth",{get:function(){return this.canvas.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"halfCanvasWidth",{get:function(){return this.canvas.width/2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canvasHeight",{get:function(){return this.canvas.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"halfCanvasHeight",{get:function(){return this.canvas.height/2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"drawWidth",{get:function(){return this.currentScene&&this.currentScene.camera?this.canvasWidth/this.currentScene.camera.getZoom()/this.pixelRatio:this.canvasWidth/this.pixelRatio},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"halfDrawWidth",{get:function(){return this.drawWidth/2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"drawHeight",{get:function(){return this.currentScene&&this.currentScene.camera?this.canvasHeight/this.currentScene.camera.getZoom()/this.pixelRatio:this.canvasHeight/this.pixelRatio},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"halfDrawHeight",{get:function(){return this.drawHeight/2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isHiDpi",{get:function(){return 1!==this.pixelRatio},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stats",{get:function(){return this.debug.stats},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pixelRatio",{get:function(){return this._suppressHiDPIScaling?1:window.devicePixelRatio<1?1:window.devicePixelRatio||1},enumerable:!0,configurable:!0}),e.prototype.on=function(e,i){t.prototype.on.call(this,e,i)},e.prototype.once=function(e,i){t.prototype.once.call(this,e,i)},e.prototype.off=function(e,i){t.prototype.off.call(this,e,i)},e.prototype.getWorldBounds=function(){var t=this.screenToWorldCoordinates(F.Zero).x,e=this.screenToWorldCoordinates(F.Zero).y,i=t+this.drawWidth,n=e+this.drawHeight;return new Yt(t,e,i,n)},Object.defineProperty(e.prototype,"timescale",{get:function(){return this._timescale},set:function(t){t<=0?Nt.getInstance().error("Cannot set engine.timescale to a value of 0 or less than 0."):this._timescale=t},enumerable:!0,configurable:!0}),e.prototype.playAnimation=function(t,e,i){this._animations.push(new kn(t,e,i))},e.prototype.addTileMap=function(t){this.currentScene.addTileMap(t)},e.prototype.removeTileMap=function(t){this.currentScene.removeTileMap(t)},e.prototype.addTimer=function(t){return this.currentScene.addTimer(t)},e.prototype.removeTimer=function(t){return this.currentScene.removeTimer(t)},e.prototype.addScene=function(t,e){this.scenes[t]&&this._logger.warn("Scene",t,"already exists overwriting"),this.scenes[t]=e},e.prototype.removeScene=function(t){if(t instanceof Ki)for(var e in this.scenes)this.scenes.hasOwnProperty(e)&&this.scenes[e]===t&&delete this.scenes[e];"string"==typeof t&&delete this.scenes[t]},e.prototype.add=function(t){t instanceof ei?this.currentScene.addUIActor(t):(t instanceof $e&&this._addChild(t),t instanceof ii&&this.addTimer(t),t instanceof ri&&this.addTileMap(t),2===arguments.length&&this.addScene(arguments[0],arguments[1]))},e.prototype.remove=function(t){t instanceof ei?this.currentScene.removeUIActor(t):(t instanceof $e&&this._removeChild(t),t instanceof ii&&this.removeTimer(t),t instanceof ri&&this.removeTileMap(t),t instanceof Ki&&this.removeScene(t),"string"==typeof t&&this.removeScene(t))},e.prototype._addChild=function(t){this.currentScene.add(t)},e.prototype._removeChild=function(t){this.currentScene.remove(t)},e.prototype.goToScene=function(t){if(this.scenes[t]){var e=this.currentScene,i=this.scenes[t];this._logger.debug("Going to scene:",t),this.currentScene.isInitialized&&(this.currentScene._deactivate.call(this.currentScene,[e,i]),this.currentScene.eventDispatcher.emit("deactivate",new vt(i,this.currentScene))),this.currentScene=i,this.currentScene._initialize(this),this.currentScene._activate.call(this.currentScene,[e,i]),this.currentScene.eventDispatcher.emit("activate",new _t(e,this.currentScene))}else this._logger.error("Scene",t,"does not exist!")},e.prototype.screenToWorldCoordinates=function(t){var e=t.x,i=t.y;if(e=e/this.canvas.clientWidth*this.drawWidth,i=i/this.canvas.clientHeight*this.drawHeight,e-=this.halfDrawWidth,i-=this.halfDrawHeight,this.currentScene&&this.currentScene.camera){var n=this.currentScene.camera.getFocus();e+=n.x,i+=n.y}return new F(Math.floor(e),Math.floor(i))},e.prototype.worldToScreenCoordinates=function(t){var e=t.x,i=t.y;if(this.currentScene&&this.currentScene.camera){var n=this.currentScene.camera.getFocus();e-=n.x,i-=n.y}return e+=this.halfDrawWidth,i+=this.halfDrawHeight,e=e*this.canvas.clientWidth/this.drawWidth,i=i*this.canvas.clientHeight/this.drawHeight,new F(Math.floor(e),Math.floor(i))},e.prototype._setHeightByDisplayMode=function(t){this.displayMode===En.Container&&(this.canvas.width=t.clientWidth,this.canvas.height=t.clientHeight),this.displayMode===En.FullScreen&&(document.body.style.margin="0px",document.body.style.overflow="hidden",this.canvas.width=t.innerWidth,this.canvas.height=t.innerHeight)},e.prototype._initialize=function(t){var e,i,n=this;if(t.displayMode&&(this.displayMode=t.displayMode),this.displayMode===En.FullScreen||this.displayMode===En.Container){var o=this.displayMode===En.Container?this.canvas.parentElement||document.body:window;this._setHeightByDisplayMode(o),this.browser.window.on("resize",function(){n._logger.debug("View port resized"),n._setHeightByDisplayMode(o),n._logger.info("parent.clientHeight "+o.clientHeight),n.setAntialiasing(n._isSmoothingEnabled)})}else this.displayMode===En.Position&&this._intializeDisplayModePosition(t);this.input={keyboard:new sn,pointers:new wn(this),gamepads:new Sn},this.input.keyboard.init(),this.input.pointers.init(t&&t.pointerScope===on.Document?document:this.canvas),this.input.gamepads.init(),this.pageScrollPreventionMode=t.scrollPreventionMode,void 0!==document.hidden?(e="hidden",i="visibilitychange"):"msHidden"in document?(e="msHidden",i="msvisibilitychange"):"webkitHidden"in document&&(e="webkitHidden",i="webkitvisibilitychange"),this.browser.document.on(i,function(){document[e]?(n.eventDispatcher.emit("hidden",new lt(n)),n._logger.debug("Window hidden")):(n.eventDispatcher.emit("visible",new ut(n)),n._logger.debug("Window visible"))}),this.ctx=this.canvas.getContext("2d",{alpha:this.enableCanvasTransparency}),this._suppressHiDPIScaling=!!t.suppressHiDPIScaling,t.suppressHiDPIScaling||this._initializeHiDpi(),this.canvasElementId||document.body.appendChild(this.canvas)},e.prototype.onInitialize=function(t){},e.prototype._intializeDisplayModePosition=function(t){if(!t.position)throw new Error("DisplayMode of Position was selected but no position option was given");if(this.canvas.style.display="block",this.canvas.style.position="absolute","string"==typeof t.position){var e=t.position.split(" ");switch(e[0]){case"top":this.canvas.style.top="0px";break;case"bottom":this.canvas.style.bottom="0px";break;case"middle":this.canvas.style.top="50%";var i=-this.halfDrawHeight;this.canvas.style.marginTop=i.toString();break;default:throw new Error("Invalid Position Given")}if(e[1])switch(e[1]){case"left":this.canvas.style.left="0px";break;case"right":this.canvas.style.right="0px";break;case"center":this.canvas.style.left="50%";var n=-this.halfDrawWidth;this.canvas.style.marginLeft=n.toString();break;default:throw new Error("Invalid Position Given")}}else t.position.top&&("number"==typeof t.position.top?this.canvas.style.top=t.position.top.toString()+"px":this.canvas.style.top=t.position.top),t.position.right&&("number"==typeof t.position.right?this.canvas.style.right=t.position.right.toString()+"px":this.canvas.style.right=t.position.right),t.position.bottom&&("number"==typeof t.position.bottom?this.canvas.style.bottom=t.position.bottom.toString()+"px":this.canvas.style.bottom=t.position.bottom),t.position.left&&("number"==typeof t.position.left?this.canvas.style.left=t.position.left.toString()+"px":this.canvas.style.left=t.position.left)},e.prototype._initializeHiDpi=function(){if(this.isHiDpi){var t=this.canvas.width,e=this.canvas.height;this.canvas.width=t*this.pixelRatio,this.canvas.height=e*this.pixelRatio,this.canvas.style.width=t+"px",this.canvas.style.height=e+"px",this._logger.warn("Hi DPI screen detected, resetting canvas resolution from \n                           "+t+"x"+e+" to "+this.canvas.width+"x"+this.canvas.height+" \n                           css size will remain "+t+"x"+e),this.ctx.scale(this.pixelRatio,this.pixelRatio),this._logger.warn("Canvas drawing context was scaled by "+this.pixelRatio)}},e.prototype.setAntialiasing=function(t){this._isSmoothingEnabled=t;var e=this.ctx;e.imageSmoothingEnabled=t;for(var i=0,n=["webkitImageSmoothingEnabled","mozImageSmoothingEnabled","msImageSmoothingEnabled"];i<n.length;i++){var o=n[i];o in e&&(e[o]=t)}},e.prototype.getAntialiasing=function(){return this.ctx.imageSmoothingEnabled||this.ctx.webkitImageSmoothingEnabled||this.ctx.mozImageSmoothingEnabled||this.ctx.msImageSmoothingEnabled},Object.defineProperty(e.prototype,"isInitialized",{get:function(){return this._isInitialized},enumerable:!0,configurable:!0}),e.prototype._overrideInitialize=function(e){this.isInitialized||(this.onInitialize(e),t.prototype.emit.call(this,"initialize",new yt(e,this)),this._isInitialized=!0)},e.prototype._update=function(t){if(this._isLoading)return this._loader.update(this,t),this.input.keyboard.update(),this.input.pointers.update(),void this.input.gamepads.update();this._overrideInitialize(this),this._preupdate(t),this.currentScene.update(this,t),this._animations=this._animations.filter(function(t){return!t.animation.isDone()}),this.input.keyboard.update(),this.input.pointers.update(),this.input.gamepads.update(),this._postupdate(t)},e.prototype._preupdate=function(t){this.emit("preupdate",new tt(this,t,this)),this.onPreUpdate(this,t)},e.prototype.onPreUpdate=function(t,e){},e.prototype._postupdate=function(t){this.emit("postupdate",new et(this,t,this)),this.onPostUpdate(this,t)},e.prototype.onPostUpdate=function(t,e){},e.prototype._draw=function(t){var e=this.ctx;if(this._predraw(e,t),this._isLoading)this._loader.draw(e,t);else{e.clearRect(0,0,this.canvasWidth,this.canvasHeight),e.fillStyle=this.backgroundColor.toString(),e.fillRect(0,0,this.canvasWidth,this.canvasHeight),this.currentScene.draw(this.ctx,t);for(var i=0,n=this._animations.length;i<n;i++)this._animations[i].animation.draw(e,this._animations[i].x,this._animations[i].y);if(this.isDebug){this.ctx.font="Consolas",this.ctx.fillStyle=this.debugColor.toString();for(var o=this.input.keyboard.getKeys(),r=0;r<o.length;r++)this.ctx.fillText(o[r].toString()+" : "+(Gi[o[r]]?Gi[o[r]]:"Not Mapped"),100,10*r+10);this.ctx.fillText("FPS:"+this.stats.currFrame.fps.toFixed(2).toString(),10,10)}for(var s=0;s<this.postProcessors.length;s++)this.postProcessors[s].process(this.ctx.getImageData(0,0,this.canvasWidth,this.canvasHeight),this.ctx);this._postdraw(e,t)}},e.prototype._predraw=function(t,e){this.emit("predraw",new Z(t,e,this)),this.onPreDraw(t,e)},e.prototype.onPreDraw=function(t,e){},e.prototype._postdraw=function(t,e){this.emit("postdraw",new Q(t,e,this)),this.onPostDraw(t,e)},e.prototype.onPostDraw=function(t,e){},e.prototype.start=function(t){var i,n=this;return this._compatible?(t?(this._loader=t,this._loader.suppressPlayButton=this._suppressPlayButton||this._loader.suppressPlayButton,this._loader.wireEngine(this),i=this.load(this._loader)):i=d.resolve(),i.then(function(){n.emit("start",new K(n))}),this._hasStarted||(this._hasStarted=!0,this._logger.debug("Starting game..."),this.browser.resume(),e.createMainLoop(this,window.requestAnimationFrame,Date.now)(),this._logger.debug("Game started")),i):(new d).reject("Excalibur is incompatible with your browser")},e.createMainLoop=function(t,e,i){var n=i();return function o(){if(t._hasStarted)try{t._requestId=e(o),t.emit("preframe",new it(t,t.stats.prevFrame));var r=i(),s=Math.floor(r-n)||1;s>200&&(s=1);var a=s*t.timescale,h=t.stats.prevFrame.id+1;t.stats.prevFrame.reset(t.stats.currFrame),t.stats.currFrame.reset(),t.stats.currFrame.id=h,t.stats.currFrame.delta=a,t.stats.currFrame.fps=1/(a/1e3);var c=i();t._update(a);var u=i();t._draw(a);var l=i();t.stats.currFrame.duration.update=u-c,t.stats.currFrame.duration.draw=l-u,n=r,t.emit("postframe",new nt(t,t.stats.currFrame))}catch(e){window.cancelAnimationFrame(t._requestId),t.stop(),t.onFatalException(e)}}},e.prototype.stop=function(){this._hasStarted&&(this.emit("stop",new Y(this)),this.browser.pause(),this._hasStarted=!1,this._logger.debug("Game stopped"))},e.prototype.isPaused=function(){return!this._hasStarted},e.prototype.screenshot=function(){var t=new Image,e=this.canvas.toDataURL("image/png");return t.src=e,t},e.prototype.load=function(t){var e=this,i=new d;return this._isLoading=!0,t.load().then(function(){e._suppressPlayButton?setTimeout(function(){e._isLoading=!1,i.resolve()},500):(e._isLoading=!1,i.resolve())}),i},e._DefaultEngineOptions={width:0,height:0,enableCanvasTransparency:!0,canvasElementId:"",pointerScope:on.Document,suppressConsoleBootMessage:null,suppressMinimumBrowserFeatureDetection:null,suppressHiDPIScaling:null,suppressPlayButton:null,scrollPreventionMode:Cn.Canvas,backgroundColor:At.fromHex("#2185d0")},e}(St),kn=function(){return function(t,e,i){this.animation=t,this.x=e,this.y=i}}(),Rn=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Fn=function(t){function e(e,i){void 0===i&&(i="MediaEvent");var n=t.call(this)||this;return n.target=e,n._name=i,n}return Rn(e,t),Object.defineProperty(e.prototype,"bubbles",{get:function(){return!1},set:function(t){},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_path",{get:function(){return null},set:function(t){},enumerable:!0,configurable:!0}),e.prototype.stopPropagation=function(){},e.prototype.action=function(){},e.prototype.propagate=function(){},e.prototype.layPath=function(t){},e}(q),jn=function(t){function e(e,i){var n=t.call(this,e,"NativeSoundEvent")||this;return n.track=i,n}return Rn(e,t),e}(Fn),Ln=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();!function(t){t[t.Circle=0]="Circle",t[t.Rectangle=1]="Rectangle"}(Bn||(Bn={}));var In=function(t){function e(e,i,n,o,r,s,a,h,c,u){return t.call(this,e,i,n,o,r,s,a,h,c,u)||this}return Ln(e,t),e}(he(function(){function t(t,e,i,n,o,r,s,a,h,c){this.position=new F(0,0),this.velocity=new F(0,0),this.acceleration=new F(0,0),this.particleRotationalVelocity=0,this.currentRotation=0,this.focus=null,this.focusAccel=0,this.opacity=1,this.beginColor=At.White,this.endColor=At.White,this.life=300,this.fadeFlag=!1,this._rRate=1,this._gRate=1,this._bRate=1,this._aRate=0,this._currentColor=At.White,this.emitter=null,this.particleSize=5,this.particleSprite=null,this.sizeRate=0,this.elapsedMultiplier=0;var u=t;if(u&&!(t instanceof Wn)){var l=t;u=l.emitter,e=l.life,i=l.opacity,o=l.endColor,n=l.beginColor,r=l.position,s=l.velocity,a=l.acceleration,h=l.startSize,c=l.endSize}this.emitter=u,this.life=e||this.life,this.opacity=i||this.opacity,this.endColor=o||this.endColor.clone(),this.beginColor=n||this.beginColor.clone(),this._currentColor=this.beginColor.clone(),this.position=r||this.position,this.velocity=s||this.velocity,this.acceleration=a||this.acceleration,this._rRate=(this.endColor.r-this.beginColor.r)/this.life,this._gRate=(this.endColor.g-this.beginColor.g)/this.life,this._bRate=(this.endColor.b-this.beginColor.b)/this.life,this._aRate=this.opacity/this.life,this.startSize=h||0,this.endSize=c||0,this.endSize>0&&this.startSize>0&&(this.sizeRate=(this.endSize-this.startSize)/this.life,this.particleSize=this.startSize)}return t.prototype.kill=function(){this.emitter.removeParticle(this)},t.prototype.update=function(t){if(this.life=this.life-t,this.elapsedMultiplier=this.elapsedMultiplier+t,this.life<0&&this.kill(),this.fadeFlag&&(this.opacity=v(this._aRate*this.life,1e-4,1)),this.startSize>0&&this.endSize>0&&(this.particleSize=v(this.sizeRate*t+this.particleSize,Math.min(this.startSize,this.endSize),Math.max(this.startSize,this.endSize))),this._currentColor.r=v(this._currentColor.r+this._rRate*t,0,255),this._currentColor.g=v(this._currentColor.g+this._gRate*t,0,255),this._currentColor.b=v(this._currentColor.b+this._bRate*t,0,255),this._currentColor.a=v(this.opacity,1e-4,1),this.focus){var e=this.focus.sub(this.position).normalize().scale(this.focusAccel).scale(t/1e3);this.velocity=this.velocity.add(e)}else this.velocity=this.velocity.add(this.acceleration.scale(t/1e3));this.position=this.position.add(this.velocity.scale(t/1e3)),this.particleRotationalVelocity&&(this.currentRotation=(this.currentRotation+this.particleRotationalVelocity*t/1e3)%(2*Math.PI))},t.prototype.draw=function(t){if(this.particleSprite)return this.particleSprite.rotation=this.currentRotation,this.particleSprite.scale.setTo(this.particleSize,this.particleSize),void this.particleSprite.draw(t,this.position.x,this.position.y);this._currentColor.a=v(this.opacity,1e-4,1),t.fillStyle=this._currentColor.toString(),t.beginPath(),t.arc(this.position.x,this.position.y,this.particleSize,0,2*Math.PI),t.fill(),t.closePath()},t}())),Wn=function(t){function e(e,i,n,o){return t.call(this,e,i,n,o)||this}return Ln(e,t),e}(he(function(t){function e(e,i,n,o){var r=t.call(this,"number"==typeof e?{x:e,y:i,width:n,height:o}:e)||this;r.numParticles=0,r.isEmitting=!0,r.particles=null,r.deadParticles=null,r.minVel=0,r.maxVel=0,r.acceleration=new F(0,0),r.minAngle=0,r.maxAngle=0,r.emitRate=1,r.particleLife=2e3,r.opacity=1,r.fadeFlag=!1,r.focus=null,r.focusAccel=1,r.startSize=null,r.endSize=null,r.minSize=5,r.maxSize=5,r.beginColor=At.White,r.endColor=At.White,r.particleSprite=null,r.emitterType=Bn.Rectangle,r.radius=0,r.particleRotationalVelocity=0,r.randomRotation=!1,r._particlesToEmit=0,r.body.collider.type=Ct.PreventCollision,r.particles=new B,r.deadParticles=new B,r.random=new f;for(var s=0;s<r.traits.length;s++)r.traits[s]instanceof We&&r.traits.splice(s,1);return r}return Ln(e,t),e.prototype.removeParticle=function(t){this.deadParticles.push(t)},e.prototype.emitParticles=function(t){for(var e=0;e<t;e++)this.particles.push(this._createParticle())},e.prototype.clearParticles=function(){this.particles.clear()},e.prototype._createParticle=function(){var t=0,e=0,i=m(this.minAngle,this.maxAngle,this.random),n=m(this.minVel,this.maxVel,this.random),o=this.startSize||m(this.minSize,this.maxSize,this.random),r=n*Math.cos(i),s=n*Math.sin(i);if(this.emitterType===Bn.Rectangle)t=m(this.pos.x,this.pos.x+this.width,this.random),e=m(this.pos.y,this.pos.y+this.height,this.random);else if(this.emitterType===Bn.Circle){var a=m(0,this.radius,this.random);t=a*Math.cos(i)+this.pos.x,e=a*Math.sin(i)+this.pos.y}var h=new In(this,this.particleLife,this.opacity,this.beginColor,this.endColor,new F(t,e),new F(r,s),this.acceleration,this.startSize,this.endSize);return h.fadeFlag=this.fadeFlag,h.particleSize=o,this.particleSprite&&(h.particleSprite=this.particleSprite),h.particleRotationalVelocity=this.particleRotationalVelocity,this.randomRotation&&(h.currentRotation=m(0,2*Math.PI,this.random)),this.focus&&(h.focus=this.focus.add(new F(this.pos.x,this.pos.y)),h.focusAccel=this.focusAccel),h},e.prototype.update=function(e,i){var n=this;t.prototype.update.call(this,e,i),this.isEmitting&&(this._particlesToEmit+=this.emitRate*(i/1e3),this._particlesToEmit>1&&(this.emitParticles(Math.floor(this._particlesToEmit)),this._particlesToEmit=this._particlesToEmit-Math.floor(this._particlesToEmit))),this.particles.forEach(function(t){return t.update(i)}),this.deadParticles.forEach(function(t){return n.particles.removeElement(t)}),this.deadParticles.clear()},e.prototype.draw=function(t){this.particles.forEach(function(e){return e.draw(t)})},e.prototype.debugDraw=function(e){t.prototype.debugDraw.call(this,e),e.fillStyle=At.Black.toString(),e.fillText("Particles: "+this.particles.count(),this.pos.x,this.pos.y+20),this.focus&&(e.fillRect(this.focus.x+this.pos.x,this.focus.y+this.pos.y,3,3),ze(e,At.Yellow,this.focus.x+this.pos.x,this.focus.y+this.pos.y,this.center.x,this.center.y),e.fillText("Focus",this.focus.x+this.pos.x,this.focus.y+this.pos.y))},e}($e))),Hn={Actions:r},zn=function(){function t(){}return t.create=function(t,e){if(this._currentGroup>this._MAX_GROUPS)throw new Error("Cannot have more than "+this._MAX_GROUPS+" collision groups");if(this._groups.get(t))throw new Error("Collision group "+t+" already exists");var i=new Ve(t,this._currentBit,void 0!==e?e:~this._currentBit);return this._currentBit=this._currentBit<<1|0,this._currentGroup++,this._groups.set(t,i),i},Object.defineProperty(t,"groups",{get:function(){return Array.from(this._groups.values())},enumerable:!0,configurable:!0}),t.groupByName=function(t){return this._groups.get(t)},t.reset=function(){this._groups=new Map,this._currentBit=this._STARTING_BIT,this._currentGroup=1},t._STARTING_BIT=1,t._MAX_GROUPS=32,t._currentGroup=1,t._currentBit=t._STARTING_BIT,t._groups=new Map,t}(),Un=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Nn=function(t){function e(e,i,n,o){return t.call(this,e,i,n,o)||this}return Un(e,t),e}(he(function(){function t(t,e,i,n){this.sprites=[],this.currentFrame=0,this._oldTime=Date.now(),this.anchor=new F(0,0),this.rotation=0,this.scale=new F(1,1),this.loop=!0,this.freezeFrame=-1,this.flipVertical=!1,this.flipHorizontal=!1,this.drawWidth=0,this.drawHeight=0,this.width=0,this.height=0;var o=t;if(t&&!(t instanceof Dn)){var r=t;o=r.engine,e=r.sprites,i=r.speed,n=r.loop}this.sprites=e,this.speed=i,this._engine=o,null!=n&&(this.loop=n),e&&e[0]&&(this.drawHeight=e[0]?e[0].drawHeight:0,this.drawWidth=e[0]?e[0].drawWidth:0,this.width=e[0]?e[0].width:0,this.height=e[0]?e[0].height:0,this.freezeFrame=e.length-1)}return t.prototype.opacity=function(t){this.addEffect(new te(t))},t.prototype.grayscale=function(){this.addEffect(new Jt)},t.prototype.invert=function(){this.addEffect(new $t)},t.prototype.fill=function(t){this.addEffect(new se(t))},t.prototype.colorize=function(t){this.addEffect(new ee(t))},t.prototype.lighten=function(t){void 0===t&&(t=.1),this.addEffect(new ie(t))},t.prototype.darken=function(t){void 0===t&&(t=.1),this.addEffect(new ne(t))},t.prototype.saturate=function(t){void 0===t&&(t=.1),this.addEffect(new oe(t))},t.prototype.desaturate=function(t){void 0===t&&(t=.1),this.addEffect(new re(t))},t.prototype.addEffect=function(t){for(var e in this.sprites)this.sprites[e].addEffect(t)},t.prototype.removeEffect=function(t){for(var e in this.sprites)this.sprites[e].removeEffect(t)},t.prototype.clearEffects=function(){for(var t in this.sprites)this.sprites[t].clearEffects()},t.prototype._setAnchor=function(t){for(var e in this.sprites)this.sprites[e].anchor.setTo(t.x,t.y)},t.prototype._setRotation=function(t){for(var e in this.sprites)this.sprites[e].rotation=t},t.prototype._setScale=function(t){for(var e in this.sprites)this.sprites[e].scale=t},t.prototype.reset=function(){this.currentFrame=0},t.prototype.isDone=function(){return!this.loop&&this.currentFrame>=this.sprites.length},t.prototype.tick=function(){var t=Date.now();t-this._oldTime>this.speed&&(this.currentFrame=this.loop?(this.currentFrame+1)%this.sprites.length:this.currentFrame+1,this._oldTime=t)},t.prototype._updateValues=function(){this._setAnchor(this.anchor),this._setRotation(this.rotation),this._setScale(this.scale)},t.prototype.skip=function(t){this.currentFrame=(this.currentFrame+t)%this.sprites.length},t.prototype.draw=function(t,e,i){var n;this.tick(),this._updateValues(),this.currentFrame<this.sprites.length&&(n=this.sprites[this.currentFrame],this.flipVertical&&(n.flipVertical=this.flipVertical),this.flipHorizontal&&(n.flipHorizontal=this.flipHorizontal),n.draw(t,e,i)),-1!==this.freezeFrame&&this.currentFrame>=this.sprites.length&&(n=this.sprites[v(this.freezeFrame,0,this.sprites.length-1)]).draw(t,e,i),n&&(this.drawWidth=n.drawWidth,this.drawHeight=n.drawHeight)},t.prototype.play=function(t,e){this.reset(),this._engine.playAnimation(this,t,e)},t}())),qn=function(){function t(t){this.lineWidth=5,this.filled=!1,this._points=[],this.anchor=new F(0,0),this.rotation=0,this.scale=new F(1,1),this._points=t;var e=this._points.reduce(function(t,e){return Math.min(t,e.x)},0),i=this._points.reduce(function(t,e){return Math.max(t,e.x)},0);this.drawWidth=i-e;var n=this._points.reduce(function(t,e){return Math.min(t,e.y)},0),o=this._points.reduce(function(t,e){return Math.max(t,e.y)},0);this.drawHeight=o-n,this.height=this.drawHeight,this.width=this.drawWidth}return t.prototype.addEffect=function(){},t.prototype.removeEffect=function(){},t.prototype.clearEffects=function(){},t.prototype.reset=function(){},t.prototype.draw=function(t,e,i){t.save(),t.translate(e+this.anchor.x,i+this.anchor.y),t.scale(this.scale.x,this.scale.y),t.rotate(this.rotation),t.beginPath(),t.lineWidth=this.lineWidth;var n=this._points[0];t.moveTo(n.x,n.y);for(var o=0,r=this._points.length;o<r;o++)t.lineTo(this._points[o].x,this._points[o].y);t.lineTo(n.x,n.y),t.closePath(),this.filled&&(t.fillStyle=this.fillColor.toString(),t.fill()),t.strokeStyle=this.lineColor.toString(),this.flipHorizontal&&(t.translate(this.drawWidth,0),t.scale(-1,1)),this.flipVertical&&(t.translate(0,this.drawHeight),t.scale(1,-1)),t.stroke(),t.restore()},t}(),Gn=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Vn=function(t){function e(e,i,n,o,r,s){return t.call(this,e,i,n,o,r,s)||this}return Gn(e,t),e}(he(function(){function t(t,e,i,n,o,r){var s=this;this.sprites=[],this.image=null,this.columns=0,this.rows=0,this.spWidth=0,this.spHeight=0,this.spacing=0;var a=!1;if(t instanceof Array?this.sprites=t:(!t||t instanceof de?(this.image=t,this.columns=e,this.rows=i,this.spWidth=n,this.spHeight=o,this.spacing=r||0):(this.columns=t.columns,this.rows=t.rows,this.spWidth=t.spWidth,this.spHeight=t.spHeight,this.image=t.image,this.spacing=t.spacing||0),this.sprites=new Array(this.columns*this.rows),a=!0),this.image instanceof de){var h=!1,c=!1;if(this.image.loaded.then(function(t){h=s.spWidth*s.columns>t.naturalWidth,c=s.spHeight*s.rows>t.naturalHeight}),h)throw new RangeError("SpriteSheet specified is wider, "+this.columns+" cols x "+this.spWidth+" pixels > "+this.image.image.naturalWidth+" pixels than image width");if(c)throw new RangeError("SpriteSheet specified is taller, "+this.rows+" rows x "+this.spHeight+" pixels > "+this.image.image.naturalHeight+" pixels than image height")}if(a)for(var u=0;u<this.rows;u++)for(var l=0;l<this.columns;l++)this.sprites[l+u*this.columns]=new le(this.image,l*this.spWidth+this.spacing*l+this.spacing,u*this.spHeight+this.spacing*u+this.spacing,this.spWidth,this.spHeight)}return t.prototype.getAnimationByIndices=function(t,e,i){var n=this,o=e.map(function(t){return n.sprites[t]});return o=o.map(function(t){return t.clone()}),new Nn(t,o,i)},t.prototype.getAnimationBetween=function(t,e,i,n){var o=this.sprites.slice(e,i);return o=o.map(function(t){return t.clone()}),new Nn(t,o,n)},t.prototype.getAnimationForAll=function(t,e){var i=this.sprites.map(function(t){return t.clone()});return new Nn(t,i,e)},t.prototype.getSprite=function(t){if(t>=0&&t<this.sprites.length)return this.sprites[t];throw new Error("Invalid index: "+t)},t.prototype.getAnimationByCoords=function(t,e,i){for(var n=0,o=0,r=new Array(e.length),s=0;s<e.length;s++){var a=e[s];a.image=a.image||this.image,n=Math.max(n,a.drawWidth),o=Math.max(o,a.drawHeight),r[s]=new le(a)}var h=new Nn(t,r,i);return h.drawWidth=n,h.drawHeight=o,h},t}())),Xn=function(t){function e(e,i,n,o,r,s,a,h){return t.call(this,e,i,n,o,r,s,a,h)||this}return Gn(e,t),e}(he(function(t){function e(e,i,n,o,r,s,a,h){var c=t.call(this,e instanceof de?{image:e,spWidth:s,spHeight:a,rows:r,columns:o,spacing:h||0}:e)||this;return c._currentColor=At.Black,c._currentOpacity=1,c._sprites={},c._textShadowOn=!1,c._textShadowDirty=!0,c._textShadowColor=At.Black,c._textShadowSprites={},c._shadowOffsetX=5,c._shadowOffsetY=5,!e||e instanceof de||(i=e.alphabet,n=e.caseInsensitive),c._alphabet=i,c._caseInsensitive=n,c._sprites=c.getTextSprites(),c}return Gn(e,t),e.prototype.getTextSprites=function(){for(var t={},e=0;e<this._alphabet.length;e++){var i=this._alphabet[e];this._caseInsensitive&&(i=i.toLowerCase()),t[i]=this.sprites[e].clone()}return t},e.prototype.setTextShadow=function(t,e,i){for(var n in this._textShadowOn=!0,this._shadowOffsetX=t,this._shadowOffsetY=e,this._textShadowColor=i.clone(),this._textShadowDirty=!0,this._sprites)this._textShadowSprites[n]=this._sprites[n].clone()},e.prototype.useTextShadow=function(t){this._textShadowOn=t,t&&this.setTextShadow(5,5,this._textShadowColor)},e.prototype.draw=function(t,e,i,n,o){if(o=this._parseOptions(o),this._currentColor.toString()!==o.color.toString()||this._currentOpacity!==o.opacity)for(var r in this._currentOpacity=o.opacity,this._currentColor=o.color,this._sprites)this._sprites[r].clearEffects(),this._sprites[r].fill(o.color),this._sprites[r].opacity(o.opacity);if(this._textShadowOn&&this._textShadowDirty&&this._textShadowColor){for(var s in this._textShadowSprites)this._textShadowSprites[s].clearEffects(),this._textShadowSprites[s].addEffect(new se(this._textShadowColor.clone()));this._textShadowDirty=!1}var a=this.sprites[0],h=a.drawHeight,c=o.fontSize/h,u=e.length*a.drawWidth*c+e.length*o.letterSpacing,l=i;o.textAlign===Bi.Left||o.textAlign===Bi.Start?l=i:o.textAlign===Bi.Right||o.textAlign===Bi.End?l=i-u:o.textAlign===Bi.Center&&(l=i-u/2);var p=n-h*c;o.baseAlign===Di.Top||o.baseAlign===Di.Hanging?p=n:o.baseAlign===Di.Ideographic||o.baseAlign===Di.Bottom||o.baseAlign===Di.Alphabetic?p=n-h*c:o.baseAlign===Di.Middle&&(p=n-h*c/2);for(var d=0;d<e.length;d++){var f=e[d];this._caseInsensitive&&(f=f.toLowerCase());try{this._textShadowOn&&(this._textShadowSprites[f].scale.x=c,this._textShadowSprites[f].scale.y=c,this._textShadowSprites[f].draw(t,l+this._shadowOffsetX,p+this._shadowOffsetY));var g=this._sprites[f];g.scale.x=c,g.scale.y=c,g.draw(t,l,p),l+=g.drawWidth+o.letterSpacing}catch(t){Nt.getInstance().error("SpriteFont Error drawing char "+f)}}},e.prototype._parseOptions=function(t){return{fontSize:t.fontSize||10,letterSpacing:t.letterSpacing||0,color:t.color||At.Black,textAlign:void 0===typeof t.textAlign?Bi.Left:t.textAlign,baseAlign:void 0===typeof t.baseAlign?Di.Bottom:t.baseAlign,maxWidth:t.maxWidth||-1,opacity:t.opacity||0}},e}(Vn))),Kn=function(){function t(){}return t.type={any:"",blob:"blob",json:"json",text:"text",document:"document",arraybuffer:"arraybuffer"},t}();function Yn(t,e,i){return e+t*(i-e)}function Zn(t){return t*t*t*(t*(6*t-15)+10)}var Qn,Jn=function(){function t(t){this._perm=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],this._p=new Uint8Array(512),this._defaultPerlinOptions={octaves:1,frequency:1,amplitude:1,persistance:.5},t=y({},this._defaultPerlinOptions,t),this.persistance=t.persistance,this.amplitude=t.amplitude,this.frequency=t.frequency,this.octaves=t.octaves,t.seed?this._random=new f(t.seed):this._random=new f,this._perm=this._random.shuffle(this._perm);for(var e=0;e<512;e++)this._p[e]=255&this._perm[e%256]}return t.prototype.noise=function(){for(var t=this.amplitude,e=this.frequency,i=0,n=0,o=0;o<this.octaves;o++){switch(arguments.length){case 1:i+=this._noise1d(arguments[0]*e)*t;break;case 2:i+=this._noise2d(arguments[0]*e,arguments[1]*e)*t;break;case 3:i+=this._noise3d(arguments[0]*e,arguments[1]*e,arguments[2]*e)*t;break;default:throw new Error("Invalid arguments for perlin noise")}n+=t,t*=this.persistance,e*=2}return i/n},t.prototype.sequence=function(t,e){e||(e=1/t);for(var i=new Array(t),n=0;n<t;n++)i[n]=this.noise(n*e);return i},t.prototype.grid=function(t,e,i){i||(i=1/Math.min(t,e));for(var n=new Array(t*e),o=0;o<e;o++)for(var r=0;r<t;r++)n[r+o*t]=this.noise(r*i,o*i);return n},t.prototype._gradient3d=function(t,e,i,n){var o=15&t,r=o<8?e:i,s=o<4?i:12===o||14===o?e:n;return(0==(1&o)?r:-r)+(0==(2&o)?s:-s)},t.prototype._gradient2d=function(t,e,i){var n=0==(1&t)?e:i;return 0==(2&t)?-n:n},t.prototype._gradient1d=function(t,e){return 0==(1&t)?-e:e},t.prototype._noise1d=function(t){var e=255&Math.floor(t);return(Yn(Zn(t-=Math.floor(t)),this._gradient1d(this._p[e],t),this._gradient1d(this._p[e+1],t-1))+1)/2},t.prototype._noise2d=function(t,e){var i=255&Math.floor(t),n=255&Math.floor(e);t-=Math.floor(t),e-=Math.floor(e);var o=Zn(t),r=Zn(e),s=this._p[i]+n,a=this._p[i+1]+n;return(Yn(r,Yn(o,this._gradient2d(this._p[s],t,e),this._gradient2d(this._p[a],t-1,e)),Yn(o,this._gradient2d(this._p[s+1],t,e-1),this._gradient2d(this._p[a+1],t-1,e-1)))+1)/2},t.prototype._noise3d=function(t,e,i){var n=255&Math.floor(t),o=255&Math.floor(e),r=255&Math.floor(i);t-=Math.floor(t),e-=Math.floor(e),i-=Math.floor(i);var s=Zn(t),a=Zn(e),h=Zn(i),c=this._p[n]+o,u=this._p[n+1]+o,l=this._p[c]+r,p=this._p[u]+r,d=this._p[c+1]+r,f=this._p[u+1]+r;return(Yn(h,Yn(a,Yn(s,this._gradient3d(this._p[l],t,e,i),this._gradient3d(this._p[p],t-1,e,i)),Yn(s,this._gradient3d(this._p[d],t,e-1,i),this._gradient3d(this._p[f],t-1,e-1,i))),Yn(a,Yn(s,this._gradient3d(this._p[l+1],t,e,i-1),this._gradient3d(this._p[p+1],t-1,e,i-1)),Yn(s,this._gradient3d(this._p[d+1],t,e-1,i-1),this._gradient3d(this._p[f+1],t-1,e-1,i-1))))+1)/2},t}(),$n=function(){function t(t,e){this.generator=t,this.colorFcn=e,e||(this.colorFcn=function(t){return t<125?At.Black:At.White})}return t.prototype.image=function(t,e){var i=document.createElement("img"),n=document.createElement("canvas");n.width=t,n.height=e;var o=n.getContext("2d");return this.draw(o,0,0,t,e),i.src=n.toDataURL(),i},t.prototype.draw=function(t,e,i,n,o){for(var r=this.generator.grid(n,o),s=t.getImageData(e,i,n,o),a=0;a<o;a++)for(var h=0;h<n;h++){var c=r[h+n*a],u=255&Math.floor(255*c),l=4*(h+a*s.width),p=this.colorFcn(u);s.data[l]=p.r,s.data[l+1]=p.g,s.data[l+2]=p.b,s.data[l+3]=Math.floor(255*p.a)}t.putImageData(s,e,i)},t}();!function(t){t[t.Protanope=0]="Protanope",t[t.Deuteranope=1]="Deuteranope",t[t.Tritanope=2]="Tritanope"}(Qn||(Qn={}));var to=function(){function t(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=Qn.Protanope),this.engine=t,this.simulate=e,this.colorMode=i,this._vertexShader="attribute vec2 a_position;attribute vec2 a_texCoord;uniform vec2 u_resolution;varying vec2 v_texCoord;void main() {vec2 zeroToOne = a_position / u_resolution;vec2 zeroToTwo = zeroToOne * 2.0;vec2 clipSpace = zeroToTwo - 1.0;gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);v_texCoord = a_texCoord;}",this._fragmentShader="precision mediump float;uniform sampler2D u_image;varying vec2 v_texCoord;void main() {vec4 o =  texture2D(u_image, v_texCoord);float L = (17.8824 * o.r) + (43.5161 * o.g) + (4.11935 * o.b);float M = (3.45565 * o.r) + (27.1554 * o.g) + (3.86714 * o.b);float S = (0.0299566 * o.r) + (0.184309 * o.g) + (1.46709 * o.b);//MODE CODE//vec4 error;error.r = (0.0809444479 * l) + (-0.130504409 * m) + (0.116721066 * s);error.g = (-0.0102485335 * l) + (0.0540193266 * m) + (-0.113614708 * s);error.b = (-0.000365296938 * l) + (-0.00412161469 * m) + (0.693511405 * s);error.a = 1.0;vec4 diff = o - error;vec4 correction;correction.r = 0.0;correction.g =  (diff.r * 0.7) + (diff.g * 1.0);correction.b =  (diff.r * 0.7) + (diff.b * 1.0);correction = o + correction;correction.a = o.a;//SIMULATE//}",this._internalCanvas=document.createElement("canvas"),this._internalCanvas.width=t.drawWidth,this._internalCanvas.height=t.drawHeight,this._gl=this._internalCanvas.getContext("webgl",{preserveDrawingBuffer:!0}),this._program=this._gl.createProgram();var n=this._getShader("Fragment",this._getFragmentShaderByMode(i)),o=this._getShader("Vertex",this._vertexShader);this._gl.attachShader(this._program,o),this._gl.attachShader(this._program,n),this._gl.linkProgram(this._program),this._gl.getProgramParameter(this._program,this._gl.LINK_STATUS)||Nt.getInstance().error("Unable to link shader program!"),this._gl.useProgram(this._program)}return t.prototype._getFragmentShaderByMode=function(t){var e="";return t===Qn.Protanope?e="float l = 0.0 * L + 2.02344 * M + -2.52581 * S;float m = 0.0 * L + 1.0 * M + 0.0 * S;float s = 0.0 * L + 0.0 * M + 1.0 * S;":t===Qn.Deuteranope?e="float l = 1.0 * L + 0.0 * M + 0.0 * S;float m = 0.494207 * L + 0.0 * M + 1.24827 * S;float s = 0.0 * L + 0.0 * M + 1.0 * S;":t===Qn.Tritanope&&(e="float l = 1.0 * L + 0.0 * M + 0.0 * S;float m = 0.0 * L + 1.0 * M + 0.0 * S;float s = -0.395913 * L + 0.801109 * M + 0.0 * S;"),this.simulate?this._fragmentShader=this._fragmentShader.replace("//SIMULATE//","gl_FragColor = error.rgba;"):this._fragmentShader=this._fragmentShader.replace("//SIMULATE//","gl_FragColor = correction.rgba;"),this._fragmentShader.replace("//MODE CODE//",e)},t.prototype._setRectangle=function(t,e,i,n){var o=t,r=t+i,s=e,a=e+n;this._gl.bufferData(this._gl.ARRAY_BUFFER,new Float32Array([o,s,r,s,o,a,o,a,r,s,r,a]),this._gl.STATIC_DRAW)},t.prototype._getShader=function(t,e){var i;return"Fragment"===t?i=this._gl.createShader(this._gl.FRAGMENT_SHADER):"Vertex"===t?i=this._gl.createShader(this._gl.VERTEX_SHADER):Nt.getInstance().error("Error unknown shader type",t),this._gl.shaderSource(i,e),this._gl.compileShader(i),this._gl.getShaderParameter(i,this._gl.COMPILE_STATUS)?i:(Nt.getInstance().error("Unable to compile shader!",this._gl.getShaderInfoLog(i)),null)},t.prototype.process=function(t,e){var i=this._gl.getAttribLocation(this._program,"a_position"),n=this._gl.getAttribLocation(this._program,"a_texCoord"),o=this._gl.createBuffer();this._gl.bindBuffer(this._gl.ARRAY_BUFFER,o),this._gl.bufferData(this._gl.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),this._gl.STATIC_DRAW),this._gl.enableVertexAttribArray(n),this._gl.vertexAttribPointer(n,2,this._gl.FLOAT,!1,0,0);var r=this._gl.createTexture();this._gl.bindTexture(this._gl.TEXTURE_2D,r),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MIN_FILTER,this._gl.NEAREST),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MAG_FILTER,this._gl.NEAREST),this._gl.pixelStorei(this._gl.UNPACK_FLIP_Y_WEBGL,1),this._gl.texImage2D(this._gl.TEXTURE_2D,0,this._gl.RGBA,this._gl.RGBA,this._gl.UNSIGNED_BYTE,t);var s=this._gl.getUniformLocation(this._program,"u_resolution");this._gl.uniform2f(s,this._internalCanvas.width,this._internalCanvas.height);var a=this._gl.createBuffer();this._gl.bindBuffer(this._gl.ARRAY_BUFFER,a),this._gl.enableVertexAttribArray(i),this._gl.vertexAttribPointer(i,2,this._gl.FLOAT,!1,0,0),this._setRectangle(0,0,t.width,t.height),this._gl.drawArrays(this._gl.TRIANGLES,0,6);var h=new Uint8Array(t.width*t.height*4);this._gl.readPixels(0,0,t.width,t.height,this._gl.RGBA,this._gl.UNSIGNED_BYTE,h),t.data.set(h),e.putImageData(t,0,0)},t}(),eo=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),io=function(){function t(){}return t.create=function(t){return"string"==typeof t?new oo(t):t instanceof AudioBuffer?new ro(t):new no(t)},t}(),no=function(){function t(t){this._src=t,this._volume=1,this._loop=!1,this._isPlaying=!1,this._isPaused=!1}return Object.defineProperty(t.prototype,"loop",{get:function(){return this._loop},set:function(t){this._loop=t,this._instance&&(this._instance.loop=t,this._wireUpOnEnded())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"volume",{get:function(){return this._volume},set:function(t){this._volume=v(t,0,1)},enumerable:!0,configurable:!0}),t.prototype.isPlaying=function(){return this._isPlaying},t.prototype.pause=function(){this._isPlaying&&(this._isPaused=!0,this._isPlaying=!1)},t.prototype.stop=function(){this._isPlaying&&(this._isPlaying=!1,this._isPaused=!1)},t.prototype.play=function(){return this._isPaused&&this._resumePlayBack(),this._isPlaying||this._startPlayBack(),this._playingPromise},t.prototype._startPlayBack=function(){this._isPlaying=!0,this._isPaused=!1,this._playingPromise=new d},t.prototype._resumePlayBack=function(){this._isPaused&&(this._isPaused=!1,this._isPlaying=!0)},t.prototype._wireUpOnEnded=function(){var t=this;this.loop||(this._instance.onended=function(){return t._handleOnEnded()})},t.prototype._handleOnEnded=function(){},t}(),oo=function(t){function e(e){var i=t.call(this,e)||this;return i._instance=new Audio(e),i}return eo(e,t),Object.defineProperty(e.prototype,"volume",{get:function(){return this._volume},set:function(t){t=v(t,0,1),this._volume=t,this._instance.volume=t},enumerable:!0,configurable:!0}),e.prototype.pause=function(){this._isPlaying&&(this._instance.pause(),this._isPaused=!0,this._isPlaying=!1)},e.prototype.stop=function(){t.prototype.stop.call(this),this._instance.pause(),this._instance.currentTime=0,this._handleOnEnded()},e.prototype._startPlayBack=function(){t.prototype._startPlayBack.call(this),this._instance.load(),this._instance.loop=this.loop,this._instance.play(),this._wireUpOnEnded()},e.prototype._resumePlayBack=function(){t.prototype._resumePlayBack.call(this),this._instance.play(),this._wireUpOnEnded()},e.prototype._handleOnEnded=function(){this._isPlaying=!1,this._isPaused=!1,this._playingPromise.resolve(!0)},e}(no),ro=function(t){function e(e){var i=t.call(this,e)||this;return i._audioContext=hi.create(),i._volumeNode=i._audioContext.createGain(),i._currentOffset=0,i._createNewBufferSource(),i}return eo(e,t),Object.defineProperty(e.prototype,"volume",{get:function(){return this._volume},set:function(t){t=v(t,0,1),this._volume=t,this._volumeNode.gain.setTargetAtTime?this._volumeNode.gain.setTargetAtTime(t,this._audioContext.currentTime,.1):this._volumeNode.gain.value=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_playbackRate",{get:function(){return this._instance?1/(this._instance.playbackRate.value||1):null},enumerable:!0,configurable:!0}),e.prototype.pause=function(){t.prototype.pause.call(this),this._instance.stop(0),this._setPauseOffset()},e.prototype.stop=function(){t.prototype.stop.call(this),this._currentOffset=0,this._instance.stop(0),this._instance.onended||this._handleOnEnded()},e.prototype._startPlayBack=function(){t.prototype._startPlayBack.call(this),this._instance||this._createNewBufferSource(),this._rememberStartTime(),this._volumeNode.connect(this._audioContext.destination),this._instance.start(0,0),this._currentOffset=0,this._playingPromise=new d,this._wireUpOnEnded()},e.prototype._resumePlayBack=function(){t.prototype._resumePlayBack.call(this),this._instance.onended=null,this._createNewBufferSource();var e=this._playbackRate*this._src.duration,i=this._currentOffset%e;this._rememberStartTime(-1e3*i),this._instance.start(0,i),this._wireUpOnEnded()},e.prototype._handleOnEnded=function(){this._isPaused||(this._isPlaying=!1,this._playingPromise.resolve(!0))},e.prototype._rememberStartTime=function(t){this._startTime=(new Date).getTime()+(0|t)},e.prototype._setPauseOffset=function(){this._currentOffset=((new Date).getTime()-this._startTime)*this._playbackRate/1e3},e.prototype._createNewBufferSource=function(){this._instance=this._audioContext.createBufferSource(),this._instance.buffer=this._src,this._instance.loop=this.loop,this._instance.playbackRate.setValueAtTime(1,0),this._instance.connect(this._volumeNode)},e}(no);function so(t){try{var e=new Audio,i=t.match(/.*\.([A-Za-z0-9]+)$/)[1];return!!e.canPlayType("audio/"+i)}catch(t){return Nt.getInstance().warn("Cannot determine audio support, assuming no support for the Audio Tag",t),!1}}var ao=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ho=function(t){function e(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var n=t.call(this,"","")||this;n._loop=!1,n._volume=1,n._isPaused=!1,n._tracks=[],n._wasPlayingOnHidden=!1,n._processedData=new d,n._audioContext=hi.create(),n._detectResponseType();for(var o=0,r=e;o<r.length;o++){var s=r[o];if(so(s)){n.path=s;break}}return n.path||(n.logger.warn("This browser does not support any of the audio files specified:",e.join(", ")),n.logger.warn("Attempting to use",e[0]),n.path=e[0]),n}return ao(e,t),Object.defineProperty(e.prototype,"loop",{get:function(){return this._loop},set:function(t){this._loop=t;for(var e=0,i=this._tracks;e<i.length;e++){i[e].loop=this._loop}this.logger.debug("Set loop for all instances of sound",this.path,"to",this._loop)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"volume",{get:function(){return this._volume},set:function(t){this._volume=t;for(var e=0,i=this._tracks;e<i.length;e++){i[e].volume=this._volume}this.emit("volumechange",new jn(this)),this.logger.debug("Set loop for all instances of sound",this.path,"to",this._volume)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"instances",{get:function(){return this._tracks},enumerable:!0,configurable:!0}),e.prototype.wireEngine=function(t){var e=this;t&&(this._engine=t,this._engine.on("hidden",function(){t.pauseAudioWhenHidden&&e.isPlaying()&&(e._wasPlayingOnHidden=!0,e.pause())}),this._engine.on("visible",function(){t.pauseAudioWhenHidden&&e._wasPlayingOnHidden&&(e.play(),e._wasPlayingOnHidden=!1)}))},e.prototype.instanceCount=function(){return this._tracks.length},e.prototype.isPlaying=function(){return this._tracks.some(function(t){return t.isPlaying()})},e.prototype.play=function(t){return this.isLoaded()?(this.volume=t||this.volume,this._isPaused?this._resumePlayback():this._startPlayback()):(this.logger.warn("Cannot start playing. Resource",this.path,"is not loaded yet"),d.resolve(!0))},e.prototype.pause=function(){if(this.isPlaying()){for(var t=0,e=this._tracks;t<e.length;t++){e[t].pause()}this._isPaused=!0,this.emit("pause",new jn(this)),this.logger.debug("Paused all instances of sound",this.path)}},e.prototype.stop=function(){if(this.isPlaying()){for(var t=0,e=this._tracks;t<e.length;t++){e[t].stop()}this.emit("stop",new jn(this)),this._isPaused=!1,this._tracks.length=0,this.logger.debug("Stopped all instances of sound",this.path)}},e.prototype.setData=function(t){this.emit("emptied",new jn(this)),this.data=t,this._processedData=new d},e.prototype.processData=function(t){var e=this;return(t instanceof ArrayBuffer?this._processArrayBufferData(t):this._processBlobData(t)).then(function(t){return e._setProcessedData(t)})},e.prototype.getTrackId=function(t){return this._tracks.indexOf(t)},e.prototype._resumePlayback=function(){if(this._isPaused){for(var t=[],e=0,i=this._tracks;e<i.length;e++){var n=i[e];t.push(n.play())}return this._isPaused=!1,this.emit("resume",new jn(this)),this.logger.debug("Resuming paused instances for sound",this.path,this._tracks),d.join(t)}return d.resolve(!0)},e.prototype._startPlayback=function(){var t=this,e=this._createNewTrack(),i=new d;return e.then(function(e){e.play().then(function(n){return t.emit("playbackend",new jn(t,e)),t._tracks.splice(t.getTrackId(e),1),i.resolve(n),n}),t.emit("playbackstart",new jn(t,e)),t.logger.debug("Playing new instance for sound",t.path)}),i},e.prototype._processArrayBufferData=function(t){var e=this,i=new d;return this._audioContext.decodeAudioData(t,function(t){i.resolve(t)},function(){e.logger.error("Unable to decode  this browser may not fully support this format, or the file may be corrupt, if this is an mp3 try removing id3 tags and album art from the file."),i.resolve(void 0)}),i},e.prototype._processBlobData=function(e){return(new d).resolve(t.prototype.processData.call(this,e))},e.prototype._setProcessedData=function(t){this._processedData.resolve(t)},e.prototype._createNewTrack=function(){var t=this,e=new d;return 0!==this._processedData.state()&&this.processData(this.data),this._processedData.then(function(i){return e.resolve(t._getTrackInstance(i)),i},function(e){t.logger.error(e,"Cannot create AudioInstance due to wrong processed data.")}),e},e.prototype._getTrackInstance=function(t){var e=io.create(t);return e.loop=this.loop,e.volume=this.volume,this._tracks.push(e),e},e.prototype._detectResponseType=function(){window.AudioContext?this.responseType=Kn.type.arraybuffer:this.responseType=Kn.type.blob},e}(Qt),co=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),uo=function(t){function e(e,i,n){void 0===i&&(i=At.Magenta),void 0===n&&(n=!0);var o=t.call(this,e,"arraybuffer",n)||this;return o.path=e,o.color=i,o.bustCache=n,o.loaded=new d,o._isLoaded=!1,o._stream=null,o._gif=null,o._texture=[],o._animation=null,o._transparentColor=null,o._transparentColor=i,o}return co(e,t),e.prototype.isLoaded=function(){return this._isLoaded},e.prototype.load=function(){var e=this,i=new d;return t.prototype.load.call(this).then(function(){e._stream=new fo(e.getData()),e._gif=new yo(e._stream,e._transparentColor);for(var t=[],n=0;n<e._gif.images.length;n++){var o=new de(e._gif.images[n].src,!1);e._texture.push(o),t.push(o.load())}d.join(t).then(function(){e._isLoaded=!0,i.resolve(e._texture)})},function(){i.reject("Error loading texture.")}),i},e.prototype.asSprite=function(t){return void 0===t&&(t=0),this._texture[t].asSprite()},e.prototype.asSpriteSheet=function(){var t=this._texture.map(function(t){return t.asSprite()});return new Vn(t)},e.prototype.asAnimation=function(t,e){var i=this.asSpriteSheet();return this._animation=i.getAnimationForAll(t,e),this._animation},Object.defineProperty(e.prototype,"readCheckBytes",{get:function(){return this._gif.checkBytes},enumerable:!0,configurable:!0}),e}(Qt),lo=function(t){return t.reduce(function(t,e){return 2*t+e},0)},po=function(t){for(var e=[],i=7;i>=0;i--)e.push(!!(t&1<<i));return e},fo=function(){return function(t){var e=this;if(this.data=null,this.len=0,this.position=0,this.readByte=function(){if(e.position>=e.data.byteLength)throw new Error("Attempted to read past end of stream.");return e.data[e.position++]},this.readBytes=function(t){for(var i=[],n=0;n<t;n++)i.push(e.readByte());return i},this.read=function(t){for(var i="",n=0;n<t;n++)i+=String.fromCharCode(e.readByte());return i},this.readUnsigned=function(){var t=e.readBytes(2);return(t[1]<<8)+t[0]},this.data=new Uint8Array(t),this.len=this.data.byteLength,0===this.len)throw new Error("No data loaded from file")}}(),go=function(t,e){for(var i,n,o=0,r=function(t){for(var i=0,n=0;n<t;n++)e.charCodeAt(o>>3)&1<<(7&o)&&(i|=1<<n),o++;return i},s=[],a=1<<t,h=a+1,c=t+1,u=[],l=function(){u=[],c=t+1;for(var e=0;e<a;e++)u[e]=[e];u[a]=[],u[h]=null};;)if(n=i,(i=r(c))!==a){if(i===h)break;if(i<u.length)n!==a&&u.push(u[n].concat(u[i][0]));else{if(i!==u.length)throw new Error("Invalid LZW code.");u.push(u[n].concat(u[n][0]))}s.push.apply(s,u[i]),u.length===1<<c&&c<12&&c++}else l();return s},yo=function(){return function(t,e){void 0===e&&(e=At.Magenta);var i=this;this._st=null,this._handler={},this._transparentColor=null,this.frames=[],this.images=[],this.globalColorTable=[],this.checkBytes=[],this.parseColorTable=function(t){for(var e=[],n=0;n<t;n++){var o="#"+i._st.readBytes(3).map(function(t){var e=t.toString(16);return 1===e.length?"0"+e:e}).join("");e.push(o)}return e},this.readSubBlocks=function(){var t,e;e="";do{t=i._st.readByte(),e+=i._st.read(t)}while(0!==t);return e},this.parseHeader=function(){var t={sig:null,ver:null,width:null,height:null,colorRes:null,globalColorTableSize:null,gctFlag:null,sorted:null,globalColorTable:[],bgColor:null,pixelAspectRatio:null};if(t.sig=i._st.read(3),t.ver=i._st.read(3),"GIF"!==t.sig)throw new Error("Not a GIF file.");t.width=i._st.readUnsigned(),t.height=i._st.readUnsigned();var e=po(i._st.readByte());t.gctFlag=e.shift(),t.colorRes=lo(e.splice(0,3)),t.sorted=e.shift(),t.globalColorTableSize=lo(e.splice(0,3)),t.bgColor=i._st.readByte(),t.pixelAspectRatio=i._st.readByte(),t.gctFlag&&(t.globalColorTable=i.parseColorTable(1<<t.globalColorTableSize+1),i.globalColorTable=t.globalColorTable),i._handler.hdr&&i._handler.hdr(t)&&i.checkBytes.push(i._handler.hdr)},this.parseExt=function(t){switch(t.label=i._st.readByte(),t.label){case 249:t.extType="gce",function(t){i.checkBytes.push(i._st.readByte());var e=po(i._st.readByte());t.reserved=e.splice(0,3),t.disposalMethod=lo(e.splice(0,3)),t.userInput=e.shift(),t.transparencyGiven=e.shift(),t.delayTime=i._st.readUnsigned(),t.transparencyIndex=i._st.readByte(),t.terminator=i._st.readByte(),i._handler.gce&&i._handler.gce(t)&&i.checkBytes.push(i._handler.gce)}(t);break;case 254:t.extType="com",function(t){t.comment=i.readSubBlocks(),i._handler.com&&i._handler.com(t)&&i.checkBytes.push(i._handler.com)}(t);break;case 1:t.extType="pte",function(t){i.checkBytes.push(i._st.readByte()),t.ptHeader=i._st.readBytes(12),t.ptData=i.readSubBlocks(),i._handler.pte&&i._handler.pte(t)&&i.checkBytes.push(i._handler.pte)}(t);break;case 255:t.extType="app",function(t){switch(i.checkBytes.push(i._st.readByte()),t.identifier=i._st.read(8),t.authCode=i._st.read(3),t.identifier){case"NETSCAPE":!function(t){i.checkBytes.push(i._st.readByte()),t.unknown=i._st.readByte(),t.iterations=i._st.readUnsigned(),t.terminator=i._st.readByte(),i._handler.app&&i._handler.app.NETSCAPE&&i._handler.app.NETSCAPE(t)&&i.checkBytes.push(i._handler.app)}(t);break;default:!function(t){t.appData=i.readSubBlocks(),i._handler.app&&i._handler.app[t.identifier]&&i._handler.app[t.identifier](t)&&i.checkBytes.push(i._handler.app[t.identifier])}(t)}}(t);break;default:t.extType="unknown",function(t){t.data=i.readSubBlocks(),i._handler.unknown&&i._handler.unknown(t)&&i.checkBytes.push(i._handler.unknown)}(t)}},this.parseImg=function(t){t.leftPos=i._st.readUnsigned(),t.topPos=i._st.readUnsigned(),t.width=i._st.readUnsigned(),t.height=i._st.readUnsigned();var e=po(i._st.readByte());t.lctFlag=e.shift(),t.interlaced=e.shift(),t.sorted=e.shift(),t.reserved=e.splice(0,2),t.lctSize=lo(e.splice(0,3)),t.lctFlag&&(t.lct=i.parseColorTable(1<<t.lctSize+1)),t.lzwMinCodeSize=i._st.readByte();var n=i.readSubBlocks();t.pixels=go(t.lzwMinCodeSize,n),t.interlaced&&(t.pixels=function(t,e){for(var i=new Array(t.length),n=t.length/e,o=function(n,o){var r=t.slice(o*e,(o+1)*e);i.splice.apply(i,[n*e,e].concat(r))},r=[0,4,2,1],s=[8,8,4,2],a=0,h=0;h<4;h++)for(var c=r[h];c<n;c+=s[h])o(c,a),a++;return i}(t.pixels,t.width)),i.frames.push(t),i.arrayToImage(t),i._handler.img&&i._handler.img(t)&&i.checkBytes.push(i._handler)},this.parseBlock=function(){var t={sentinel:i._st.readByte(),type:""};switch(String.fromCharCode(t.sentinel)){case"!":t.type="ext",i.parseExt(t);break;case",":t.type="img",i.parseImg(t);break;case";":t.type="eof",i._handler.eof&&i._handler.eof(t)&&i.checkBytes.push(i._handler.eof);break;default:throw new Error("Unknown block: 0x"+t.sentinel.toString(16))}"eof"!==t.type&&i.parseBlock()},this.arrayToImage=function(t){var e=0,n=document.createElement("canvas");n.id=e.toString(),n.width=t.width,n.height=t.height,e++;for(var o=n.getContext("2d"),r=0,s=0,a=0;a<t.pixels.length;a++)s%t.width==0&&(r++,s=0),i.globalColorTable[t.pixels[a]]===i._transparentColor.toHex()?o.fillStyle="rgba(0, 0, 0, 0)":o.fillStyle=i.globalColorTable[t.pixels[a]],o.fillRect(s,r,1,1),s++;var h=new Image;h.src=n.toDataURL(),i.images.push(h)},this._st=t,this._handler={},this._transparentColor=e,this.parseHeader(),this.parseBlock()}}(),_o=i(0);i.d(e,"EX_VERSION",function(){return vo}),i.d(e,"DisplayMode",function(){return En}),i.d(e,"ScrollPreventionMode",function(){return Cn}),i.d(e,"Engine",function(){return Dn}),i.d(e,"Actor",function(){return $e}),i.d(e,"CollisionType",function(){return Ct}),i.d(e,"Vector",function(){return F}),i.d(e,"Ray",function(){return j}),i.d(e,"Line",function(){return L}),i.d(e,"Projection",function(){return I}),i.d(e,"GlobalCoordinates",function(){return W}),i.d(e,"StrategyContainer",function(){return Mi}),i.d(e,"Axis",function(){return ci}),i.d(e,"LockCameraToActorStrategy",function(){return Ri}),i.d(e,"LockCameraToActorAxisStrategy",function(){return Fi}),i.d(e,"ElasticToActorStrategy",function(){return ji}),i.d(e,"RadiusAroundActorStrategy",function(){return Li}),i.d(e,"Camera",function(){return Ii}),i.d(e,"Class",function(){return St}),i.d(e,"Configurable",function(){return he}),i.d(e,"Debug",function(){return Yi}),i.d(e,"FrameStats",function(){return Zi}),i.d(e,"PhysicsStats",function(){return Qi}),i.d(e,"EventDispatcher",function(){return Pt}),i.d(e,"MediaEvent",function(){return Fn}),i.d(e,"NativeSoundEvent",function(){return jn}),i.d(e,"EventTypes",function(){return R}),i.d(e,"GameEvent",function(){return q}),i.d(e,"KillEvent",function(){return G}),i.d(e,"PreKillEvent",function(){return V}),i.d(e,"PostKillEvent",function(){return X}),i.d(e,"GameStartEvent",function(){return K}),i.d(e,"GameStopEvent",function(){return Y}),i.d(e,"PreDrawEvent",function(){return Z}),i.d(e,"PostDrawEvent",function(){return Q}),i.d(e,"PreDebugDrawEvent",function(){return J}),i.d(e,"PostDebugDrawEvent",function(){return $}),i.d(e,"PreUpdateEvent",function(){return tt}),i.d(e,"PostUpdateEvent",function(){return et}),i.d(e,"PreFrameEvent",function(){return it}),i.d(e,"PostFrameEvent",function(){return nt}),i.d(e,"GamepadConnectEvent",function(){return ot}),i.d(e,"GamepadDisconnectEvent",function(){return rt}),i.d(e,"GamepadButtonEvent",function(){return st}),i.d(e,"GamepadAxisEvent",function(){return at}),i.d(e,"SubscribeEvent",function(){return ht}),i.d(e,"UnsubscribeEvent",function(){return ct}),i.d(e,"VisibleEvent",function(){return ut}),i.d(e,"HiddenEvent",function(){return lt}),i.d(e,"PreCollisionEvent",function(){return pt}),i.d(e,"PostCollisionEvent",function(){return dt}),i.d(e,"CollisionStartEvent",function(){return ft}),i.d(e,"CollisionEndEvent",function(){return gt}),i.d(e,"InitializeEvent",function(){return yt}),i.d(e,"ActivateEvent",function(){return _t}),i.d(e,"DeactivateEvent",function(){return vt}),i.d(e,"ExitViewPortEvent",function(){return mt}),i.d(e,"EnterViewPortEvent",function(){return bt}),i.d(e,"EnterTriggerEvent",function(){return wt}),i.d(e,"ExitTriggerEvent",function(){return xt}),i.d(e,"Group",function(){return Ci}),i.d(e,"Label",function(){return Hi}),i.d(e,"FontStyle",function(){return ki}),i.d(e,"FontUnit",function(){return Oi}),i.d(e,"TextAlign",function(){return Bi}),i.d(e,"BaseAlign",function(){return Di}),i.d(e,"Loader",function(){return yi}),i.d(e,"Particle",function(){return In}),i.d(e,"ParticleEmitter",function(){return Wn}),i.d(e,"EmitterType",function(){return Bn}),i.d(e,"CollisionResolutionStrategy",function(){return z}),i.d(e,"BroadphaseStrategy",function(){return U}),i.d(e,"Integrator",function(){return N}),i.d(e,"Physics",function(){return Tt}),i.d(e,"PromiseState",function(){return c}),i.d(e,"Promise",function(){return d}),i.d(e,"Scene",function(){return Ki}),i.d(e,"TileMap",function(){return ri}),i.d(e,"Cell",function(){return ai}),i.d(e,"TileSprite",function(){return si}),i.d(e,"Timer",function(){return ii}),i.d(e,"Trigger",function(){return Ni}),i.d(e,"UIActor",function(){return ei}),i.d(e,"Actions",function(){return r}),i.d(e,"Internal",function(){return Hn}),i.d(e,"ActionContext",function(){return ke}),i.d(e,"RotationType",function(){return ce}),i.d(e,"Body",function(){return je}),i.d(e,"isCollider",function(){return Ke}),i.d(e,"Collider",function(){return Ye}),i.d(e,"BoundingBox",function(){return Yt}),i.d(e,"Circle",function(){return Ft}),i.d(e,"CircleArea",function(){return jt}),i.d(e,"CollisionContact",function(){return Mt}),i.d(e,"CollisionJumpTable",function(){return Ot}),i.d(e,"ClosestLine",function(){return Bt}),i.d(e,"ClosestLineJumpTable",function(){return kt}),i.d(e,"CollisionGroup",function(){return Ve}),i.d(e,"CollisionGroupManager",function(){return zn}),i.d(e,"TreeNode",function(){return mi}),i.d(e,"DynamicTree",function(){return bi}),i.d(e,"DynamicTreeCollisionBroadphase",function(){return wi}),i.d(e,"Edge",function(){return It}),i.d(e,"EdgeArea",function(){return Wt}),i.d(e,"Pair",function(){return Xe}),i.d(e,"ConvexPolygon",function(){return zt}),i.d(e,"PolygonArea",function(){return Ut}),i.d(e,"Side",function(){return p}),i.d(e,"Shape",function(){return Re}),i.d(e,"Animation",function(){return Nn}),i.d(e,"Sprite",function(){return le}),i.d(e,"SpriteSheet",function(){return Vn}),i.d(e,"SpriteFont",function(){return Xn}),i.d(e,"Effects",function(){return o}),i.d(e,"Color",function(){return At}),i.d(e,"Polygon",function(){return qn}),i.d(e,"ExResponse",function(){return Kn}),i.d(e,"PerlinGenerator",function(){return Jn}),i.d(e,"PerlinDrawer2D",function(){return $n}),i.d(e,"Random",function(){return f}),i.d(e,"ColorBlindness",function(){return Qn}),i.d(e,"ColorBlindCorrector",function(){return to}),i.d(e,"Resource",function(){return Qt}),i.d(e,"Texture",function(){return de}),i.d(e,"Gif",function(){return uo}),i.d(e,"Stream",function(){return fo}),i.d(e,"ParseGif",function(){return yo}),i.d(e,"Sound",function(){return ho}),i.d(e,"AudioContextFactory",function(){return hi}),i.d(e,"AudioInstanceFactory",function(){return io}),i.d(e,"AudioInstance",function(){return no}),i.d(e,"AudioTagInstance",function(){return oo}),i.d(e,"WebAudioInstance",function(){return ro}),i.d(e,"Events",function(){return n}),i.d(e,"Input",function(){return a}),i.d(e,"Traits",function(){return h}),i.d(e,"Util",function(){return u}),i.d(e,"BrowserComponent",function(){return Tn}),i.d(e,"BrowserEvents",function(){return Mn}),i.d(e,"obsolete",function(){return Xt}),i.d(e,"Detector",function(){return vi}),i.d(e,"CullingBox",function(){return Ie}),i.d(e,"EasingFunctions",function(){return De}),i.d(e,"LogLevel",function(){return Dt}),i.d(e,"Logger",function(){return Nt}),i.d(e,"ConsoleAppender",function(){return qt}),i.d(e,"ScreenAppender",function(){return Gt}),i.d(e,"SortedList",function(){return xi}),i.d(e,"BinaryTreeNode",function(){return Pi}),i.d(e,"MockedElement",function(){return Si}),i.d(e,"Deprecated",function(){return _o});var vo="0.23.0";l()}])});

/***/ }),

/***/ "./src/index.ts":
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
/*! exports provided: Game */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Game", function() { return Game; });
/* harmony import */ var excalibur__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! excalibur */ "./node_modules/excalibur/dist/excalibur.min.js");
/* harmony import */ var excalibur__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(excalibur__WEBPACK_IMPORTED_MODULE_0__);
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var Game = /** @class */ (function (_super) {
    __extends(Game, _super);
    function Game() {
        var _this = _super.call(this, {
            width: Game.width,
            height: Game.height
        }) || this;
        _this.setAntialiasing(false);
        return _this;
    }
    Game.width = 800;
    Game.height = 600;
    return Game;
}(excalibur__WEBPACK_IMPORTED_MODULE_0__["Engine"]));

// Start the engine to begin the game.
var game = new Game();
game.start();


/***/ })

/******/ });
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2V4Y2FsaWJ1ci9kaXN0L2V4Y2FsaWJ1ci5taW4uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7UUFBQTtRQUNBOztRQUVBO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7O1FBRUE7UUFDQTs7UUFFQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTs7O1FBR0E7UUFDQTs7UUFFQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBLDBDQUEwQyxnQ0FBZ0M7UUFDMUU7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7UUFDQSx3REFBd0Qsa0JBQWtCO1FBQzFFO1FBQ0EsaURBQWlELGNBQWM7UUFDL0Q7O1FBRUE7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBLHlDQUF5QyxpQ0FBaUM7UUFDMUUsZ0hBQWdILG1CQUFtQixFQUFFO1FBQ3JJO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0EsMkJBQTJCLDBCQUEwQixFQUFFO1FBQ3ZELGlDQUFpQyxlQUFlO1FBQ2hEO1FBQ0E7UUFDQTs7UUFFQTtRQUNBLHNEQUFzRCwrREFBK0Q7O1FBRXJIO1FBQ0E7OztRQUdBO1FBQ0E7Ozs7Ozs7Ozs7OztBQ2xGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsS0FBaUQsb0JBQW9CLFNBQW1HLENBQUMsbUJBQW1CLG1CQUFtQixTQUFTLGNBQWMsNEJBQTRCLFlBQVkscUJBQXFCLDJEQUEyRCx1Q0FBdUMscUNBQXFDLG9CQUFvQixFQUFFLGlCQUFpQiw0RkFBNEYsZUFBZSx3Q0FBd0MsU0FBUyxFQUFFLG1CQUFtQiw4QkFBOEIscURBQXFELDBCQUEwQiw2Q0FBNkMsc0JBQXNCLDZEQUE2RCxZQUFZLGVBQWUsU0FB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VUFBVSxpQ0FBaUMsVUFBVSwwQ0FBMEMsVUFBVSw0QkFBNEIsVUFBVSwyQkFBMkIsVUFBVSxtQ0FBbUMsVUFBVSw0QkFBNEIsU0FBUyx5QkFBeUIsU0FBUywwQkFBMEIsU0FBUyxnQ0FBZ0MsU0FBUyx1Q0FBdUMsU0FBUyx1Q0FBdUMsVUFBVSwwQkFBMEIsVUFBVSwrQ0FBK0MsVUFBVSxtREFBbUQsVUFBVSw0Q0FBNEMsVUFBVSwrQ0FBK0MsVUFBVSw0QkFBNEIsVUFBVSwyQkFBMkIsVUFBVSxrQ0FBa0MsVUFBVSwyQkFBMkIsVUFBVSxnQ0FBZ0MsVUFBVSxrQ0FBa0MsVUFBVSxxQ0FBcUMsVUFBVSxnQ0FBZ0MsVUFBVSxzQ0FBc0MsVUFBVSxnQ0FBZ0MsU0FBUywrQkFBK0IsU0FBUywrQkFBK0IsU0FBUyxrQ0FBa0MsU0FBUyxtQ0FBbUMsU0FBUyxvQ0FBb0MsU0FBUyxtQ0FBbUMsU0FBUyxrQ0FBa0MsU0FBUyxtQ0FBbUMsU0FBUyx1Q0FBdUMsU0FBUyx3Q0FBd0MsU0FBUyxvQ0FBb0MsVUFBVSxxQ0FBcUMsVUFBVSxtQ0FBbUMsVUFBVSxvQ0FBb0MsVUFBVSx5Q0FBeUMsVUFBVSw0Q0FBNEMsVUFBVSx3Q0FBd0MsVUFBVSxzQ0FBc0MsVUFBVSxvQ0FBb0MsVUFBVSxzQ0FBc0MsVUFBVSxrQ0FBa0MsVUFBVSxpQ0FBaUMsVUFBVSx1Q0FBdUMsVUFBVSx3Q0FBd0MsVUFBVSx5Q0FBeUMsVUFBVSx1Q0FBdUMsVUFBVSxxQ0FBcUMsVUFBVSxtQ0FBbUMsVUFBVSxxQ0FBcUMsVUFBVSx1Q0FBdUMsVUFBVSx3Q0FBd0MsVUFBVSx1Q0FBdUMsVUFBVSxzQ0FBc0MsVUFBVSwyQkFBMkIsVUFBVSwyQkFBMkIsVUFBVSwrQkFBK0IsVUFBVSw4QkFBOEIsVUFBVSwrQkFBK0IsVUFBVSwrQkFBK0IsVUFBVSw0QkFBNEIsVUFBVSw4QkFBOEIsVUFBVSxxQ0FBcUMsVUFBVSxpQ0FBaUMsVUFBVSxpREFBaUQsU0FBUyx3Q0FBd0MsU0FBUyxnQ0FBZ0MsU0FBUyw2QkFBNkIsVUFBVSxrQ0FBa0MsU0FBUyw2QkFBNkIsU0FBUywyQkFBMkIsVUFBVSw2QkFBNkIsVUFBVSwwQkFBMEIsVUFBVSxnQ0FBZ0MsVUFBVSwyQkFBMkIsVUFBVSw2QkFBNkIsVUFBVSw2QkFBNkIsVUFBVSw2QkFBNkIsU0FBUyw4QkFBOEIsVUFBVSxtQ0FBbUMsVUFBVSxrQ0FBa0MsVUFBVSwwQkFBMEIsVUFBVSxnQ0FBZ0MsVUFBVSw4QkFBOEIsVUFBVSxpQ0FBaUMsVUFBVSw0QkFBNEIsVUFBVSxnQ0FBZ0MsVUFBVSxzQ0FBc0MsVUFBVSx3Q0FBd0MsVUFBVSxpQ0FBaUMsVUFBVSwwQ0FBMEMsVUFBVSxvQ0FBb0MsVUFBVSwyQ0FBMkMsVUFBVSw4QkFBOEIsVUFBVSxpQ0FBaUMsVUFBVSxvREFBb0QsVUFBVSwwQkFBMEIsVUFBVSw4QkFBOEIsVUFBVSwwQkFBMEIsVUFBVSxtQ0FBbUMsVUFBVSxpQ0FBaUMsVUFBVSwwQkFBMEIsU0FBUywyQkFBMkIsVUFBVSwrQkFBK0IsVUFBVSw0QkFBNEIsVUFBVSxpQ0FBaUMsVUFBVSxnQ0FBZ0MsVUFBVSw2QkFBNkIsU0FBUywyQkFBMkIsVUFBVSw2QkFBNkIsVUFBVSxnQ0FBZ0MsVUFBVSxxQ0FBcUMsVUFBVSxvQ0FBb0MsVUFBVSw0QkFBNEIsU0FBUyxvQ0FBb0MsVUFBVSx5Q0FBeUMsVUFBVSw4QkFBOEIsVUFBVSw2QkFBNkIsVUFBVSx5QkFBeUIsVUFBVSw0QkFBNEIsVUFBVSw4QkFBOEIsVUFBVSwyQkFBMkIsVUFBVSx5Q0FBeUMsVUFBVSwwQ0FBMEMsVUFBVSxtQ0FBbUMsVUFBVSxzQ0FBc0MsVUFBVSxzQ0FBc0MsVUFBVSw0QkFBNEIsU0FBUywyQkFBMkIsU0FBUyw0QkFBNEIsU0FBUywwQkFBMEIsU0FBUyxzQ0FBc0MsVUFBVSxtQ0FBbUMsVUFBVSw4QkFBOEIsVUFBVSw4QkFBOEIsVUFBVSxnQ0FBZ0MsVUFBVSxxQ0FBcUMsVUFBVSw4QkFBOEIsVUFBVSw0QkFBNEIsVUFBVSxxQ0FBcUMsVUFBVSxvQ0FBb0MsVUFBVSxnQ0FBZ0MsVUFBVSxvQ0FBb0MsVUFBVSxtQ0FBbUMsVUFBVSxnQ0FBZ0MsVUFBVSxFQUFFLGdCQUFnQixJQUFJLEdBQUcsRTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNQcnh2UjtBQUVqQztJQUEwQix3QkFBTTtJQUk5QjtRQUFBLFlBQ0Usa0JBQU07WUFDSixLQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUs7WUFDakIsTUFBTSxFQUFFLElBQUksQ0FBQyxNQUFNO1NBQ3BCLENBQUMsU0FHSDtRQURDLEtBQUksQ0FBQyxlQUFlLENBQUMsS0FBSyxDQUFDLENBQUM7O0lBQzlCLENBQUM7SUFWTSxVQUFLLEdBQUcsR0FBRyxDQUFDO0lBQ1osV0FBTSxHQUFHLEdBQUcsQ0FBQztJQVV0QixXQUFDO0NBQUEsQ0FaeUIsZ0RBQU0sR0FZL0I7QUFaZ0I7QUFjakIsc0NBQXNDO0FBQ3RDLElBQU0sSUFBSSxHQUFHLElBQUksSUFBSSxFQUFFLENBQUM7QUFDeEIsSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSBcIi4vc3JjL2luZGV4LnRzXCIpO1xuIiwiLyohXHJcbiAqIGV4Y2FsaWJ1ciAtIDAuMjMuMCAtIDIwMTktNi04XHJcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9leGNhbGlidXJqcy9FeGNhbGlidXJcclxuICogQ29weXJpZ2h0IChjKSAyMDE5IEV4Y2FsaWJ1ci5qcyA8aHR0cHM6Ly9naXRodWIuY29tL2V4Y2FsaWJ1cmpzL0V4Y2FsaWJ1ci9ncmFwaHMvY29udHJpYnV0b3JzPlxyXG4gKiBMaWNlbnNlZCBCU0QtMi1DbGF1c2VcclxuICogQHByZXNlcnZlXHJcbiAqL1xyXG4hZnVuY3Rpb24odCxlKXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz1lKCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXSxlKTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9leHBvcnRzLmV4PWUoKTp0LmV4PWUoKX0od2luZG93LGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBlPXt9O2Z1bmN0aW9uIGkobil7aWYoZVtuXSlyZXR1cm4gZVtuXS5leHBvcnRzO3ZhciBvPWVbbl09e2k6bixsOiExLGV4cG9ydHM6e319O3JldHVybiB0W25dLmNhbGwoby5leHBvcnRzLG8sby5leHBvcnRzLGkpLG8ubD0hMCxvLmV4cG9ydHN9cmV0dXJuIGkubT10LGkuYz1lLGkuZD1mdW5jdGlvbih0LGUsbil7aS5vKHQsZSl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUse2VudW1lcmFibGU6ITAsZ2V0Om59KX0saS5yPWZ1bmN0aW9uKHQpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9LGkudD1mdW5jdGlvbih0LGUpe2lmKDEmZSYmKHQ9aSh0KSksOCZlKXJldHVybiB0O2lmKDQmZSYmXCJvYmplY3RcIj09dHlwZW9mIHQmJnQmJnQuX19lc01vZHVsZSlyZXR1cm4gdDt2YXIgbj1PYmplY3QuY3JlYXRlKG51bGwpO2lmKGkucihuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkobixcImRlZmF1bHRcIix7ZW51bWVyYWJsZTohMCx2YWx1ZTp0fSksMiZlJiZcInN0cmluZ1wiIT10eXBlb2YgdClmb3IodmFyIG8gaW4gdClpLmQobixvLGZ1bmN0aW9uKGUpe3JldHVybiB0W2VdfS5iaW5kKG51bGwsbykpO3JldHVybiBufSxpLm49ZnVuY3Rpb24odCl7dmFyIGU9dCYmdC5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIHQuZGVmYXVsdH06ZnVuY3Rpb24oKXtyZXR1cm4gdH07cmV0dXJuIGkuZChlLFwiYVwiLGUpLGV9LGkubz1mdW5jdGlvbih0LGUpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxlKX0saS5wPVwiXCIsaShpLnM9NSl9KFtmdW5jdGlvbih0LGUpe30sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9XCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQWRRQUFBQjJDQVlBQUFCeGhHSTlBQUFBQ1hCSVdYTUFBQXNTQUFBTEVnSFMzWDc4QUFBS25VbEVRVlI0MnUzZFAyd2pTeDBIOE44aEpJb25JUm1KanNxMFNCUitCUTFkY3FLaGUwbEQ3N1N2U3dwS2tKS0dQdWxwa3RmUklNVWRFcUtJcVY1N3JwQW9rTTRkYlNpeXE3T05QVFA3eDM5aWZ6N1NGYm5FbnAzeGVyNDdPN3V6SDE1Zlh3TUE2T1lIbWdBQUJDb0FDRlFBRUtnQWdFQUZBSUVLQUFJVkFBUXFBQ0JRQVVDZ0FvQkFCUUNCQ2dBSVZBQVFxQUFnVUFGQW9BSUFBaFVBQkNvQUNGUUFFS2dBZ0VDRkxibU9pTmVGZjJQYkF5ejY4UHI2cWhVZ2JSd1I5MnYrL3p3aUpyWUhNRUtGTW1jTi8vL1V0Z2NRcUZCazFQRC85N1U5UXg4VkNGU2d1NEVtQUlFS0FBSVZBQVFxQUNCUTRaMjVqb2pQOGVYKzBXdE5BZ0lWYU9ZK0ltNWorZUtoMjRoNDFqUWdVSUV5WjdGNU5hUFU3d0NCQ2l3WWQvdzljT0IrcUFsZ0ozS0xMb3cwRVYxOTg4MDNSV3ZKZnZmZGR4KzBsaEVxSEt1NUpnQWpWQ0J2bGhtRnpqUVJYVWVrSHo5K1RQNzl5OHVMUmpOQ2hYZnZvZVB2QVlFS3hOdGoxZTQyL081Sm9JSkFCY3JkUk1SVkxNK1gza1RFcGFhQjk4OGNLdXpXZzlFb2JUV2RNeDBPbHk4dU40ZHFoQW9BUnFnbmFOM2FySGZxdTdPeUg4SXRLTFZCL1ArQ0VmTVRIeUdQWTNucHgxbTh6V0dERWVvQmZVay94ZHRpNTdkci9yMVd2Mis2RVBvdzN0WjVyUmRTNzJzMW5ldUY5N3h2V2QrWFRIMC9WK1VNdHREV3FiSS9yMm5yeGZwK2p2MnVTalNPN1MrT1h5L0EvM2xOKzl4WDVUNUh4RVVQWlowdGZCNzErdzU3ZUovSEZ1K3oramt2MXU5MllYOWZiSS9IaFgzSkE5cnA1TVByNjZ0V2FHOVVmVUdickhJemk3Y0xVeVlGZi90cFRhZHkwM0VFZUw4bVVKNmk3TUtZTnZXTnFyNFBlMmpyYWRYTzYwTHJ2UEF6MlBRNVJQWDY4NGFoOGR4RCsyemFudG5DZ1ZpcFNWVittL3RnQjlXMkREcTJTeC92TTk1d2NIaFpoV1ZKbTh5cnY1OGNTZ2ZUZGM3MCsrKy9YL3I1MjIrL3RVS1NFZXBCcW8rb200WkxQZXJNalV3dU5uUUN0eDFHV0p0ZWUxRndkRDV1V2Q4NnhMczhVYVZ0MmFORU8xL3NhWi9aNXJZTVc0enE2djM0ckdWOUJnM3EyZVo5U2tlTm05cXd5VWgzME9QSUhZRkt4NUZHMDNDN3puU09xWUJxK3FXL3pwUTNhbkgwMzdUTkhsdUc2ZjBXUHNQaEh2YWI0UUZ0eTdvZ09ldXhEWWNOeTIvenUyMjE0V05ZV3htQnVyTk84YkduOTdwTkJPTzh4eS85dUNvclpaNEkycjRDN2FKZ083WlY5aUU0OURtNk52T1d4K3BXRTlDVXEzemJkVHA5ZG96MzhUYlh0enFIOVJUNUN5V2U0MjJPYVpvWkdlWkNhYnJoUFFZOUhqd3NqcFR2Q2c0WXRsRTIrVGEvajJiem44ZnFyRHFnbSs2eVVIT21BdldVakF0R2hiTll2c0JrbkRucUgxUWhjN1ZteEhnZWIvTmJ1ZEE1ai9VWGxZd2lmMnA2bHVoQWM5dGV1MW5waUhLbkRzOGlmNnRDbTdKTFgzTktwZ3R0WGU5cnVjOW1ITWQ3YTgzaXdkeEY1dnQ4dHV0QVJhQ2VrbFJuTks5QzhXbk5GN2dlSlE0VDRYRzNKaFNuVmRpbFFyRyt5T25ybFZIZnNFR1l6aE5CbjdMdTZ0UzcrSEphZkpRNEVNaU5sTnFXWFo5V1B2VmduVllIRzVNMUJ5RFhrVDZsZVgyRWdUcUp0eXQ0NXl2N1MycU8zc0VaalpoRExYZVIrWUtkSjBaZGs4UW9jdkg5TjczMktyTnRxK0ZaL3p6SUhBQmNKcllwZCtYdjE0bE9kNWFwNzZTZ3JkdVcvVlRRMXFjUXBxbmJndTRpZlp2VU1OcGQ5WHVvWm12Q3RQYVEyWS9CQ0hWTGdickpUZVJQRGRWZjZwZk1LRFUyZk9rSG1WRkZmWHIzTXNvdUxzbk52VjVrUm9lNStzNDMxUGV1b0tQcVduYXVyWS9aUEJFZXF3Y2VONGw5Nml3TzZIN01qcTR5N1ZHUFZOZTEwVmFaTXpWQ1BWV3BJL1o2RlpiY3Y1Zk1xR0NVK2RMZkZHemo1OGpQOCtiQ2RKQ283eXpLVHdkT0YwYnU5VWc3VjRjK3l6N0ZKZlllR295c1VzczBIc3NJZFZad1lMRHVqTXFsRVNvQ2RUdEdzWnRiSG5KQmVOZERTSlNzMGpUS2RNSk4xSE5YNTRXdjdidnNVOU5rVkpWYTEzZFgrL3d1QXJWMFgvbDVSSHlvL2xuZkY0RzZwNkRyUzBrSGR0WGh5MzVUR0VyRFBZWlVuMldmV3FET28vbFZxZE1EMk8vaEtKaEQ3Uy9vZHVreW1xOXMwMlFONEVFUFIvemJhT3VtWmMrcjE1eksxWnF6bmw5anNmaWVtVE0xUW1WM0hVdVRrZWRsZzlISVF6UmJVRDkzZGZDKzJ0cGoyZklIRUgyK1JxQ0NRSDEzZ1pxN2hXWFROcFZ1MTlPQjFmYzluUTBBS09LVWI1bFUwUDFrRHlPbmVvV2swbE9aOWNJUDB4N3F1OCsyQmhDb1Iyd1l1MStlN0RtYVh6QlNzdTV2YVgxbmUyenJwbVVQVG14ZjdQTTFEbTR5L3ZDN255N05pZjcrei85Wm10TTBaM3BhblBMdFBtcmE5ZjE2YmNLMERwYm53azQzVmQvUkh0dTZ6Zk5RVHkxUUJ5M2FxRzJnOW5WbXhtbCtCT29KeVQzTnBXbW45eGhmRm51NGJ2RGErNDRCWGhxcWZkZjN1VUY5K3l6NzdBVDMxWXVlMm1qZWNZUTYyTkxmZ2tBOWdoSHFMTkVoTmVtNEgxYzZ2ZHlEeGhmL2JwejVtNGNvVy9jMzl3aTZWSDJiUHRIbGNhVjljdlh0cyt6eENlNnJUZXFjMm5kTDd1R2Q5M1F3TTliRmNBek1vWlo3U2dUQmJXeCthc3VpNjFoL2lxMStSbWpxZGJuUVhRM1QxRE5RNjNWL1U5dWNxbS9wTXpQYjFyZVBzay8xaVRPamd2YXRSNFczTGM4VUxCNzhwRUx5cm5BZmVUY2oxTlU1MDkvODZtZkozMy84K01mMDBhMDVVeVBVRXc3VVZDZVdHL1dORWlFeHlIUk10NWx0VzMwaXpVUGsxOHl0dDdsTmZjOGkvL0R2dHZYdG8reVNBNUJqbGpzTFVGOGxQa3FNUEV0VzFKb21Ec2lHQlo5QnliNE5BdlVJVFNOOUd1d3NJajZ0NlVUT3FrN2pKUkVrbXpxbGk4eElzOTZ1ZFNPMjBzWDBIMXZXOTJJTDllMWE5cmdxVnlmOTFnYlBzVHk5VUQ5bjlsT2tUOGsrUmZrRlI1UE1OcXhPY2RTZjMyUEJ2ZzN2aWxPK3pkeEUrb2t4OVdtMHBoMzZYWXNSWkNwTUY5OTNHT2s1cXZxQjNEY3Q2anZzc2I2N0t2dVVOSjNmcnc5MmJocjgvU1RTRjBKZFJQTUxwVUNnbnNnbzlTNzZQWjI0NlpGazF3V3ZLNW0zdlZvWXZXMVN6N25OOTFqZlhiUTFaUWM3VFc2SGVhb09hbHlwRy84L3AvclAxYU5BYzZaSHpTbmZkcVBVUGhkeTJQUXc2Tno5Z1NWaHVoaXF1ZVVIUjN1dTd5N0szcmREWDR1NDZaclBiVWEwSUZCWjBzZUtRM1hRVFJ0MnZtM1cvYTJEYk5LeXMrK3J2bTNlcDYreTF4MlVkUDNiV1U5bHpyYTQ3VTFHbWxjdFgvc1EyM3QrYU9sQnlMVGgvNE5BUGFDUnh0Y2RPNUhMU0ovNnZOdEN3R3g2N1ZQbVBidldkMXE5ZnJLSHRwNGtBcVJKMkhSOWo3NjJKZlgzYlovL2VsUHRqMTNQUER4MStENXRxay9YaTZOTzhTSHo3TW1IMTlkWHJkQk5mVkZQNlQyUFQxVUhOaXQ4Ny90NG01K2FSSCtuUUJkdnF5aFpES0pMZlpzOGg3WFBzcWRWMlpPVit0YW5LQjhhbG4wZHl4ZEFYYlY0ajRndnQ0b01PcmJQNnZiVTczTlc3VE1sYmRUblByV3BmcVhmaDlIS1o5dmtlN0t1VGVaUk50WFJTZTYrMUZWLy9jZS9sbjVlWGZzWGdjcVh6cjYrOTI2MU0zbW9Pb2E3RTZudlRaVGZ5N2lOc21mYjdramZnWEdzdnhlMHZpaHNFdHM5SFRxdVBwdDFxMXZ0YWh1MlRxQWlVQUVFS2owemh3b0FScWdBdS9PblgvNDQyV0grOXhjL1d2cjU4cmUvVHI3ZjQxLytac1JxaEFvQUNGUUFFS2dBY0hqTW9RSnNrSnN6L2VxcnI1Wit2dnI3djVmbVFGZXZBbDVsenRRSUZRQVFxQUFnVUFIZ0lKbERCZGhnZFE0MU4yZUtFU29BSUZBQlFLQUN3RkV3aHdvQVJxZ0FJRkFCUUtBQ0FBSVZBQVFxQUFoVUFCQ29BSUJBQlFDQkNnQUNGUUFFS2dBZ1VBRkFvQUtBUUFVQWdRb0FDRlFBRUtnQUlGQUJRS0FDQUFJVkFBUXFBQWhVQUJDb0FJQkFCUUNCQ2dBQ0ZRQVFxQUFnVUFGQW9BS0FRQVVBbHZ3UGNGRG5zMURzSDRzQUFBQUFTVVZPUks1Q1lJST1cIn0sZnVuY3Rpb24odCxlLGkpe3ZhciBuPWkoMyk7dC5leHBvcnRzPVwic3RyaW5nXCI9PXR5cGVvZiBuP246bi50b1N0cmluZygpfSxmdW5jdGlvbih0LGUsaSl7KHQuZXhwb3J0cz1pKDQpKCExKSkucHVzaChbdC5pLFwiLyogQnV0dG9ucyBzdHlsZXMgc3RhcnQgKi9cXG5cXG5idXR0b24jZXhjYWxpYnVyLXBsYXkge1xcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgei1pbmRleDogOTk5O1xcbiAgYm9yZGVyLXJhZGl1czogNnB4O1xcbiAgYm9yZGVyOiBub25lO1xcbiAgLypib3JkZXI6IDNweCBzb2xpZDtcXG4gICAgYm9yZGVyLWNvbG9yOiB3aGl0ZTtcXG4gICAgYm94LXNoYWRvdzogMCAwIDEwcHggI2NjYzsqL1xcbiAgcGFkZGluZzogMXJlbSAxLjVyZW0gMXJlbSA0cmVtO1xcbiAgbWFyZ2luOiAwO1xcbiAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xcbiAgYmFja2dyb3VuZDogIzAwYjIzMztcXG4gIGNvbG9yOiAjZmZmZmZmO1xcbiAgZm9udC1mYW1pbHk6IHNhbnMtc2VyaWY7XFxuICBmb250LXNpemU6IDJyZW07XFxuICBsaW5lLWhlaWdodDogMTtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gIHRyYW5zaXRpb246IGJhY2tncm91bmQgMjUwbXMgZWFzZS1pbi1vdXQsIHRyYW5zZm9ybSAxNTBtcyBlYXNlO1xcbiAgLXdlYmtpdC1hcHBlYXJhbmNlOiBub25lO1xcbiAgLW1vei1hcHBlYXJhbmNlOiBub25lO1xcblxcbiAgLXdlYmtpdC1hbmltYXRpb246IGV4Y2FsaWJ1ci1idXR0b24tZmFkZWluIDIwMG1zOyAvKiBTYWZhcmksIENocm9tZSBhbmQgT3BlcmEgPiAxMi4xICovXFxuICAtbW96LWFuaW1hdGlvbjogZXhjYWxpYnVyLWJ1dHRvbi1mYWRlaW4gMjAwbXM7IC8qIEZpcmVmb3ggPCAxNiAqL1xcbiAgLW1zLWFuaW1hdGlvbjogZXhjYWxpYnVyLWJ1dHRvbi1mYWRlaW4gMjAwbXM7IC8qIEludGVybmV0IEV4cGxvcmVyICovXFxuICAtby1hbmltYXRpb246IGV4Y2FsaWJ1ci1idXR0b24tZmFkZWluIDIwMG1zOyAvKiBPcGVyYSA8IDEyLjEgKi9cXG4gIGFuaW1hdGlvbjogZXhjYWxpYnVyLWJ1dHRvbi1mYWRlaW4gMjAwbXM7XFxufVxcblxcbi8qXFxuYnV0dG9uI2V4Y2FsaWJ1ci1wbGF5IHtcXG4gIGRpc3BsYXk6IG5vbmU7XFxufSovXFxuXFxuYnV0dG9uI2V4Y2FsaWJ1ci1wbGF5OmFmdGVyIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGNvbnRlbnQ6ICcnO1xcbiAgYm9yZGVyOiA4cHggc29saWQ7XFxuICBib3JkZXItY29sb3I6IHRyYW5zcGFyZW50IHRyYW5zcGFyZW50IHRyYW5zcGFyZW50IHdoaXRlO1xcbiAgbGVmdDogMzVweDtcXG4gIHRvcDogMjRweDtcXG4gIHdpZHRoOiAwO1xcbiAgaGVpZ2h0OiAwO1xcbn1cXG5cXG5idXR0b24jZXhjYWxpYnVyLXBsYXk6YmVmb3JlIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGNvbnRlbnQ6ICcnO1xcbiAgYm9yZGVyOiAzcHggc29saWQ7XFxuICBsZWZ0OiAxOXB4O1xcbiAgdG9wOiAxNHB4O1xcbiAgYm9yZGVyLXJhZGl1czogMjBweDtcXG4gIHdpZHRoOiAzMHB4O1xcbiAgaGVpZ2h0OiAzMHB4O1xcbn1cXG5cXG5idXR0b24jZXhjYWxpYnVyLXBsYXk6aG92ZXIsXFxuYnV0dG9uI2V4Y2FsaWJ1ci1wbGF5OmZvY3VzIHtcXG4gIGJhY2tncm91bmQ6ICMwMDk4MmM7XFxufVxcblxcbmJ1dHRvbiNleGNhbGlidXItcGxheTpmb2N1cyB7XFxuICBvdXRsaW5lOiAxcHggc29saWQgI2ZmZjtcXG4gIG91dGxpbmUtb2Zmc2V0OiAtNHB4O1xcbn1cXG5cXG5idXR0b24jZXhjYWxpYnVyLXBsYXk6YWN0aXZlIHtcXG4gIHRyYW5zZm9ybTogc2NhbGUoMC45OSk7XFxufVxcblxcbkBrZXlmcmFtZXMgZXhjYWxpYnVyLWJ1dHRvbi1mYWRlaW4ge1xcbiAgZnJvbSB7XFxuICAgIG9wYWNpdHk6IDA7XFxuICB9XFxuICB0byB7XFxuICAgIG9wYWNpdHk6IDE7XFxuICB9XFxufVxcblxcbi8qIEZpcmVmb3ggPCAxNiAqL1xcbkAtbW96LWtleWZyYW1lcyBleGNhbGlidXItYnV0dG9uLWZhZGVpbiB7XFxuICBmcm9tIHtcXG4gICAgb3BhY2l0eTogMDtcXG4gIH1cXG4gIHRvIHtcXG4gICAgb3BhY2l0eTogMTtcXG4gIH1cXG59XFxuXFxuLyogU2FmYXJpLCBDaHJvbWUgYW5kIE9wZXJhID4gMTIuMSAqL1xcbkAtd2Via2l0LWtleWZyYW1lcyBleGNhbGlidXItYnV0dG9uLWZhZGVpbiB7XFxuICBmcm9tIHtcXG4gICAgb3BhY2l0eTogMDtcXG4gIH1cXG4gIHRvIHtcXG4gICAgb3BhY2l0eTogMTtcXG4gIH1cXG59XFxuXFxuLyogSW50ZXJuZXQgRXhwbG9yZXIgKi9cXG5ALW1zLWtleWZyYW1lcyBleGNhbGlidXItYnV0dG9uLWZhZGVpbiB7XFxuICBmcm9tIHtcXG4gICAgb3BhY2l0eTogMDtcXG4gIH1cXG4gIHRvIHtcXG4gICAgb3BhY2l0eTogMTtcXG4gIH1cXG59XFxuXFxuLyogT3BlcmEgPCAxMi4xICovXFxuQC1vLWtleWZyYW1lcyBleGNhbGlidXItYnV0dG9uLWZhZGVpbiB7XFxuICBmcm9tIHtcXG4gICAgb3BhY2l0eTogMDtcXG4gIH1cXG4gIHRvIHtcXG4gICAgb3BhY2l0eTogMTtcXG4gIH1cXG59XFxuXCIsXCJcIl0pfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT1bXTtyZXR1cm4gZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbihlKXt2YXIgaT1mdW5jdGlvbih0LGUpe3ZhciBpPXRbMV18fFwiXCIsbj10WzNdO2lmKCFuKXJldHVybiBpO2lmKGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGJ0b2Epe3ZhciBvPShzPW4sXCIvKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsXCIrYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkocykpKSkrXCIgKi9cIikscj1uLnNvdXJjZXMubWFwKGZ1bmN0aW9uKHQpe3JldHVyblwiLyojIHNvdXJjZVVSTD1cIituLnNvdXJjZVJvb3QrdCtcIiAqL1wifSk7cmV0dXJuW2ldLmNvbmNhdChyKS5jb25jYXQoW29dKS5qb2luKFwiXFxuXCIpfXZhciBzO3JldHVybltpXS5qb2luKFwiXFxuXCIpfShlLHQpO3JldHVybiBlWzJdP1wiQG1lZGlhIFwiK2VbMl0rXCJ7XCIraStcIn1cIjppfSkuam9pbihcIlwiKX0sZS5pPWZ1bmN0aW9uKHQsaSl7XCJzdHJpbmdcIj09dHlwZW9mIHQmJih0PVtbbnVsbCx0LFwiXCJdXSk7Zm9yKHZhciBuPXt9LG89MDtvPHRoaXMubGVuZ3RoO28rKyl7dmFyIHI9dGhpc1tvXVswXTtcIm51bWJlclwiPT10eXBlb2YgciYmKG5bcl09ITApfWZvcihvPTA7bzx0Lmxlbmd0aDtvKyspe3ZhciBzPXRbb107XCJudW1iZXJcIj09dHlwZW9mIHNbMF0mJm5bc1swXV18fChpJiYhc1syXT9zWzJdPWk6aSYmKHNbMl09XCIoXCIrc1syXStcIikgYW5kIChcIitpK1wiKVwiKSxlLnB1c2gocykpfX0sZX19LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtpLnIoZSk7dmFyIG49e307aS5yKG4pLGkuZChuLFwiRXZlbnRUeXBlc1wiLGZ1bmN0aW9uKCl7cmV0dXJuIFJ9KSxpLmQobixcIkdhbWVFdmVudFwiLGZ1bmN0aW9uKCl7cmV0dXJuIHF9KSxpLmQobixcIktpbGxFdmVudFwiLGZ1bmN0aW9uKCl7cmV0dXJuIEd9KSxpLmQobixcIlByZUtpbGxFdmVudFwiLGZ1bmN0aW9uKCl7cmV0dXJuIFZ9KSxpLmQobixcIlBvc3RLaWxsRXZlbnRcIixmdW5jdGlvbigpe3JldHVybiBYfSksaS5kKG4sXCJHYW1lU3RhcnRFdmVudFwiLGZ1bmN0aW9uKCl7cmV0dXJuIEt9KSxpLmQobixcIkdhbWVTdG9wRXZlbnRcIixmdW5jdGlvbigpe3JldHVybiBZfSksaS5kKG4sXCJQcmVEcmF3RXZlbnRcIixmdW5jdGlvbigpe3JldHVybiBafSksaS5kKG4sXCJQb3N0RHJhd0V2ZW50XCIsZnVuY3Rpb24oKXtyZXR1cm4gUX0pLGkuZChuLFwiUHJlRGVidWdEcmF3RXZlbnRcIixmdW5jdGlvbigpe3JldHVybiBKfSksaS5kKG4sXCJQb3N0RGVidWdEcmF3RXZlbnRcIixmdW5jdGlvbigpe3JldHVybiAkfSksaS5kKG4sXCJQcmVVcGRhdGVFdmVudFwiLGZ1bmN0aW9uKCl7cmV0dXJuIHR0fSksaS5kKG4sXCJQb3N0VXBkYXRlRXZlbnRcIixmdW5jdGlvbigpe3JldHVybiBldH0pLGkuZChuLFwiUHJlRnJhbWVFdmVudFwiLGZ1bmN0aW9uKCl7cmV0dXJuIGl0fSksaS5kKG4sXCJQb3N0RnJhbWVFdmVudFwiLGZ1bmN0aW9uKCl7cmV0dXJuIG50fSksaS5kKG4sXCJHYW1lcGFkQ29ubmVjdEV2ZW50XCIsZnVuY3Rpb24oKXtyZXR1cm4gb3R9KSxpLmQobixcIkdhbWVwYWREaXNjb25uZWN0RXZlbnRcIixmdW5jdGlvbigpe3JldHVybiBydH0pLGkuZChuLFwiR2FtZXBhZEJ1dHRvbkV2ZW50XCIsZnVuY3Rpb24oKXtyZXR1cm4gc3R9KSxpLmQobixcIkdhbWVwYWRBeGlzRXZlbnRcIixmdW5jdGlvbigpe3JldHVybiBhdH0pLGkuZChuLFwiU3Vic2NyaWJlRXZlbnRcIixmdW5jdGlvbigpe3JldHVybiBodH0pLGkuZChuLFwiVW5zdWJzY3JpYmVFdmVudFwiLGZ1bmN0aW9uKCl7cmV0dXJuIGN0fSksaS5kKG4sXCJWaXNpYmxlRXZlbnRcIixmdW5jdGlvbigpe3JldHVybiB1dH0pLGkuZChuLFwiSGlkZGVuRXZlbnRcIixmdW5jdGlvbigpe3JldHVybiBsdH0pLGkuZChuLFwiUHJlQ29sbGlzaW9uRXZlbnRcIixmdW5jdGlvbigpe3JldHVybiBwdH0pLGkuZChuLFwiUG9zdENvbGxpc2lvbkV2ZW50XCIsZnVuY3Rpb24oKXtyZXR1cm4gZHR9KSxpLmQobixcIkNvbGxpc2lvblN0YXJ0RXZlbnRcIixmdW5jdGlvbigpe3JldHVybiBmdH0pLGkuZChuLFwiQ29sbGlzaW9uRW5kRXZlbnRcIixmdW5jdGlvbigpe3JldHVybiBndH0pLGkuZChuLFwiSW5pdGlhbGl6ZUV2ZW50XCIsZnVuY3Rpb24oKXtyZXR1cm4geXR9KSxpLmQobixcIkFjdGl2YXRlRXZlbnRcIixmdW5jdGlvbigpe3JldHVybiBfdH0pLGkuZChuLFwiRGVhY3RpdmF0ZUV2ZW50XCIsZnVuY3Rpb24oKXtyZXR1cm4gdnR9KSxpLmQobixcIkV4aXRWaWV3UG9ydEV2ZW50XCIsZnVuY3Rpb24oKXtyZXR1cm4gbXR9KSxpLmQobixcIkVudGVyVmlld1BvcnRFdmVudFwiLGZ1bmN0aW9uKCl7cmV0dXJuIGJ0fSksaS5kKG4sXCJFbnRlclRyaWdnZXJFdmVudFwiLGZ1bmN0aW9uKCl7cmV0dXJuIHd0fSksaS5kKG4sXCJFeGl0VHJpZ2dlckV2ZW50XCIsZnVuY3Rpb24oKXtyZXR1cm4geHR9KTt2YXIgbz17fTtpLnIobyksaS5kKG8sXCJHcmF5c2NhbGVcIixmdW5jdGlvbigpe3JldHVybiBKdH0pLGkuZChvLFwiSW52ZXJ0XCIsZnVuY3Rpb24oKXtyZXR1cm4gJHR9KSxpLmQobyxcIk9wYWNpdHlcIixmdW5jdGlvbigpe3JldHVybiB0ZX0pLGkuZChvLFwiQ29sb3JpemVcIixmdW5jdGlvbigpe3JldHVybiBlZX0pLGkuZChvLFwiTGlnaHRlblwiLGZ1bmN0aW9uKCl7cmV0dXJuIGllfSksaS5kKG8sXCJEYXJrZW5cIixmdW5jdGlvbigpe3JldHVybiBuZX0pLGkuZChvLFwiU2F0dXJhdGVcIixmdW5jdGlvbigpe3JldHVybiBvZX0pLGkuZChvLFwiRGVzYXR1cmF0ZVwiLGZ1bmN0aW9uKCl7cmV0dXJuIHJlfSksaS5kKG8sXCJGaWxsXCIsZnVuY3Rpb24oKXtyZXR1cm4gc2V9KTt2YXIgcj17fTtpLnIociksaS5kKHIsXCJFYXNlVG9cIixmdW5jdGlvbigpe3JldHVybiBnZX0pLGkuZChyLFwiTW92ZVRvXCIsZnVuY3Rpb24oKXtyZXR1cm4geWV9KSxpLmQocixcIk1vdmVCeVwiLGZ1bmN0aW9uKCl7cmV0dXJuIF9lfSksaS5kKHIsXCJGb2xsb3dcIixmdW5jdGlvbigpe3JldHVybiB2ZX0pLGkuZChyLFwiTWVldFwiLGZ1bmN0aW9uKCl7cmV0dXJuIG1lfSksaS5kKHIsXCJSb3RhdGVUb1wiLGZ1bmN0aW9uKCl7cmV0dXJuIGJlfSksaS5kKHIsXCJSb3RhdGVCeVwiLGZ1bmN0aW9uKCl7cmV0dXJuIHdlfSksaS5kKHIsXCJTY2FsZVRvXCIsZnVuY3Rpb24oKXtyZXR1cm4geGV9KSxpLmQocixcIlNjYWxlQnlcIixmdW5jdGlvbigpe3JldHVybiBQZX0pLGkuZChyLFwiRGVsYXlcIixmdW5jdGlvbigpe3JldHVybiBTZX0pLGkuZChyLFwiQmxpbmtcIixmdW5jdGlvbigpe3JldHVybiBBZX0pLGkuZChyLFwiRmFkZVwiLGZ1bmN0aW9uKCl7cmV0dXJuIEVlfSksaS5kKHIsXCJEaWVcIixmdW5jdGlvbigpe3JldHVybiBDZX0pLGkuZChyLFwiQ2FsbE1ldGhvZFwiLGZ1bmN0aW9uKCl7cmV0dXJuIFRlfSksaS5kKHIsXCJSZXBlYXRcIixmdW5jdGlvbigpe3JldHVybiBNZX0pLGkuZChyLFwiUmVwZWF0Rm9yZXZlclwiLGZ1bmN0aW9uKCl7cmV0dXJuIE9lfSksaS5kKHIsXCJBY3Rpb25RdWV1ZVwiLGZ1bmN0aW9uKCl7cmV0dXJuIEJlfSk7dmFyIHM9e307aS5yKHMpLGkuZChzLFwibGluZVwiLGZ1bmN0aW9uKCl7cmV0dXJuIHplfSksaS5kKHMsXCJwb2ludFwiLGZ1bmN0aW9uKCl7cmV0dXJuIFVlfSksaS5kKHMsXCJ2ZWN0b3JcIixmdW5jdGlvbigpe3JldHVybiBOZX0pLGkuZChzLFwicm91bmRSZWN0XCIsZnVuY3Rpb24oKXtyZXR1cm4gcWV9KSxpLmQocyxcImNpcmNsZVwiLGZ1bmN0aW9uKCl7cmV0dXJuIEdlfSk7dmFyIGE9e307aS5yKGEpLGkuZChhLFwiR2FtZXBhZHNcIixmdW5jdGlvbigpe3JldHVybiBTbn0pLGkuZChhLFwiR2FtZXBhZFwiLGZ1bmN0aW9uKCl7cmV0dXJuIEFufSksaS5kKGEsXCJCdXR0b25zXCIsZnVuY3Rpb24oKXtyZXR1cm4gbW59KSxpLmQoYSxcIkF4ZXNcIixmdW5jdGlvbigpe3JldHVybiBibn0pLGkuZChhLFwiUG9pbnRlclR5cGVcIixmdW5jdGlvbigpe3JldHVybiAkaX0pLGkuZChhLFwiTmF0aXZlUG9pbnRlckJ1dHRvblwiLGZ1bmN0aW9uKCl7cmV0dXJuIHRufSksaS5kKGEsXCJQb2ludGVyQnV0dG9uXCIsZnVuY3Rpb24oKXtyZXR1cm4gZW59KSxpLmQoYSxcIldoZWVsRGVsdGFNb2RlXCIsZnVuY3Rpb24oKXtyZXR1cm4gbm59KSxpLmQoYSxcIlBvaW50ZXJTY29wZVwiLGZ1bmN0aW9uKCl7cmV0dXJuIG9ufSksaS5kKGEsXCJQb2ludGVyRXZlbnRcIixmdW5jdGlvbigpe3JldHVybiBobn0pLGkuZChhLFwiUG9pbnRlckV2ZW50RmFjdG9yeVwiLGZ1bmN0aW9uKCl7cmV0dXJuIGNufSksaS5kKGEsXCJQb2ludGVyRHJhZ0V2ZW50XCIsZnVuY3Rpb24oKXtyZXR1cm4gdW59KSxpLmQoYSxcIlBvaW50ZXJVcEV2ZW50XCIsZnVuY3Rpb24oKXtyZXR1cm4gbG59KSxpLmQoYSxcIlBvaW50ZXJEb3duRXZlbnRcIixmdW5jdGlvbigpe3JldHVybiBwbn0pLGkuZChhLFwiUG9pbnRlck1vdmVFdmVudFwiLGZ1bmN0aW9uKCl7cmV0dXJuIGRufSksaS5kKGEsXCJQb2ludGVyRW50ZXJFdmVudFwiLGZ1bmN0aW9uKCl7cmV0dXJuIGZufSksaS5kKGEsXCJQb2ludGVyTGVhdmVFdmVudFwiLGZ1bmN0aW9uKCl7cmV0dXJuIGdufSksaS5kKGEsXCJQb2ludGVyQ2FuY2VsRXZlbnRcIixmdW5jdGlvbigpe3JldHVybiB5bn0pLGkuZChhLFwiV2hlZWxFdmVudFwiLGZ1bmN0aW9uKCl7cmV0dXJuIF9ufSksaS5kKGEsXCJQb2ludGVyc1wiLGZ1bmN0aW9uKCl7cmV0dXJuIHdufSksaS5kKGEsXCJQb2ludGVyXCIsZnVuY3Rpb24oKXtyZXR1cm4geG59KSxpLmQoYSxcIktleXNcIixmdW5jdGlvbigpe3JldHVybiBHaX0pLGkuZChhLFwiS2V5RXZlbnRcIixmdW5jdGlvbigpe3JldHVybiBybn0pLGkuZChhLFwiS2V5Ym9hcmRcIixmdW5jdGlvbigpe3JldHVybiBzbn0pO3ZhciBoPXt9O2kucihoKSxpLmQoaCxcIkNhcHR1cmVQb2ludGVyXCIsZnVuY3Rpb24oKXtyZXR1cm4gSGV9KSxpLmQoaCxcIk9mZnNjcmVlbkN1bGxpbmdcIixmdW5jdGlvbigpe3JldHVybiBXZX0pLGkuZChoLFwiVGlsZU1hcENvbGxpc2lvbkRldGVjdGlvblwiLGZ1bmN0aW9uKCl7cmV0dXJuIExlfSk7dmFyIGMsdT17fTtmdW5jdGlvbiBsKCl7XCJ1bmRlZmluZWRcIj09dHlwZW9mIHdpbmRvdyYmKHdpbmRvdz17YXVkaW9Db250ZXh0OmZ1bmN0aW9uKCl7fX0pLFwidW5kZWZpbmVkXCI9PXR5cGVvZiB3aW5kb3d8fHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fCh3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lPXdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fGZ1bmN0aW9uKHQpe3dpbmRvdy5zZXRJbnRlcnZhbCh0LDFlMy82MCl9KSxcInVuZGVmaW5lZFwiPT10eXBlb2Ygd2luZG93fHx3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWV8fCh3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWU9d2luZG93LndlYmtpdENhbmNlbEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cubW96Q2FuY2VsQW5pbWF0aW9uRnJhbWV8fGZ1bmN0aW9uKCl7fSksXCJ1bmRlZmluZWRcIj09dHlwZW9mIHdpbmRvd3x8d2luZG93LkF1ZGlvQ29udGV4dHx8KHdpbmRvdy5BdWRpb0NvbnRleHQ9d2luZG93LkF1ZGlvQ29udGV4dHx8d2luZG93LndlYmtpdEF1ZGlvQ29udGV4dHx8d2luZG93Lm1vekF1ZGlvQ29udGV4dHx8d2luZG93Lm1zQXVkaW9Db250ZXh0fHx3aW5kb3cub0F1ZGlvQ29udGV4dCksXCJ1bmRlZmluZWRcIj09dHlwZW9mIHdpbmRvd3x8d2luZG93LmRldmljZVBpeGVsUmF0aW98fCh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbz13aW5kb3cuZGV2aWNlUGl4ZWxSYXRpb3x8MSksQXJyYXkucHJvdG90eXBlLmZvckVhY2h8fChBcnJheS5wcm90b3R5cGUuZm9yRWFjaD1mdW5jdGlvbih0LGUpe3ZhciBpLG47aWYobnVsbD09dGhpcyl0aHJvdyBuZXcgVHlwZUVycm9yKFwidGhpcyBpcyBudWxsIG9yIG5vdCBkZWZpbmVkXCIpO3ZhciBvPU9iamVjdCh0aGlzKSxyPW8ubGVuZ3RoPj4+MDtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IodCtcIiBpcyBub3QgYSBmdW5jdGlvblwiKTtmb3IoYXJndW1lbnRzLmxlbmd0aD4xJiYoaT1lKSxuPTA7bjxyOyl7dmFyIHM9dm9pZCAwO24gaW4gbyYmKHM9b1tuXSx0LmNhbGwoaSxzLG4sbykpLG4rK319KSxBcnJheS5wcm90b3R5cGUuc29tZXx8KEFycmF5LnByb3RvdHlwZS5zb21lPWZ1bmN0aW9uKHQpe2lmKG51bGw9PXRoaXMpdGhyb3cgbmV3IFR5cGVFcnJvcjt2YXIgZT1PYmplY3QodGhpcyksaT1lLmxlbmd0aD4+PjA7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yO2Zvcih2YXIgbj1hcmd1bWVudHMubGVuZ3RoPj0yP2FyZ3VtZW50c1sxXTp2b2lkIDAsbz0wO288aTtvKyspaWYobyBpbiBlJiZ0LmNhbGwobixlW29dLG8sZSkpcmV0dXJuITA7cmV0dXJuITF9KSxGdW5jdGlvbi5wcm90b3R5cGUuYmluZHx8KEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHRoaXMpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kIC0gd2hhdCBpcyB0cnlpbmcgdG8gYmUgYm91bmQgaXMgbm90IGNhbGxhYmxlXCIpO3ZhciBlPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSxpPXRoaXMsbj1mdW5jdGlvbigpe30sbz1mdW5jdGlvbigpe3JldHVybiBpLmFwcGx5KHRoaXMgaW5zdGFuY2VvZiBuJiZ0P3RoaXM6dCxlLmNvbmNhdChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpKSl9O3JldHVybiBuLnByb3RvdHlwZT10aGlzLnByb3RvdHlwZSxvLnByb3RvdHlwZT1uZXcgbixvfSl9aS5yKHUpLGkuZCh1LFwiRHJhd1V0aWxcIixmdW5jdGlvbigpe3JldHVybiBzfSksaS5kKHUsXCJUd29QSVwiLGZ1bmN0aW9uKCl7cmV0dXJuIGd9KSxpLmQodSxcImV4dGVuZFwiLGZ1bmN0aW9uKCl7cmV0dXJuIHl9KSxpLmQodSxcImJhc2U2NEVuY29kZVwiLGZ1bmN0aW9uKCl7cmV0dXJuIF99KSxpLmQodSxcImNsYW1wXCIsZnVuY3Rpb24oKXtyZXR1cm4gdn0pLGkuZCh1LFwicmFuZG9tSW5SYW5nZVwiLGZ1bmN0aW9uKCl7cmV0dXJuIG19KSxpLmQodSxcInJhbmRvbUludEluUmFuZ2VcIixmdW5jdGlvbigpe3JldHVybiBifSksaS5kKHUsXCJjYW5vbmljYWxpemVBbmdsZVwiLGZ1bmN0aW9uKCl7cmV0dXJuIHd9KSxpLmQodSxcInRvRGVncmVlc1wiLGZ1bmN0aW9uKCl7cmV0dXJuIHh9KSxpLmQodSxcInRvUmFkaWFuc1wiLGZ1bmN0aW9uKCl7cmV0dXJuIFB9KSxpLmQodSxcImdldFBvc2l0aW9uXCIsZnVuY3Rpb24oKXtyZXR1cm4gU30pLGkuZCh1LFwiYWRkSXRlbVRvQXJyYXlcIixmdW5jdGlvbigpe3JldHVybiBBfSksaS5kKHUsXCJyZW1vdmVJdGVtRnJvbUFycmF5XCIsZnVuY3Rpb24oKXtyZXR1cm4gRX0pLGkuZCh1LFwiY29udGFpbnNcIixmdW5jdGlvbigpe3JldHVybiBDfSksaS5kKHUsXCJnZXRPcHBvc2l0ZVNpZGVcIixmdW5jdGlvbigpe3JldHVybiBUfSksaS5kKHUsXCJnZXRTaWRlRnJvbVZlY3RvclwiLGZ1bmN0aW9uKCl7cmV0dXJuIE19KSxpLmQodSxcImdldFNpZGVGcm9tRGlyZWN0aW9uXCIsZnVuY3Rpb24oKXtyZXR1cm4gT30pLGkuZCh1LFwiQ29sbGVjdGlvblwiLGZ1bmN0aW9uKCl7cmV0dXJuIEJ9KSxpLmQodSxcImZhaWxcIixmdW5jdGlvbigpe3JldHVybiBEfSksZnVuY3Rpb24odCl7dFt0LlJlc29sdmVkPTBdPVwiUmVzb2x2ZWRcIix0W3QuUmVqZWN0ZWQ9MV09XCJSZWplY3RlZFwiLHRbdC5QZW5kaW5nPTJdPVwiUGVuZGluZ1wifShjfHwoYz17fSkpO3ZhciBwLGQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy5fc3RhdGU9Yy5QZW5kaW5nLHRoaXMuX3N1Y2Nlc3NDYWxsYmFja3M9W10sdGhpcy5fcmVqZWN0Q2FsbGJhY2s9ZnVuY3Rpb24oKXt9fXJldHVybiB0LnJlc29sdmU9ZnVuY3Rpb24oZSl7cmV0dXJuKG5ldyB0KS5yZXNvbHZlKGUpfSx0LnJlamVjdD1mdW5jdGlvbihlKXtyZXR1cm4obmV3IHQpLnJlamVjdChlKX0sdC5qb2luPWZ1bmN0aW9uKCl7dmFyIGU9W107aWYoYXJndW1lbnRzLmxlbmd0aD4wJiYhQXJyYXkuaXNBcnJheShhcmd1bWVudHNbMF0pKWZvcih2YXIgaT0wO2k8YXJndW1lbnRzLmxlbmd0aDtpKyspZVtpLTBdPWFyZ3VtZW50c1tpXTtlbHNlIDE9PT1hcmd1bWVudHMubGVuZ3RoJiZBcnJheS5pc0FycmF5KGFyZ3VtZW50c1swXSkmJihlPWFyZ3VtZW50c1swXSk7dmFyIG49bmV3IHQ7aWYoIWV8fCFlLmxlbmd0aClyZXR1cm4gbi5yZXNvbHZlKCk7dmFyIG89ZS5sZW5ndGgscj0wLHM9MCxhPVtdO3JldHVybiBlLmZvckVhY2goZnVuY3Rpb24odCl7dC50aGVuKGZ1bmN0aW9uKCl7KHIrPTEpPT09bz9uLnJlc29sdmUoKTpyK3MrYS5sZW5ndGg9PT1vJiZuLnJlamVjdChhKX0sZnVuY3Rpb24oKXtyKyhzKz0xKSthLmxlbmd0aD09PW8mJm4ucmVqZWN0KGEpfSkuZXJyb3IoZnVuY3Rpb24odCl7YS5wdXNoKHQpLGEubGVuZ3RoK3Ircz09PW8mJm4ucmVqZWN0KGEpfSl9KSxufSx0LnByb3RvdHlwZS50aGVuPWZ1bmN0aW9uKHQsZSl7aWYodCYmKHRoaXMuX3N1Y2Nlc3NDYWxsYmFja3MucHVzaCh0KSx0aGlzLnN0YXRlKCk9PT1jLlJlc29sdmVkKSl0cnl7dC5jYWxsKHRoaXMsdGhpcy5fdmFsdWUpfWNhdGNoKHQpe3RoaXMuX2hhbmRsZUVycm9yKHQpfWlmKGUmJih0aGlzLl9yZWplY3RDYWxsYmFjaz1lLHRoaXMuc3RhdGUoKT09PWMuUmVqZWN0ZWQpKXRyeXtlLmNhbGwodGhpcyx0aGlzLl92YWx1ZSl9Y2F0Y2godCl7dGhpcy5faGFuZGxlRXJyb3IodCl9cmV0dXJuIHRoaXN9LHQucHJvdG90eXBlLmVycm9yPWZ1bmN0aW9uKHQpe3JldHVybiB0JiYodGhpcy5fZXJyb3JDYWxsYmFjaz10KSx0aGlzfSx0LnByb3RvdHlwZS5yZXNvbHZlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7aWYodGhpcy5fc3RhdGUhPT1jLlBlbmRpbmcpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHJlc29sdmUgYSBwcm9taXNlIHRoYXQgaXMgbm90IGluIGEgcGVuZGluZyBzdGF0ZSFcIik7dGhpcy5fdmFsdWU9dDt0cnl7dGhpcy5fc3RhdGU9Yy5SZXNvbHZlZCx0aGlzLl9zdWNjZXNzQ2FsbGJhY2tzLmZvckVhY2goZnVuY3Rpb24odCl7dC5jYWxsKGUsZS5fdmFsdWUpfSl9Y2F0Y2godCl7dGhpcy5faGFuZGxlRXJyb3IodCl9cmV0dXJuIHRoaXN9LHQucHJvdG90eXBlLnJlamVjdD1mdW5jdGlvbih0KXtpZih0aGlzLl9zdGF0ZSE9PWMuUGVuZGluZyl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgcmVqZWN0IGEgcHJvbWlzZSB0aGF0IGlzIG5vdCBpbiBhIHBlbmRpbmcgc3RhdGUhXCIpO3RoaXMuX3ZhbHVlPXQ7dHJ5e3RoaXMuX3N0YXRlPWMuUmVqZWN0ZWQsdGhpcy5fcmVqZWN0Q2FsbGJhY2suY2FsbCh0aGlzLHRoaXMuX3ZhbHVlKX1jYXRjaCh0KXt0aGlzLl9oYW5kbGVFcnJvcih0KX1yZXR1cm4gdGhpc30sdC5wcm90b3R5cGUuc3RhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RhdGV9LHQucHJvdG90eXBlLl9oYW5kbGVFcnJvcj1mdW5jdGlvbih0KXtpZighdGhpcy5fZXJyb3JDYWxsYmFjayl0aHJvdyB0O3RoaXMuX2Vycm9yQ2FsbGJhY2suY2FsbCh0aGlzLHQpfSx0fSgpLGY9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuc2VlZD10LHRoaXMuX2xvd2VyTWFzaz0yMTQ3NDgzNjQ3LHRoaXMuX3VwcGVyTWFzaz0yMTQ3NDgzNjQ4LHRoaXMuX3c9MzIsdGhpcy5fbj02MjQsdGhpcy5fbT0zOTcsdGhpcy5fYT0yNTY3NDgzNjE1LHRoaXMuX3U9MTEsdGhpcy5fcz03LHRoaXMuX2I9MjYzNjkyODY0MCx0aGlzLl90PTE1LHRoaXMuX2M9NDAyMjczMDc1Mix0aGlzLl9sPTE4LHRoaXMuX2Y9MTgxMjQzMzI1Myx0aGlzLl9tdD1uZXcgQXJyYXkodGhpcy5fbiksdGhpcy5fbXRbMF09KHR8fERhdGUubm93KCkpPj4+MDtmb3IodmFyIGU9MTtlPHRoaXMuX247ZSsrKXt2YXIgaT10aGlzLl9tdFtlLTFdXnRoaXMuX210W2UtMV0+Pj50aGlzLl93LTI7dGhpcy5fbXRbZV09KHRoaXMuX2YqKCg0Mjk0OTAxNzYwJmkpPj4+MTYpPDwxNikrdGhpcy5fZiooNjU1MzUmaSkrZT4+PjB9dGhpcy5faW5kZXg9dGhpcy5fbn1yZXR1cm4gdC5wcm90b3R5cGUuX3R3aXN0PWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVswLHRoaXMuX2FdLGU9MCxpPTA7aTx0aGlzLl9uLXRoaXMuX207aSsrKWU9dGhpcy5fbXRbaV0mdGhpcy5fdXBwZXJNYXNrfHRoaXMuX210W2krMV0mdGhpcy5fbG93ZXJNYXNrLHRoaXMuX210W2ldPXRoaXMuX210W2krdGhpcy5fbV1eZT4+PjFeNDI5NDk2NzI5NSZ0WzEmZV07Zm9yKDtpPHRoaXMuX24tMTtpKyspZT10aGlzLl9tdFtpXSZ0aGlzLl91cHBlck1hc2t8dGhpcy5fbXRbaSsxXSZ0aGlzLl9sb3dlck1hc2ssdGhpcy5fbXRbaV09dGhpcy5fbXRbaSsodGhpcy5fbS10aGlzLl9uKV1eZT4+PjFeNDI5NDk2NzI5NSZ0WzEmZV07ZT10aGlzLl9tdFt0aGlzLl9uLTFdJnRoaXMuX3VwcGVyTWFza3x0aGlzLl9tdFswXSZ0aGlzLl9sb3dlck1hc2ssdGhpcy5fbXRbdGhpcy5fbi0xXT10aGlzLl9tdFt0aGlzLl9tLTFdXmU+Pj4xXjQyOTQ5NjcyOTUmdFsxJmVdLHRoaXMuX2luZGV4PTB9LHQucHJvdG90eXBlLm5leHRJbnQ9ZnVuY3Rpb24oKXt0aGlzLl9pbmRleD49dGhpcy5fbiYmdGhpcy5fdHdpc3QoKTt2YXIgdD10aGlzLl9tdFt0aGlzLl9pbmRleCsrXTtyZXR1cm4gdF49dD4+PnRoaXMuX3UsdF49dDw8dGhpcy5fcyZ0aGlzLl9iLHRePXQ8PHRoaXMuX3QmdGhpcy5fYywodF49dD4+PnRoaXMuX2wpPj4+MH0sdC5wcm90b3R5cGUubmV4dD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm5leHRJbnQoKSooMS80Mjk0OTY3Mjk2KX0sdC5wcm90b3R5cGUuZmxvYXRpbmc9ZnVuY3Rpb24odCxlKXtyZXR1cm4oZS10KSp0aGlzLm5leHQoKSt0fSx0LnByb3RvdHlwZS5pbnRlZ2VyPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIE1hdGguZmxvb3IoKGUtdCsxKSp0aGlzLm5leHQoKSt0KX0sdC5wcm90b3R5cGUuYm9vbD1mdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9LjUpLHRoaXMubmV4dCgpPD10fSx0LnByb3RvdHlwZS5waWNrT25lPWZ1bmN0aW9uKHQpe3JldHVybiB0W3RoaXMuaW50ZWdlcigwLHQubGVuZ3RoLTEpXX0sdC5wcm90b3R5cGUucGlja1NldD1mdW5jdGlvbih0LGUsaSl7cmV0dXJuIHZvaWQgMD09PWkmJihpPSExKSxpP3RoaXMuX3BpY2tTZXRXaXRoRHVwbGljYXRlcyh0LGUpOnRoaXMuX3BpY2tTZXRXaXRob3V0RHVwbGljYXRlcyh0LGUpfSx0LnByb3RvdHlwZS5fcGlja1NldFdpdGhvdXREdXBsaWNhdGVzPWZ1bmN0aW9uKHQsZSl7aWYoZT50Lmxlbmd0aHx8ZTwwKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIHBpY2ssIG11c3QgcGljayBhIHZhbHVlIDAgPCBuIDw9IGxlbmd0aFwiKTtpZihlPT09dC5sZW5ndGgpcmV0dXJuIHQ7Zm9yKHZhciBpPW5ldyBBcnJheShlKSxuPTAsbz10LnNsaWNlKDApO248ZTspe3ZhciByPXRoaXMuaW50ZWdlcigwLG8ubGVuZ3RoLTEpO2lbbisrXT1vW3JdLG8uc3BsaWNlKHIsMSl9cmV0dXJuIGl9LHQucHJvdG90eXBlLl9waWNrU2V0V2l0aER1cGxpY2F0ZXM9ZnVuY3Rpb24odCxlKXtpZihlPDApdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBudW1iZXIgb2YgZWxlbWVudHMgdG8gcGljaywgbXVzdCBwaWNrIGEgdmFsdWUgMCA8PSBuIDwgTUFYX0lOVFwiKTtmb3IodmFyIGk9bmV3IEFycmF5KGUpLG49MDtuPGU7bisrKWlbbl09dGhpcy5waWNrT25lKHQpO3JldHVybiBpfSx0LnByb3RvdHlwZS5zaHVmZmxlPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10LnNsaWNlKDApLGk9bnVsbCxuPTA7bjxlLmxlbmd0aC0yO24rKyl7dmFyIG89dGhpcy5pbnRlZ2VyKG4sZS5sZW5ndGgtMSk7aT1lW25dLGVbbl09ZVtvXSxlW29dPWl9cmV0dXJuIGV9LHQucHJvdG90eXBlLnJhbmdlPWZ1bmN0aW9uKHQsZSxpKXtmb3IodmFyIG49bmV3IEFycmF5KHQpLG89MDtvPHQ7bysrKW5bb109dGhpcy5pbnRlZ2VyKGUsaSk7cmV0dXJuIG59LHQucHJvdG90eXBlLmQ0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW50ZWdlcigxLDQpfSx0LnByb3RvdHlwZS5kNj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmludGVnZXIoMSw2KX0sdC5wcm90b3R5cGUuZDg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbnRlZ2VyKDEsOCl9LHQucHJvdG90eXBlLmQxMD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmludGVnZXIoMSwxMCl9LHQucHJvdG90eXBlLmQxMj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmludGVnZXIoMSwxMil9LHQucHJvdG90eXBlLmQyMD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmludGVnZXIoMSwyMCl9LHR9KCk7IWZ1bmN0aW9uKHQpe3QuTm9uZT1cIk5vbmVcIix0LlRvcD1cIlRvcFwiLHQuQm90dG9tPVwiQm90dG9tXCIsdC5MZWZ0PVwiTGVmdFwiLHQuUmlnaHQ9XCJSaWdodFwifShwfHwocD17fSkpO3ZhciBnPTIqTWF0aC5QSTtmdW5jdGlvbiB5KCl7dmFyIHQ9e30sZT0hMSxpPTAsbj1hcmd1bWVudHMubGVuZ3RoO1wiW29iamVjdCBCb29sZWFuXVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGFyZ3VtZW50c1swXSkmJihlPWFyZ3VtZW50c1swXSxpKyspO3ZhciBvPVwiZnVuY3Rpb25cIj09dHlwZW9mIE9iamVjdC5hc3NpZ24scj1udWxsO2ZvcihyPW8/T2JqZWN0LmFzc2lnbjpmdW5jdGlvbihpKXtmb3IodmFyIG4gaW4gaSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaSxuKSYmKGUmJlwiW29iamVjdCBPYmplY3RdXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaVtuXSk/dFtuXT15KCEwLHRbbl0saVtuXSk6dFtuXT1pW25dKX07aTxuO2krKyl7dmFyIHM9YXJndW1lbnRzW2ldO28/cih0LHMpOnIocyl9cmV0dXJuIHR9ZnVuY3Rpb24gXyh0KXtmb3IodmFyIGU9XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvPVwiLGk9XCJcIixuPTA7bjx0Lmxlbmd0aDspe3ZhciBvPTI1NSZ0LmNoYXJDb2RlQXQobisrKSxyPTI1NSZ0LmNoYXJDb2RlQXQobisrKSxzPTI1NSZ0LmNoYXJDb2RlQXQobisrKSxhPW8+PjIsaD0oMyZvKTw8NHxyPj40LGM9dm9pZCAwLHU9dm9pZCAwO2lzTmFOKHIpP2M9dT02NDooYz0oMTUmcik8PDJ8cz4+Nix1PWlzTmFOKHMpPzY0OjYzJnMpLGkrPWUuY2hhckF0KGEpK2UuY2hhckF0KGgpK2UuY2hhckF0KGMpK2UuY2hhckF0KHUpfXJldHVybiBpfWZ1bmN0aW9uIHYodCxlLGkpe3JldHVybiBNYXRoLm1pbihNYXRoLm1heChlLHQpLGkpfWZ1bmN0aW9uIG0odCxlLGkpe3JldHVybiB2b2lkIDA9PT1pJiYoaT1uZXcgZiksaT9pLmZsb2F0aW5nKHQsZSk6dCtNYXRoLnJhbmRvbSgpKihlLXQpfWZ1bmN0aW9uIGIodCxlLGkpe3JldHVybiB2b2lkIDA9PT1pJiYoaT1uZXcgZiksaT9pLmludGVnZXIodCxlKTpNYXRoLnJvdW5kKG0odCxlKSl9ZnVuY3Rpb24gdyh0KXt2YXIgZT10O2lmKHQ+Zylmb3IoO2U+ZzspZS09ZztpZih0PDApZm9yKDtlPDA7KWUrPWc7cmV0dXJuIGV9ZnVuY3Rpb24geCh0KXtyZXR1cm4gMTgwL01hdGguUEkqdH1mdW5jdGlvbiBQKHQpe3JldHVybiB0LzE4MCpNYXRoLlBJfWZ1bmN0aW9uIFModCl7dmFyIGU9MCxpPTAsbj1mdW5jdGlvbih0KXtlKz10Lm9mZnNldExlZnQsdC5vZmZzZXRQYXJlbnQmJm4odC5vZmZzZXRQYXJlbnQpfSxvPWZ1bmN0aW9uKHQpe2krPXQub2Zmc2V0VG9wLHQub2Zmc2V0UGFyZW50JiZvKHQub2Zmc2V0UGFyZW50KX07cmV0dXJuIG4odCksbyh0KSxuZXcgRihlLGkpfWZ1bmN0aW9uIEEodCxlKXtyZXR1cm4tMT09PWUuaW5kZXhPZih0KSYmKGUucHVzaCh0KSwhMCl9ZnVuY3Rpb24gRSh0LGUpe3ZhciBpO3JldHVybihpPWUuaW5kZXhPZih0KSk+LTEmJihlLnNwbGljZShpLDEpLCEwKX1mdW5jdGlvbiBDKHQsZSl7Zm9yKHZhciBpPTA7aTx0Lmxlbmd0aDtpKyspaWYodFtpXT09PWUpcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gVCh0KXtyZXR1cm4gdD09PXAuVG9wP3AuQm90dG9tOnQ9PT1wLkJvdHRvbT9wLlRvcDp0PT09cC5MZWZ0P3AuUmlnaHQ6dD09PXAuUmlnaHQ/cC5MZWZ0OnAuTm9uZX1mdW5jdGlvbiBNKHQpe3JldHVybiBPKHQpfWZ1bmN0aW9uIE8odCl7Zm9yKHZhciBlPVtGLkxlZnQsRi5SaWdodCxGLlVwLEYuRG93bl0saT1bcC5MZWZ0LHAuUmlnaHQscC5Ub3AscC5Cb3R0b21dLG49LU51bWJlci5NQVhfVkFMVUUsbz0tMSxyPTA7cjxlLmxlbmd0aDtyKyspZVtyXS5kb3QodCk+biYmKG49ZVtyXS5kb3QodCksbz1yKTtyZXR1cm4gaVtvXX12YXIgQj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7dm9pZCAwPT09ZSYmKGU9dC5EZWZhdWx0U2l6ZSksdGhpcy5faW50ZXJuYWxBcnJheT1udWxsLHRoaXMuX2VuZFBvaW50ZXI9MCx0aGlzLl9pbnRlcm5hbEFycmF5PW5ldyBBcnJheShlKX1yZXR1cm4gdC5wcm90b3R5cGUuX3Jlc2l6ZT1mdW5jdGlvbigpe2Zvcih2YXIgdD0yKnRoaXMuX2ludGVybmFsQXJyYXkubGVuZ3RoLGU9bmV3IEFycmF5KHQpLGk9dGhpcy5jb3VudCgpLG49MDtuPGk7bisrKWVbbl09dGhpcy5faW50ZXJuYWxBcnJheVtuXTtkZWxldGUgdGhpcy5faW50ZXJuYWxBcnJheSx0aGlzLl9pbnRlcm5hbEFycmF5PWV9LHQucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2VuZFBvaW50ZXI9PT10aGlzLl9pbnRlcm5hbEFycmF5Lmxlbmd0aCYmdGhpcy5fcmVzaXplKCksdGhpcy5faW50ZXJuYWxBcnJheVt0aGlzLl9lbmRQb2ludGVyKytdPXR9LHQucHJvdG90eXBlLnBvcD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9lbmRQb2ludGVyPXRoaXMuX2VuZFBvaW50ZXItMTwwPzA6dGhpcy5fZW5kUG9pbnRlci0xLHRoaXMuX2ludGVybmFsQXJyYXlbdGhpcy5fZW5kUG9pbnRlcl19LHQucHJvdG90eXBlLmNvdW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2VuZFBvaW50ZXJ9LHQucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5fZW5kUG9pbnRlcj0wfSx0LnByb3RvdHlwZS5pbnRlcm5hbFNpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBcnJheS5sZW5ndGh9LHQucHJvdG90eXBlLmVsZW1lbnRBdD1mdW5jdGlvbih0KXtpZih0Pj10aGlzLmNvdW50KCkpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBpbmRleCBcIit0KTtyZXR1cm4gdGhpcy5faW50ZXJuYWxBcnJheVt0XX0sdC5wcm90b3R5cGUuaW5zZXJ0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ+PXRoaXMuY291bnQoKSYmdGhpcy5fcmVzaXplKCksdGhpcy5faW50ZXJuYWxBcnJheVt0XT1lfSx0LnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jb3VudCgpO2lmKDA9PT1lKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgcGFyYW1ldGVyIFwiK3QpO2Zvcih2YXIgaT10aGlzLl9pbnRlcm5hbEFycmF5W3RdLG49dDtuPGU7bisrKXRoaXMuX2ludGVybmFsQXJyYXlbbl09dGhpcy5faW50ZXJuYWxBcnJheVtuKzFdO3JldHVybiB0aGlzLl9lbmRQb2ludGVyLS0saX0sdC5wcm90b3R5cGUucmVtb3ZlRWxlbWVudD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9pbnRlcm5hbEFycmF5LmluZGV4T2YodCk7dGhpcy5yZW1vdmUoZSl9LHQucHJvdG90eXBlLnRvQXJyYXk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBcnJheS5zbGljZSgwLHRoaXMuX2VuZFBvaW50ZXIpfSx0LnByb3RvdHlwZS5mb3JFYWNoPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLGk9dGhpcy5jb3VudCgpO2U8aTtlKyspdC5jYWxsKHRoaXMsdGhpcy5faW50ZXJuYWxBcnJheVtlXSxlKX0sdC5wcm90b3R5cGUubWFwPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLmNvdW50KCksaT0wO2k8ZTtpKyspdGhpcy5faW50ZXJuYWxBcnJheVtpXT10LmNhbGwodGhpcyx0aGlzLl9pbnRlcm5hbEFycmF5W2ldLGkpfSx0LkRlZmF1bHRTaXplPTIwMCx0fSgpO2Z1bmN0aW9uIEQodCl7dGhyb3cgbmV3IEVycm9yKHQpfXZhciBrLFIsRj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt0aGlzLng9dCx0aGlzLnk9ZX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJaZXJvXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBuZXcgdCgwLDApfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiT25lXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBuZXcgdCgxLDEpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiSGFsZlwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHQoLjUsLjUpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiVXBcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0KDAsLTEpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiRG93blwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHQoMCwxKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIkxlZnRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0KC0xLDApfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiUmlnaHRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0KDEsMCl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdC5mcm9tQW5nbGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyB0KE1hdGguY29zKGUpLE1hdGguc2luKGUpKX0sdC5pc1ZhbGlkPWZ1bmN0aW9uKHQpe3JldHVybiBudWxsIT10JiYoIWlzTmFOKHQueCkmJiFpc05hTih0LnkpJiYodC54IT09MS8wJiZ0LnkhPT0xLzAmJnQueCE9PS0xLzAmJnQueSE9PS0xLzApKX0sdC5kaXN0YW5jZT1mdW5jdGlvbih0LGUpe3JldHVybiBNYXRoLnNxcnQoTWF0aC5wb3codC54LWUueCwyKStNYXRoLnBvdyh0LnktZS55LDIpKX0sdC5wcm90b3R5cGUuc2V0VG89ZnVuY3Rpb24odCxlKXt0aGlzLng9dCx0aGlzLnk9ZX0sdC5wcm90b3R5cGUuZXF1YWxzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPS4wMDEpLE1hdGguYWJzKHRoaXMueC10LngpPD1lJiZNYXRoLmFicyh0aGlzLnktdC55KTw9ZX0sdC5wcm90b3R5cGUuZGlzdGFuY2U9ZnVuY3Rpb24oZSl7cmV0dXJuIGV8fChlPXQuWmVybyksTWF0aC5zcXJ0KE1hdGgucG93KHRoaXMueC1lLngsMikrTWF0aC5wb3codGhpcy55LWUueSwyKSl9LHQucHJvdG90eXBlLm1hZ25pdHVkZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRpc3RhbmNlKCl9LHQucHJvdG90eXBlLm5vcm1hbGl6ZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZGlzdGFuY2UoKTtyZXR1cm4gZT4wP25ldyB0KHRoaXMueC9lLHRoaXMueS9lKTpuZXcgdCgwLDEpfSx0LnByb3RvdHlwZS5hdmVyYWdlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmFkZCh0KS5zY2FsZSguNSl9LHQucHJvdG90eXBlLnNjYWxlPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgdD9uZXcgdCh0aGlzLngqZS54LHRoaXMueSplLnkpOm5ldyB0KHRoaXMueCplLHRoaXMueSplKX0sdC5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgdCh0aGlzLngrZS54LHRoaXMueStlLnkpfSx0LnByb3RvdHlwZS5zdWI9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyB0KHRoaXMueC1lLngsdGhpcy55LWUueSl9LHQucHJvdG90eXBlLmFkZEVxdWFsPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLngrPXQueCx0aGlzLnkrPXQueSx0aGlzfSx0LnByb3RvdHlwZS5zdWJFcXVhbD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy54LT10LngsdGhpcy55LT10LnksdGhpc30sdC5wcm90b3R5cGUuc2NhbGVFcXVhbD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy54Kj10LHRoaXMueSo9dCx0aGlzfSx0LnByb3RvdHlwZS5kb3Q9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMueCp0LngrdGhpcy55KnQueX0sdC5wcm90b3R5cGUuY3Jvc3M9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiB0P3RoaXMueCplLnktdGhpcy55KmUueDpcIm51bWJlclwiPT10eXBlb2YgZT9uZXcgdChlKnRoaXMueSwtZSp0aGlzLngpOnZvaWQgMH0sdC5wcm90b3R5cGUucGVycGVuZGljdWxhcj1mdW5jdGlvbigpe3JldHVybiBuZXcgdCh0aGlzLnksLXRoaXMueCl9LHQucHJvdG90eXBlLm5vcm1hbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBlcnBlbmRpY3VsYXIoKS5ub3JtYWxpemUoKX0sdC5wcm90b3R5cGUubmVnYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2NhbGUoLTEpfSx0LnByb3RvdHlwZS50b0FuZ2xlPWZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguYXRhbjIodGhpcy55LHRoaXMueCl9LHQucHJvdG90eXBlLnJvdGF0ZT1mdW5jdGlvbihlLGkpe2l8fChpPW5ldyB0KDAsMCkpO3ZhciBuPU1hdGguc2luKGUpLG89TWF0aC5jb3MoZSk7cmV0dXJuIG5ldyB0KG8qKHRoaXMueC1pLngpLW4qKHRoaXMueS1pLnkpK2kueCxuKih0aGlzLngtaS54KStvKih0aGlzLnktaS55KStpLnkpfSx0LnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgdCh0aGlzLngsdGhpcy55KX0sdC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIihcIit0aGlzLngrXCIsIFwiK3RoaXMueStcIilcIn0sdH0oKSxqPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMucG9zPXQsdGhpcy5kaXI9ZS5ub3JtYWxpemUoKX1yZXR1cm4gdC5wcm90b3R5cGUuaW50ZXJzZWN0PWZ1bmN0aW9uKHQpe3ZhciBlPXQuYmVnaW4uc3ViKHRoaXMucG9zKTtpZigwPT09dGhpcy5kaXIuY3Jvc3ModC5nZXRTbG9wZSgpKSYmMCE9PWUuY3Jvc3ModGhpcy5kaXIpKXJldHVybi0xO3ZhciBpPXRoaXMuZGlyLmNyb3NzKHQuZ2V0U2xvcGUoKSk7aWYoMD09PWkpcmV0dXJuLTE7dmFyIG49ZS5jcm9zcyh0LmdldFNsb3BlKCkpL2k7aWYobj49MCl7dmFyIG89ZS5jcm9zcyh0aGlzLmRpcikvaS90LmdldExlbmd0aCgpO2lmKG8+PTAmJm88PTEpcmV0dXJuIG59cmV0dXJuLTF9LHQucHJvdG90eXBlLmdldFBvaW50PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnBvcy5hZGQodGhpcy5kaXIuc2NhbGUodCkpfSx0fSgpLEw9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5iZWdpbj10LHRoaXMuZW5kPWV9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcInNsb3BlXCIse2dldDpmdW5jdGlvbigpe3JldHVybih0aGlzLmVuZC55LXRoaXMuYmVnaW4ueSkvKHRoaXMuZW5kLngtdGhpcy5iZWdpbi54KX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJpbnRlcmNlcHRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYmVnaW4ueS10aGlzLnNsb3BlKnRoaXMuYmVnaW4ueH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5ub3JtYWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbmQuc3ViKHRoaXMuYmVnaW4pLm5vcm1hbCgpfSx0LnByb3RvdHlwZS5nZXRTbG9wZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuYmVnaW4sZT10aGlzLmVuZCxpPXQuZGlzdGFuY2UoZSk7cmV0dXJuIGUuc3ViKHQpLnNjYWxlKDEvaSl9LHQucHJvdG90eXBlLmdldEVkZ2U9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmJlZ2luO3JldHVybiB0aGlzLmVuZC5zdWIodCl9LHQucHJvdG90eXBlLmdldExlbmd0aD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuYmVnaW4sZT10aGlzLmVuZDtyZXR1cm4gdC5kaXN0YW5jZShlKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwibWlkcG9pbnRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYmVnaW4uYWRkKHRoaXMuZW5kKS5zY2FsZSguNSl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUuZmxpcD1mdW5jdGlvbigpe3JldHVybiBuZXcgdCh0aGlzLmVuZCx0aGlzLmJlZ2luKX0sdC5wcm90b3R5cGUuZGlzdGFuY2VUb1BvaW50PWZ1bmN0aW9uKHQpe3ZhciBlPXQueCxpPXQueSxuPXRoaXMuZ2V0TGVuZ3RoKCksbz10aGlzLmVuZC55LXRoaXMuYmVnaW4ueSxyPXRoaXMuZW5kLngtdGhpcy5iZWdpbi54O3JldHVybiBNYXRoLmFicyhvKmUtcippK3RoaXMuZW5kLngqdGhpcy5iZWdpbi55LXRoaXMuZW5kLnkqdGhpcy5iZWdpbi54KS9ufSx0LnByb3RvdHlwZS5maW5kVmVjdG9yVG9Qb2ludD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmJlZ2luLnN1Yih0KSxpPXRoaXMuZ2V0U2xvcGUoKTtyZXR1cm4gZS5zdWIoaS5zY2FsZShlLmRvdChpKSkpfSx0LnByb3RvdHlwZS5maW5kUG9pbnQ9ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT10JiYodD1udWxsKSx2b2lkIDA9PT1lJiYoZT1udWxsKTt2YXIgaT10aGlzLnNsb3BlLG49dGhpcy5pbnRlcmNlcHQ7aWYobnVsbCE9PXQpcmV0dXJuIG5ldyBGKHQsaSp0K24pO2lmKG51bGwhPT1lKXJldHVybiBuZXcgRigoZS1uKS9pLGUpO3Rocm93IG5ldyBFcnJvcihcIllvdSBtdXN0IHByb3ZpZGUgYW4gWCBvciBhIFkgdmFsdWVcIil9LHQucHJvdG90eXBlLmhhc1BvaW50PWZ1bmN0aW9uKCl7dmFyIHQsZT0wO2lmKFwibnVtYmVyXCI9PXR5cGVvZiBhcmd1bWVudHNbMF0mJlwibnVtYmVyXCI9PXR5cGVvZiBhcmd1bWVudHNbMV0pdD1uZXcgRihhcmd1bWVudHNbMF0sYXJndW1lbnRzWzFdKSxlPWFyZ3VtZW50c1syXXx8MDtlbHNle2lmKCEoYXJndW1lbnRzWzBdaW5zdGFuY2VvZiBGKSl0aHJvd1wiQ291bGQgbm90IGRldGVybWluZSB0aGUgYXJndW1lbnRzIGZvciBWZWN0b3IuaGFzUG9pbnRcIjt0PWFyZ3VtZW50c1swXSxlPWFyZ3VtZW50c1sxXXx8MH12YXIgaT10LngtdGhpcy5iZWdpbi54LG49dC55LXRoaXMuYmVnaW4ueSxvPXRoaXMuZW5kLngtdGhpcy5iZWdpbi54LHI9dGhpcy5lbmQueS10aGlzLmJlZ2luLnkscz1pKnItbipvO3JldHVybiEoTWF0aC5hYnMocyk+ZSkmJihNYXRoLmFicyhvKT49TWF0aC5hYnMocik/bz4wP3RoaXMuYmVnaW4ueDw9dC54JiZ0Lng8PXRoaXMuZW5kLng6dGhpcy5lbmQueDw9dC54JiZ0Lng8PXRoaXMuYmVnaW4ueDpyPjA/dGhpcy5iZWdpbi55PD10LnkmJnQueTw9dGhpcy5lbmQueTp0aGlzLmVuZC55PD10LnkmJnQueTw9dGhpcy5iZWdpbi55KX0sdH0oKSxJPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMubWluPXQsdGhpcy5tYXg9ZX1yZXR1cm4gdC5wcm90b3R5cGUub3ZlcmxhcHM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubWF4PnQubWluJiZ0Lm1heD50aGlzLm1pbn0sdC5wcm90b3R5cGUuZ2V0T3ZlcmxhcD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5vdmVybGFwcyh0KT90aGlzLm1heD50Lm1heD90Lm1heC10aGlzLm1pbjp0aGlzLm1heC10Lm1pbjowfSx0fSgpLFc9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxpKXt0aGlzLndvcmxkUG9zPXQsdGhpcy5wYWdlUG9zPWUsdGhpcy5zY3JlZW5Qb3M9aX1yZXR1cm4gdC5mcm9tUGFnZVBvc2l0aW9uPWZ1bmN0aW9uKGUsaSxuKXt2YXIgbyxyLHMsYTszPT09YXJndW1lbnRzLmxlbmd0aD8ocz1uZXcgRihvPWUscj1pKSxhPW4pOihvPShzPWUpLngscj1zLnksYT1pKTt2YXIgaD1vLVMoYS5jYW52YXMpLngsYz1yLVMoYS5jYW52YXMpLnksdT1uZXcgRihoLGMpO3JldHVybiBuZXcgdChhLnNjcmVlblRvV29ybGRDb29yZGluYXRlcyh1KSxzLHUpfSx0fSgpLEg9KGs9ZnVuY3Rpb24odCxlKXtyZXR1cm4oaz1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24odCxlKXt0Ll9fcHJvdG9fXz1lfXx8ZnVuY3Rpb24odCxlKXtmb3IodmFyIGkgaW4gZSllLmhhc093blByb3BlcnR5KGkpJiYodFtpXT1lW2ldKX0pKHQsZSl9LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gaSgpe3RoaXMuY29uc3RydWN0b3I9dH1rKHQsZSksdC5wcm90b3R5cGU9bnVsbD09PWU/T2JqZWN0LmNyZWF0ZShlKTooaS5wcm90b3R5cGU9ZS5wcm90b3R5cGUsbmV3IGkpfSk7IWZ1bmN0aW9uKHQpe3QuS2lsbD1cImtpbGxcIix0LlByZUtpbGw9XCJwcmVraWxsXCIsdC5Qb3N0S2lsbD1cInBvc3RraWxsXCIsdC5QcmVEcmF3PVwicHJlZHJhd1wiLHQuUG9zdERyYXc9XCJwb3N0ZHJhd1wiLHQuUHJlRGVidWdEcmF3PVwicHJlZGVidWdkcmF3XCIsdC5Qb3N0RGVidWdEcmF3PVwicG9zdGRlYnVnZHJhd1wiLHQuUHJlVXBkYXRlPVwicHJldXBkYXRlXCIsdC5Qb3N0VXBkYXRlPVwicG9zdHVwZGF0ZVwiLHQuUHJlRnJhbWU9XCJwcmVmcmFtZVwiLHQuUG9zdEZyYW1lPVwicG9zdGZyYW1lXCIsdC5QcmVDb2xsaXNpb249XCJwcmVjb2xsaXNpb25cIix0LkNvbGxpc2lvblN0YXJ0PVwiY29sbGlzaW9uc3RhcnRcIix0LkNvbGxpc2lvbkVuZD1cImNvbGxpc2lvbmVuZFwiLHQuUG9zdENvbGxpc2lvbj1cInBvc3Rjb2xsaXNpb25cIix0LkluaXRpYWxpemU9XCJpbml0aWFsaXplXCIsdC5BY3RpdmF0ZT1cImFjdGl2YXRlXCIsdC5EZWFjdGl2YXRlPVwiZGVhY3RpdmF0ZVwiLHQuRXhpdFZpZXdwb3J0PVwiZXhpdHZpZXdwb3J0XCIsdC5FbnRlclZpZXdwb3J0PVwiZW50ZXJ2aWV3cG9ydFwiLHQuRXhpdFRyaWdnZXI9XCJleGl0XCIsdC5FbnRlclRyaWdnZXI9XCJlbnRlclwiLHQuQ29ubmVjdD1cImNvbm5lY3RcIix0LkRpc2Nvbm5lY3Q9XCJkaXNjb25uZWN0XCIsdC5CdXR0b249XCJidXR0b25cIix0LkF4aXM9XCJheGlzXCIsdC5TdWJzY3JpYmU9XCJzdWJzY3JpYmVcIix0LlVuc3Vic2NyaWJlPVwidW5zdWJzY3JpYmVcIix0LlZpc2libGU9XCJ2aXNpYmxlXCIsdC5IaWRkZW49XCJoaWRkZW5cIix0LlN0YXJ0PVwic3RhcnRcIix0LlN0b3A9XCJzdG9wXCIsdC5Qb2ludGVyVXA9XCJwb2ludGVydXBcIix0LlBvaW50ZXJEb3duPVwicG9pbnRlcmRvd25cIix0LlBvaW50ZXJNb3ZlPVwicG9pbnRlcm1vdmVcIix0LlBvaW50ZXJFbnRlcj1cInBvaW50ZXJlbnRlclwiLHQuUG9pbnRlckxlYXZlPVwicG9pbnRlcmxlYXZlXCIsdC5Qb2ludGVyQ2FuY2VsPVwicG9pbnRlcmNhbmNlbFwiLHQuUG9pbnRlcldoZWVsPVwicG9pbnRlcndoZWVsXCIsdC5VcD1cInVwXCIsdC5Eb3duPVwiZG93blwiLHQuTW92ZT1cIm1vdmVcIix0LkVudGVyPVwiZW50ZXJcIix0LkxlYXZlPVwibGVhdmVcIix0LkNhbmNlbD1cImNhbmNlbFwiLHQuV2hlZWw9XCJ3aGVlbFwiLHQuUHJlc3M9XCJwcmVzc1wiLHQuUmVsZWFzZT1cInJlbGVhc2VcIix0LkhvbGQ9XCJob2xkXCIsdC5Qb2ludGVyRHJhZ1N0YXJ0PVwicG9pbnRlcmRyYWdzdGFydFwiLHQuUG9pbnRlckRyYWdFbmQ9XCJwb2ludGVyZHJhZ2VuZFwiLHQuUG9pbnRlckRyYWdFbnRlcj1cInBvaW50ZXJkcmFnZW50ZXJcIix0LlBvaW50ZXJEcmFnTGVhdmU9XCJwb2ludGVyZHJhZ2xlYXZlXCIsdC5Qb2ludGVyRHJhZ01vdmU9XCJwb2ludGVyZHJhZ21vdmVcIn0oUnx8KFI9e30pKTt2YXIgeixVLE4scT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLmJ1YmJsZXM9ITAsdGhpcy5fcGF0aD1bXSx0aGlzLl9uYW1lPVwiXCJ9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImV2ZW50UGF0aFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGF0aH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJuYW1lXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9uYW1lfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLnN0b3BQcm9wYWdhdGlvbj1mdW5jdGlvbigpe3RoaXMuYnViYmxlcz0hMX0sdC5wcm90b3R5cGUuYWN0aW9uPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5ldmVudFBhdGgucG9wKCk7dCYmKHRoaXMuX29uQWN0aW9uU3RhcnQodCksdC5ldmVudERpc3BhdGNoZXIuZW1pdCh0aGlzLl9uYW1lLHRoaXMpLHRoaXMuX29uQWN0aW9uRW5kKHQpKX0sdC5wcm90b3R5cGUucHJvcGFnYXRlPWZ1bmN0aW9uKCl7dGhpcy5ldmVudFBhdGgubGVuZ3RoJiYodGhpcy5hY3Rpb24oKSx0aGlzLmJ1YmJsZXMmJnRoaXMucHJvcGFnYXRlKCkpfSx0LnByb3RvdHlwZS5sYXlQYXRoPWZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0QW5jZXN0b3JzKCk7dGhpcy5fcGF0aD1lLmxlbmd0aD50aGlzLl9wYXRoLmxlbmd0aD9lOnRoaXMuX3BhdGh9LHQucHJvdG90eXBlLl9vbkFjdGlvblN0YXJ0PWZ1bmN0aW9uKHQpe30sdC5wcm90b3R5cGUuX29uQWN0aW9uRW5kPWZ1bmN0aW9uKHQpe30sdH0oKSxHPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dmFyIGk9dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBpLnRhcmdldD1lLGl9cmV0dXJuIEgoZSx0KSxlfShxKSxWPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dmFyIGk9dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBpLnRhcmdldD1lLGl9cmV0dXJuIEgoZSx0KSxlfShxKSxYPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dmFyIGk9dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBpLnRhcmdldD1lLGl9cmV0dXJuIEgoZSx0KSxlfShxKSxLPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dmFyIGk9dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBpLnRhcmdldD1lLGl9cmV0dXJuIEgoZSx0KSxlfShxKSxZPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dmFyIGk9dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBpLnRhcmdldD1lLGl9cmV0dXJuIEgoZSx0KSxlfShxKSxaPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxpLG4pe3ZhciBvPXQuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gby5jdHg9ZSxvLmRlbHRhPWksby50YXJnZXQ9bixvfXJldHVybiBIKGUsdCksZX0ocSksUT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsaSxuKXt2YXIgbz10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIG8uY3R4PWUsby5kZWx0YT1pLG8udGFyZ2V0PW4sb31yZXR1cm4gSChlLHQpLGV9KHEpLEo9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLGkpe3ZhciBuPXQuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gbi5jdHg9ZSxuLnRhcmdldD1pLG59cmV0dXJuIEgoZSx0KSxlfShxKSwkPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxpKXt2YXIgbj10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIG4uY3R4PWUsbi50YXJnZXQ9aSxufXJldHVybiBIKGUsdCksZX0ocSksdHQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLGksbil7dmFyIG89dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBvLmVuZ2luZT1lLG8uZGVsdGE9aSxvLnRhcmdldD1uLG99cmV0dXJuIEgoZSx0KSxlfShxKSxldD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsaSxuKXt2YXIgbz10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIG8uZW5naW5lPWUsby5kZWx0YT1pLG8udGFyZ2V0PW4sb31yZXR1cm4gSChlLHQpLGV9KHEpLGl0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxpKXt2YXIgbj10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIG4uZW5naW5lPWUsbi5wcmV2U3RhdHM9aSxuLnRhcmdldD1lLG59cmV0dXJuIEgoZSx0KSxlfShxKSxudD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsaSl7dmFyIG49dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBuLmVuZ2luZT1lLG4uc3RhdHM9aSxuLnRhcmdldD1lLG59cmV0dXJuIEgoZSx0KSxlfShxKSxvdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsaSl7dmFyIG49dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBuLmluZGV4PWUsbi5nYW1lcGFkPWksbi50YXJnZXQ9aSxufXJldHVybiBIKGUsdCksZX0ocSkscnQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLGkpe3ZhciBuPXQuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gbi5pbmRleD1lLG4uZ2FtZXBhZD1pLG4udGFyZ2V0PWksbn1yZXR1cm4gSChlLHQpLGV9KHEpLHN0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxpLG4pe3ZhciBvPXQuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gby5idXR0b249ZSxvLnZhbHVlPWksby50YXJnZXQ9bixvfXJldHVybiBIKGUsdCksZX0ocSksYXQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLGksbil7dmFyIG89dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBvLmF4aXM9ZSxvLnZhbHVlPWksby50YXJnZXQ9bixvfXJldHVybiBIKGUsdCksZX0ocSksaHQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLGkpe3ZhciBuPXQuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gbi50b3BpYz1lLG4uaGFuZGxlcj1pLG59cmV0dXJuIEgoZSx0KSxlfShxKSxjdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsaSl7dmFyIG49dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBuLnRvcGljPWUsbi5oYW5kbGVyPWksbn1yZXR1cm4gSChlLHQpLGV9KHEpLHV0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dmFyIGk9dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBpLnRhcmdldD1lLGl9cmV0dXJuIEgoZSx0KSxlfShxKSxsdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3ZhciBpPXQuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gaS50YXJnZXQ9ZSxpfXJldHVybiBIKGUsdCksZX0ocSkscHQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLGksbixvKXt2YXIgcj10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIHIub3RoZXI9aSxyLnNpZGU9bixyLmludGVyc2VjdGlvbj1vLHIudGFyZ2V0PWUscn1yZXR1cm4gSChlLHQpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImFjdG9yXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnRhcmdldH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMudGFyZ2V0PXR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksZX0ocSksZHQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLGksbixvKXt2YXIgcj10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIHIub3RoZXI9aSxyLnNpZGU9bixyLmludGVyc2VjdGlvbj1vLHIudGFyZ2V0PWUscn1yZXR1cm4gSChlLHQpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImFjdG9yXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnRhcmdldH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMudGFyZ2V0PXR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksZX0ocSksZnQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLGksbil7dmFyIG89dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBvLm90aGVyPWksby5wYWlyPW4sby50YXJnZXQ9ZSxvfXJldHVybiBIKGUsdCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiYWN0b3JcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGFyZ2V0fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy50YXJnZXQ9dH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxlfShxKSxndD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsaSl7dmFyIG49dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBuLm90aGVyPWksbi50YXJnZXQ9ZSxufXJldHVybiBIKGUsdCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiYWN0b3JcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGFyZ2V0fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy50YXJnZXQ9dH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxlfShxKSx5dD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsaSl7dmFyIG49dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBuLmVuZ2luZT1lLG4udGFyZ2V0PWksbn1yZXR1cm4gSChlLHQpLGV9KHEpLF90PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxpKXt2YXIgbj10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIG4ub2xkU2NlbmU9ZSxuLnRhcmdldD1pLG59cmV0dXJuIEgoZSx0KSxlfShxKSx2dD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsaSl7dmFyIG49dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBuLm5ld1NjZW5lPWUsbi50YXJnZXQ9aSxufXJldHVybiBIKGUsdCksZX0ocSksbXQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt2YXIgaT10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIGkudGFyZ2V0PWUsaX1yZXR1cm4gSChlLHQpLGV9KHEpLGJ0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dmFyIGk9dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBpLnRhcmdldD1lLGl9cmV0dXJuIEgoZSx0KSxlfShxKSx3dD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsaSl7dmFyIG49dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBuLnRhcmdldD1lLG4uYWN0b3I9aSxufXJldHVybiBIKGUsdCksZX0ocSkseHQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLGkpe3ZhciBuPXQuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gbi50YXJnZXQ9ZSxuLmFjdG9yPWksbn1yZXR1cm4gSChlLHQpLGV9KHEpLFB0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl9oYW5kbGVycz17fSx0aGlzLl93aXJlZEV2ZW50RGlzcGF0Y2hlcnM9W10sdGhpcy5fdGFyZ2V0PXR9cmV0dXJuIHQucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5faGFuZGxlcnM9e30sdGhpcy5fd2lyZWRFdmVudERpc3BhdGNoZXJzPVtdfSx0LnByb3RvdHlwZS5lbWl0PWZ1bmN0aW9uKHQsZSl7aWYodCl7dD10LnRvTG93ZXJDYXNlKCk7dmFyIGksbixvPXRoaXMuX3RhcmdldDtpZihlfHwoZT1uZXcgcSksZS50YXJnZXQ9byx0aGlzLl9oYW5kbGVyc1t0XSlmb3IoaT0wLG49dGhpcy5faGFuZGxlcnNbdF0ubGVuZ3RoO2k8bjtpKyspdGhpcy5faGFuZGxlcnNbdF1baV0uY2FsbChvLGUpO2ZvcihpPTAsbj10aGlzLl93aXJlZEV2ZW50RGlzcGF0Y2hlcnMubGVuZ3RoO2k8bjtpKyspdGhpcy5fd2lyZWRFdmVudERpc3BhdGNoZXJzW2ldLmVtaXQodCxlKX19LHQucHJvdG90eXBlLm9uPWZ1bmN0aW9uKHQsZSl7dD10LnRvTG93ZXJDYXNlKCksdGhpcy5faGFuZGxlcnNbdF18fCh0aGlzLl9oYW5kbGVyc1t0XT1bXSksdGhpcy5faGFuZGxlcnNbdF0ucHVzaChlKSxcInVuc3Vic2NyaWJlXCIhPT10JiZcInN1YnNjcmliZVwiIT09dCYmdGhpcy5lbWl0KFwic3Vic2NyaWJlXCIsbmV3IGh0KHQsZSkpfSx0LnByb3RvdHlwZS5vZmY9ZnVuY3Rpb24odCxlKXt0PXQudG9Mb3dlckNhc2UoKTt2YXIgaT10aGlzLl9oYW5kbGVyc1t0XTtpZihpKWlmKGUpe3ZhciBuPWkuaW5kZXhPZihlKTt0aGlzLl9oYW5kbGVyc1t0XS5zcGxpY2UobiwxKX1lbHNlIHRoaXMuX2hhbmRsZXJzW3RdLmxlbmd0aD0wO1widW5zdWJzY3JpYmVcIiE9PXQmJlwic3Vic2NyaWJlXCIhPT10JiZ0aGlzLmVtaXQoXCJ1bnN1YnNjcmliZVwiLG5ldyBjdCh0LGUpKX0sdC5wcm90b3R5cGUub25jZT1mdW5jdGlvbih0LGUpe3ZhciBpPXRoaXM7dGhpcy5vbih0LGZ1bmN0aW9uKG4pe3ZhciBvPW58fG5ldyBxO28udGFyZ2V0PW8udGFyZ2V0fHxpLl90YXJnZXQsaS5vZmYodCxlKSxlLmNhbGwoby50YXJnZXQsbyl9KX0sdC5wcm90b3R5cGUud2lyZT1mdW5jdGlvbih0KXt0Ll93aXJlZEV2ZW50RGlzcGF0Y2hlcnMucHVzaCh0aGlzKX0sdC5wcm90b3R5cGUudW53aXJlPWZ1bmN0aW9uKHQpe3ZhciBlPXQuX3dpcmVkRXZlbnREaXNwYXRjaGVycy5pbmRleE9mKHRoaXMpO2U+LTEmJnQuX3dpcmVkRXZlbnREaXNwYXRjaGVycy5zcGxpY2UoZSwxKX0sdH0oKSxTdD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLmV2ZW50RGlzcGF0Y2hlcj1uZXcgUHQodGhpcyl9cmV0dXJuIHQucHJvdG90eXBlLm9uPWZ1bmN0aW9uKHQsZSl7dGhpcy5ldmVudERpc3BhdGNoZXIub24odCxlKX0sdC5wcm90b3R5cGUub2ZmPWZ1bmN0aW9uKHQsZSl7dGhpcy5ldmVudERpc3BhdGNoZXIub2ZmKHQsZSl9LHQucHJvdG90eXBlLmVtaXQ9ZnVuY3Rpb24odCxlKXt0aGlzLmV2ZW50RGlzcGF0Y2hlci5lbWl0KHQsZSl9LHQucHJvdG90eXBlLm9uY2U9ZnVuY3Rpb24odCxlKXt0aGlzLmV2ZW50RGlzcGF0Y2hlci5vbmNlKHQsZSl9LHQuZXh0ZW5kPWZ1bmN0aW9uKGUpe3ZhciBpLG49dGhpcztpPWUmJmUuaGFzT3duUHJvcGVydHkoXCJjb25zdHJ1Y3RvclwiKT9lLmNvbnN0cnVjdG9yOmZ1bmN0aW9uKCl7cmV0dXJuIG4uYXBwbHkodGhpcyxhcmd1bWVudHMpfTt2YXIgbz1mdW5jdGlvbigpe3RoaXMuY29uc3RydWN0b3I9aX07aWYoby5wcm90b3R5cGU9bi5wcm90b3R5cGUsaS5wcm90b3R5cGU9bmV3IG8sZSlmb3IodmFyIHIgaW4gZSllLmhhc093blByb3BlcnR5KHIpJiYoaS5wcm90b3R5cGVbcl09ZVtyXSk7cmV0dXJuIGkuZXh0ZW5kPXQuZXh0ZW5kLGl9LHR9KCksQXQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxpLG4pe3RoaXMucj10LHRoaXMuZz1lLHRoaXMuYj1pLHRoaXMuYT1udWxsIT1uP246MX1yZXR1cm4gdC5mcm9tUkdCPWZ1bmN0aW9uKGUsaSxuLG8pe3JldHVybiBuZXcgdChlLGksbixvKX0sdC5mcm9tSGV4PWZ1bmN0aW9uKGUpe3ZhciBpO2lmKGk9ZS5tYXRjaCgvXiM/KFswLTlhLWZdezJ9KShbMC05YS1mXXsyfSkoWzAtOWEtZl17Mn0pKFswLTlhLWZdezJ9KT8kL2kpKXt2YXIgbj1wYXJzZUludChpWzFdLDE2KSxvPXBhcnNlSW50KGlbMl0sMTYpLHI9cGFyc2VJbnQoaVszXSwxNikscz0xO3JldHVybiBpWzRdJiYocz1wYXJzZUludChpWzRdLDE2KS8yNTUpLG5ldyB0KG4sbyxyLHMpfXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgaGV4IHN0cmluZzogXCIrZSl9LHQuZnJvbUhTTD1mdW5jdGlvbih0LGUsaSxuKXtyZXR1cm4gdm9pZCAwPT09biYmKG49MSksbmV3IEV0KHQsZSxpLG4pLnRvUkdCQSgpfSx0LnByb3RvdHlwZS5saWdodGVuPWZ1bmN0aW9uKHQpe3ZvaWQgMD09PXQmJih0PS4xKTt2YXIgZT1FdC5mcm9tUkdCQSh0aGlzLnIsdGhpcy5nLHRoaXMuYix0aGlzLmEpO3JldHVybiBlLmwrPSgxLWUubCkqdCxlLnRvUkdCQSgpfSx0LnByb3RvdHlwZS5kYXJrZW49ZnVuY3Rpb24odCl7dm9pZCAwPT09dCYmKHQ9LjEpO3ZhciBlPUV0LmZyb21SR0JBKHRoaXMucix0aGlzLmcsdGhpcy5iLHRoaXMuYSk7cmV0dXJuIGUubC09ZS5sKnQsZS50b1JHQkEoKX0sdC5wcm90b3R5cGUuc2F0dXJhdGU9ZnVuY3Rpb24odCl7dm9pZCAwPT09dCYmKHQ9LjEpO3ZhciBlPUV0LmZyb21SR0JBKHRoaXMucix0aGlzLmcsdGhpcy5iLHRoaXMuYSk7cmV0dXJuIGUucys9ZS5zKnQsZS50b1JHQkEoKX0sdC5wcm90b3R5cGUuZGVzYXR1cmF0ZT1mdW5jdGlvbih0KXt2b2lkIDA9PT10JiYodD0uMSk7dmFyIGU9RXQuZnJvbVJHQkEodGhpcy5yLHRoaXMuZyx0aGlzLmIsdGhpcy5hKTtyZXR1cm4gZS5zLT1lLnMqdCxlLnRvUkdCQSgpfSx0LnByb3RvdHlwZS5tdWxpdGlwbHk9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyB0KGUuci8yNTUqdGhpcy5yLzI1NSoyNTUsZS5nLzI1NSp0aGlzLmcvMjU1KjI1NSxlLmIvMjU1KnRoaXMuYi8yNTUqMjU1LGUuYSp0aGlzLmEpfSx0LnByb3RvdHlwZS5zY3JlZW49ZnVuY3Rpb24odCl7dmFyIGU9dC5pbnZlcnQoKSxpPXQuaW52ZXJ0KCk7cmV0dXJuIGUubXVsaXRpcGx5KGkpLmludmVydCgpfSx0LnByb3RvdHlwZS5pbnZlcnQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHQoMjU1LXRoaXMuciwyNTUtdGhpcy5nLDI1NS10aGlzLmIsMS10aGlzLmEpfSx0LnByb3RvdHlwZS5hdmVyYWdlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgdCgoZS5yK3RoaXMucikvMiwoZS5nK3RoaXMuZykvMiwoZS5iK3RoaXMuYikvMiwoZS5hK3RoaXMuYSkvMil9LHQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKHQpe3N3aXRjaCh2b2lkIDA9PT10JiYodD1cInJnYlwiKSx0KXtjYXNlXCJyZ2JcIjpyZXR1cm4gdGhpcy50b1JHQkEoKTtjYXNlXCJoc2xcIjpyZXR1cm4gdGhpcy50b0hTTEEoKTtjYXNlXCJoZXhcIjpyZXR1cm4gdGhpcy50b0hleCgpO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBDb2xvciBmb3JtYXRcIil9fSx0LnByb3RvdHlwZS5fY29tcG9uZW50VG9IZXg9ZnVuY3Rpb24odCl7dmFyIGU9dC50b1N0cmluZygxNik7cmV0dXJuIDE9PT1lLmxlbmd0aD9cIjBcIitlOmV9LHQucHJvdG90eXBlLnRvSGV4PWZ1bmN0aW9uKCl7cmV0dXJuXCIjXCIrdGhpcy5fY29tcG9uZW50VG9IZXgodGhpcy5yKSt0aGlzLl9jb21wb25lbnRUb0hleCh0aGlzLmcpK3RoaXMuX2NvbXBvbmVudFRvSGV4KHRoaXMuYil9LHQucHJvdG90eXBlLnRvUkdCQT1mdW5jdGlvbigpe3ZhciB0PVN0cmluZyh0aGlzLnIudG9GaXhlZCgwKSkrXCIsIFwiK1N0cmluZyh0aGlzLmcudG9GaXhlZCgwKSkrXCIsIFwiK1N0cmluZyh0aGlzLmIudG9GaXhlZCgwKSk7cmV0dXJuIHZvaWQgMCE9PXRoaXMuYXx8bnVsbCE9PXRoaXMuYT9cInJnYmEoXCIrdCtcIiwgXCIrU3RyaW5nKHRoaXMuYSkrXCIpXCI6XCJyZ2IoXCIrdCtcIilcIn0sdC5wcm90b3R5cGUudG9IU0xBPWZ1bmN0aW9uKCl7cmV0dXJuIEV0LmZyb21SR0JBKHRoaXMucix0aGlzLmcsdGhpcy5iLHRoaXMuYSkudG9TdHJpbmcoKX0sdC5wcm90b3R5cGUuZmlsbFN0eWxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudG9TdHJpbmcoKX0sdC5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHQodGhpcy5yLHRoaXMuZyx0aGlzLmIsdGhpcy5hKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJCbGFja1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC5mcm9tSGV4KFwiIzAwMDAwMFwiKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIldoaXRlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0LmZyb21IZXgoXCIjRkZGRkZGXCIpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiR3JheVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC5mcm9tSGV4KFwiIzgwODA4MFwiKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIkxpZ2h0R3JheVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC5mcm9tSGV4KFwiI0QzRDNEM1wiKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIkRhcmtHcmF5XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0LmZyb21IZXgoXCIjQTlBOUE5XCIpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiWWVsbG93XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0LmZyb21IZXgoXCIjRkZGRjAwXCIpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiT3JhbmdlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0LmZyb21IZXgoXCIjRkZBNTAwXCIpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiUmVkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0LmZyb21IZXgoXCIjRkYwMDAwXCIpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiVmVybWlsbGlvblwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC5mcm9tSGV4KFwiI0ZGNUIzMVwiKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIlJvc2VcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQuZnJvbUhleChcIiNGRjAwN0ZcIil9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJNYWdlbnRhXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0LmZyb21IZXgoXCIjRkYwMEZGXCIpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiVmlvbGV0XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0LmZyb21IZXgoXCIjN0YwMEZGXCIpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiQmx1ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC5mcm9tSGV4KFwiIzAwMDBGRlwiKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIkF6dXJlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0LmZyb21IZXgoXCIjMDA3RkZGXCIpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiQ3lhblwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC5mcm9tSGV4KFwiIzAwRkZGRlwiKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIlZpcmlkaWFuXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0LmZyb21IZXgoXCIjNTk5NzhGXCIpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiR3JlZW5cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQuZnJvbUhleChcIiMwMEZGMDBcIil9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJDaGFydHJldXNlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0LmZyb21IZXgoXCIjN0ZGRjAwXCIpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiVHJhbnNwYXJlbnRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQuZnJvbUhleChcIiNGRkZGRkYwMFwiKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0fSgpLEV0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsaSxuKXt0aGlzLmg9dCx0aGlzLnM9ZSx0aGlzLmw9aSx0aGlzLmE9bn1yZXR1cm4gdC5odWUycmdiPWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gaTwwJiYoaSs9MSksaT4xJiYoaS09MSksaTwxLzY/dCs2KihlLXQpKmk6aTwuNT9lOmk8Mi8zP3QrKGUtdCkqKDIvMy1pKSo2OnR9LHQuZnJvbVJHQkE9ZnVuY3Rpb24oZSxpLG4sbyl7ZS89MjU1LGkvPTI1NSxuLz0yNTU7dmFyIHIscyxhPU1hdGgubWF4KGUsaSxuKSxoPU1hdGgubWluKGUsaSxuKSxjPShhK2gpLzI7aWYoYT09PWgpcj1zPTA7ZWxzZXt2YXIgdT1hLWg7c3dpdGNoKHM9Yz4uNT91LygyLWEtaCk6dS8oYStoKSxhKXtjYXNlIGU6cj0oaS1uKS91KyhpPG4/NjowKTticmVhaztjYXNlIGk6cj0obi1lKS91KzI7YnJlYWs7Y2FzZSBuOnI9KGUtaSkvdSs0fXIvPTZ9cmV0dXJuIG5ldyB0KHIscyxjLG8pfSx0LnByb3RvdHlwZS50b1JHQkE9ZnVuY3Rpb24oKXt2YXIgZSxpLG47aWYoMD09PXRoaXMucyllPWk9bj10aGlzLmw7ZWxzZXt2YXIgbz10aGlzLmw8LjU/dGhpcy5sKigxK3RoaXMucyk6dGhpcy5sK3RoaXMucy10aGlzLmwqdGhpcy5zLHI9Mip0aGlzLmwtbztlPXQuaHVlMnJnYihyLG8sdGhpcy5oKzEvMyksaT10Lmh1ZTJyZ2IocixvLHRoaXMuaCksbj10Lmh1ZTJyZ2IocixvLHRoaXMuaC0xLzMpfXJldHVybiBuZXcgQXQoMjU1KmUsMjU1KmksMjU1Km4sdGhpcy5hKX0sdC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cImhzbGEoXCIrdGhpcy5oLnRvRml4ZWQoMCkrXCIsIFwiK3RoaXMucy50b0ZpeGVkKDApK1wiLCBcIit0aGlzLmwudG9GaXhlZCgwKStcIiwgXCIrdGhpcy5hLnRvRml4ZWQoMCkrXCIpXCJ9LHR9KCk7IWZ1bmN0aW9uKHQpe3RbdC5Cb3g9MF09XCJCb3hcIix0W3QuUmlnaWRCb2R5PTFdPVwiUmlnaWRCb2R5XCJ9KHp8fCh6PXt9KSksZnVuY3Rpb24odCl7dFt0Lk5haXZlPTBdPVwiTmFpdmVcIix0W3QuRHluYW1pY0FBQkJUcmVlPTFdPVwiRHluYW1pY0FBQkJUcmVlXCJ9KFV8fChVPXt9KSksZnVuY3Rpb24odCl7dFt0LkV1bGVyPTBdPVwiRXVsZXJcIn0oTnx8KE49e30pKTt2YXIgQ3QsVHQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnVzZUJveFBoeXNpY3M9ZnVuY3Rpb24oKXt0LmNvbGxpc2lvblJlc29sdXRpb25TdHJhdGVneT16LkJveH0sdC51c2VSaWdpZEJvZHlQaHlzaWNzPWZ1bmN0aW9uKCl7dC5jb2xsaXNpb25SZXNvbHV0aW9uU3RyYXRlZ3k9ei5SaWdpZEJvZHl9LHQuYWNjPW5ldyBGKDAsMCksdC5lbmFibGVkPSEwLHQuY29sbGlzaW9uUGFzc2VzPTUsdC5icm9hZHBoYXNlU3RyYXRlZ3k9VS5EeW5hbWljQUFCQlRyZWUsdC5icm9hZHBoYXNlRGVidWc9ITEsdC5zaG93Q29sbGlzaW9uTm9ybWFscz0hMSx0LnNob3dNb3Rpb25WZWN0b3JzPSExLHQuc2hvd0JvdW5kcz0hMSx0LnNob3dBcmVhPSExLHQuc2hvd0NvbnRhY3RzPSExLHQuc2hvd05vcm1hbHM9ITEsdC5jb2xsaXNpb25SZXNvbHV0aW9uU3RyYXRlZ3k9ei5Cb3gsdC5kZWZhdWx0TWFzcz0xMCx0LmludGVncmF0b3I9Ti5FdWxlcix0LmludGVncmF0aW9uU3RlcHM9MSx0LmFsbG93UmlnaWRCb2R5Um90YXRpb249ITAsdC5jb2xsaXNpb25TaGlmdD0uMDAxLHQuZHluYW1pY1RyZWVWZWxvY2l0eU11bHRpcGx5ZXI9Mix0LmJvdW5kc1BhZGRpbmc9NSx0LnN1cmZhY2VFcHNpbG9uPS4xLHQuY2hlY2tGb3JGYXN0Qm9kaWVzPSEwLHQuZGlzYWJsZU1pbmltdW1TcGVlZEZvckZhc3RCb2R5PSExLHR9KCk7IWZ1bmN0aW9uKHQpe3QuUHJldmVudENvbGxpc2lvbj1cIlByZXZlbnRDb2xsaXNpb25cIix0LlBhc3NpdmU9XCJQYXNzaXZlXCIsdC5BY3RpdmU9XCJBY3RpdmVcIix0LkZpeGVkPVwiRml4ZWRcIn0oQ3R8fChDdD17fSkpO3ZhciBNdD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLGksbixvKXt0aGlzLmNvbGxpZGVyQT10LHRoaXMuY29sbGlkZXJCPWUsdGhpcy5tdHY9aSx0aGlzLnBvaW50PW4sdGhpcy5ub3JtYWw9b31yZXR1cm4gdC5wcm90b3R5cGUucmVzb2x2ZT1mdW5jdGlvbih0KXtpZih0PT09ei5SaWdpZEJvZHkpdGhpcy5fcmVzb2x2ZVJpZ2lkQm9keUNvbGxpc2lvbigpO2Vsc2V7aWYodCE9PXouQm94KXRocm93IG5ldyBFcnJvcihcIlVua25vd24gY29sbGlzaW9uIHJlc29sdXRpb24gc3RyYXRlZ3lcIik7dGhpcy5fcmVzb2x2ZUJveENvbGxpc2lvbigpfX0sdC5wcm90b3R5cGUuX2FwcGx5Qm94SW1wdWxzZT1mdW5jdGlvbih0LGUsaSl7aWYodC50eXBlPT09Q3QuQWN0aXZlJiZlLnR5cGUhPT1DdC5QYXNzaXZlKXt0LnR5cGU9PT1DdC5BY3RpdmUmJmUudHlwZT09PUN0LkFjdGl2ZSYmKGk9aS5zY2FsZSguNSkpLHQuYm9keS5wb3MueSs9aS55LHQuYm9keS5wb3MueCs9aS54O3ZhciBuPWkubm9ybWFsaXplKCk7aWYobi5kb3QodC5ib2R5LnZlbCk8MCl7dmFyIG89bi5zY2FsZShuLmRvdCh0LmJvZHkudmVsLm5lZ2F0ZSgpKSk7dC5ib2R5LnZlbD10LmJvZHkudmVsLmFkZChvKX10LmVtaXQoXCJwb3N0Y29sbGlzaW9uXCIsbmV3IGR0KHQsZSxPKGkpLGkpKX19LHQucHJvdG90eXBlLl9yZXNvbHZlQm94Q29sbGlzaW9uPWZ1bmN0aW9uKCl7dmFyIHQ9Tyh0aGlzLm10diksZT10aGlzLm10di5uZWdhdGUoKTt0aGlzLmNvbGxpZGVyQS5lbWl0KFwicHJlY29sbGlzaW9uXCIsbmV3IHB0KHRoaXMuY29sbGlkZXJBLHRoaXMuY29sbGlkZXJCLHQsZSkpLHRoaXMuY29sbGlkZXJCLmVtaXQoXCJwcmVjb2xsaXNpb25cIixuZXcgcHQodGhpcy5jb2xsaWRlckIsdGhpcy5jb2xsaWRlckEsVCh0KSxlLm5lZ2F0ZSgpKSksdGhpcy5fYXBwbHlCb3hJbXB1bHNlKHRoaXMuY29sbGlkZXJBLHRoaXMuY29sbGlkZXJCLGUpLHRoaXMuX2FwcGx5Qm94SW1wdWxzZSh0aGlzLmNvbGxpZGVyQix0aGlzLmNvbGxpZGVyQSxlLm5lZ2F0ZSgpKX0sdC5wcm90b3R5cGUuX3Jlc29sdmVSaWdpZEJvZHlDb2xsaXNpb249ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmNvbGxpZGVyQS5ib2R5LGU9dGhpcy5jb2xsaWRlckIuYm9keSxpPXRoaXMubXR2LG49dGhpcy5ub3JtYWw7aWYodCE9PWUpe3ZhciBvPU8odGhpcy5tdHYpO2lmKHRoaXMuY29sbGlkZXJBLmVtaXQoXCJwcmVjb2xsaXNpb25cIixuZXcgcHQodGhpcy5jb2xsaWRlckEsdGhpcy5jb2xsaWRlckIsbyx0aGlzLm10dikpLHRoaXMuY29sbGlkZXJCLmVtaXQoXCJwcmVjb2xsaXNpb25cIixuZXcgcHQodGhpcy5jb2xsaWRlckIsdGhpcy5jb2xsaWRlckEsVChvKSx0aGlzLm10di5uZWdhdGUoKSkpLHRoaXMuY29sbGlkZXJBLnR5cGUhPT1DdC5QYXNzaXZlJiZ0aGlzLmNvbGxpZGVyQi50eXBlIT09Q3QuUGFzc2l2ZSl7dmFyIHI9dGhpcy5jb2xsaWRlckEudHlwZT09PUN0LkZpeGVkPzA6MS90aGlzLmNvbGxpZGVyQS5tYXNzLHM9dGhpcy5jb2xsaWRlckIudHlwZT09PUN0LkZpeGVkPzA6MS90aGlzLmNvbGxpZGVyQi5tYXNzLGE9dGhpcy5jb2xsaWRlckEudHlwZT09PUN0LkZpeGVkPzA6MS90aGlzLmNvbGxpZGVyQS5pbmVydGlhLGg9dGhpcy5jb2xsaWRlckIudHlwZT09PUN0LkZpeGVkPzA6MS90aGlzLmNvbGxpZGVyQi5pbmVydGlhLGM9TWF0aC5taW4odGhpcy5jb2xsaWRlckEuYm91bmNpbmVzcyx0aGlzLmNvbGxpZGVyQi5ib3VuY2luZXNzKSx1PU1hdGgubWluKHRoaXMuY29sbGlkZXJBLmZyaWN0aW9uLHRoaXMuY29sbGlkZXJCLmZyaWN0aW9uKSxsPShuPW4ubm9ybWFsaXplKCkpLm5vcm1hbCgpLm5vcm1hbGl6ZSgpLHA9dGhpcy5wb2ludC5zdWIodGhpcy5jb2xsaWRlckEuY2VudGVyKSxkPXRoaXMucG9pbnQuc3ViKHRoaXMuY29sbGlkZXJCLmNlbnRlciksZj1lLnZlbC5hZGQoZC5jcm9zcygtZS5yeCkpLnN1Yih0LnZlbC5zdWIocC5jcm9zcyh0LnJ4KSkpLGc9Zi5kb3QobikseT1mLmRvdChsKSxfPXAuZG90KGwpLHY9cC5kb3QobiksbT1kLmRvdChsKSxiPWQuZG90KG4pO2lmKCEoZz4wKSl7dmFyIHc9LSgxK2MpKmcvKHIrcythKl8qXytoKm0qbSk7aWYodGhpcy5jb2xsaWRlckEudHlwZT09PUN0LkZpeGVkPyhlLnZlbD1lLnZlbC5hZGQobi5zY2FsZSh3KnMpKSxUdC5hbGxvd1JpZ2lkQm9keVJvdGF0aW9uJiYoZS5yeC09dypoKi1kLmNyb3NzKG4pKSxlLmFkZE10dihpKSk6dGhpcy5jb2xsaWRlckIudHlwZT09PUN0LkZpeGVkPyh0LnZlbD10LnZlbC5zdWIobi5zY2FsZSh3KnIpKSxUdC5hbGxvd1JpZ2lkQm9keVJvdGF0aW9uJiYodC5yeCs9dyphKi1wLmNyb3NzKG4pKSx0LmFkZE10dihpLm5lZ2F0ZSgpKSk6KGUudmVsPWUudmVsLmFkZChuLnNjYWxlKHcqcykpLHQudmVsPXQudmVsLnN1YihuLnNjYWxlKHcqcikpLFR0LmFsbG93UmlnaWRCb2R5Um90YXRpb24mJihlLnJ4LT13KmgqLWQuY3Jvc3MobiksdC5yeCs9dyphKi1wLmNyb3NzKG4pKSxlLmFkZE10dihpLnNjYWxlKC41KSksdC5hZGRNdHYoaS5zY2FsZSgtLjUpKSksdSYmeSl7dmFyIHg9Zi5zdWIobi5zY2FsZShmLmRvdChuKSkpLm5vcm1hbGl6ZSgpLFA9Zi5kb3QoeCkvKHIrcyt2KnYqYStiKmIqaCksUz1uZXcgRigwLDApO1M9TWF0aC5hYnMoUCk8PXcqdT94LnNjYWxlKFApLm5lZ2F0ZSgpOnguc2NhbGUoLXcqdSksdGhpcy5jb2xsaWRlckEudHlwZT09PUN0LkZpeGVkPyhlLnZlbD1lLnZlbC5hZGQoUy5zY2FsZShzKSksVHQuYWxsb3dSaWdpZEJvZHlSb3RhdGlvbiYmKGUucngrPVMuZG90KHgpKmgqZC5jcm9zcyh4KSkpOnRoaXMuY29sbGlkZXJCLnR5cGU9PT1DdC5GaXhlZD8odC52ZWw9dC52ZWwuc3ViKFMuc2NhbGUocikpLFR0LmFsbG93UmlnaWRCb2R5Um90YXRpb24mJih0LnJ4LT1TLmRvdCh4KSphKnAuY3Jvc3MoeCkpKTooZS52ZWw9ZS52ZWwuYWRkKFMuc2NhbGUocykpLHQudmVsPXQudmVsLnN1YihTLnNjYWxlKHIpKSxUdC5hbGxvd1JpZ2lkQm9keVJvdGF0aW9uJiYoZS5yeCs9Uy5kb3QoeCkqaCpkLmNyb3NzKHgpLHQucngtPVMuZG90KHgpKmEqcC5jcm9zcyh4KSkpfXRoaXMuY29sbGlkZXJBLmVtaXQoXCJwb3N0Y29sbGlzaW9uXCIsbmV3IGR0KHRoaXMuY29sbGlkZXJBLHRoaXMuY29sbGlkZXJCLG8sdGhpcy5tdHYpKSx0aGlzLmNvbGxpZGVyQi5lbWl0KFwicG9zdGNvbGxpc2lvblwiLG5ldyBkdCh0aGlzLmNvbGxpZGVyQix0aGlzLmNvbGxpZGVyQSxUKG8pLHRoaXMubXR2Lm5lZ2F0ZSgpKSl9fX19LHR9KCksT3Q9e0NvbGxpZGVDaXJjbGVDaXJjbGU6ZnVuY3Rpb24odCxlKXt2YXIgaT10LnJhZGl1cytlLnJhZGl1cyxuPXQud29ybGRQb3Msbz1lLndvcmxkUG9zO2lmKG4uZGlzdGFuY2Uobyk+aSlyZXR1cm4gbnVsbDt2YXIgcj1vLnN1YihuKS5ub3JtYWxpemUoKSxzPXIuc2NhbGUoaS1vLmRpc3RhbmNlKG4pKSxhPXQuZ2V0RnVydGhlc3RQb2ludChyKTtyZXR1cm4gbmV3IE10KHQuY29sbGlkZXIsZS5jb2xsaWRlcixzLGEscil9LENvbGxpZGVDaXJjbGVQb2x5Z29uOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dC50ZXN0U2VwYXJhdGluZ0F4aXNUaGVvcmVtKGUpO2lmKCFpKXJldHVybiBudWxsO3ZhciBuPWkuZG90KGUuY2VudGVyLnN1Yih0LmNlbnRlcikpO2k9bjwwP2kubmVnYXRlKCk6aTt2YXIgbz1bXSxyPWUuZ2V0RnVydGhlc3RQb2ludChpLm5lZ2F0ZSgpKSxzPXQuZ2V0RnVydGhlc3RQb2ludChpKTtyZXR1cm4gdC5jb250YWlucyhyKSYmby5wdXNoKHIpLGUuY29udGFpbnMocykmJm8ucHVzaChzKSwwPT09by5sZW5ndGg/bnVsbDpuZXcgTXQodC5jb2xsaWRlcixlLmNvbGxpZGVyLGksMj09PW8ubGVuZ3RoP29bMF0uYXZlcmFnZShvWzFdKTpvWzBdLGkubm9ybWFsaXplKCkpfSxDb2xsaWRlQ2lyY2xlRWRnZTpmdW5jdGlvbih0LGUpe3ZhciBpPXQuY2VudGVyLG49ZS5lbmQuc3ViKGUuYmVnaW4pLG89bi5kb3QoZS5lbmQuc3ViKGkpKSxyPW4uZG90KGkuc3ViKGUuYmVnaW4pKTtpZihyPD0wKXt2YXIgcz1lLmJlZ2luLnN1YihpKSxhPXMuZG90KHMpO3JldHVybiBhPnQucmFkaXVzKnQucmFkaXVzP251bGw6bmV3IE10KHQuY29sbGlkZXIsZS5jb2xsaWRlcixzLm5vcm1hbGl6ZSgpLnNjYWxlKHQucmFkaXVzLU1hdGguc3FydChhKSksZS5iZWdpbixzLm5vcm1hbGl6ZSgpKX1pZihvPD0wKXt2YXIgaD1lLmVuZC5zdWIoaSksYz1oLmRvdChoKTtyZXR1cm4gYz50LnJhZGl1cyp0LnJhZGl1cz9udWxsOm5ldyBNdCh0LmNvbGxpZGVyLGUuY29sbGlkZXIsaC5ub3JtYWxpemUoKS5zY2FsZSh0LnJhZGl1cy1NYXRoLnNxcnQoYykpLGUuZW5kLGgubm9ybWFsaXplKCkpfXZhciB1PW4uZG90KG4pLGw9ZS5iZWdpbi5zY2FsZShvKS5hZGQoZS5lbmQuc2NhbGUocikpLnNjYWxlKDEvdSkscD1pLnN1YihsKSxkPXAuZG90KHApO2lmKGQ+dC5yYWRpdXMqdC5yYWRpdXMpcmV0dXJuIG51bGw7dmFyIGY9bi5wZXJwZW5kaWN1bGFyKCk7Zi5kb3QoaS5zdWIoZS5iZWdpbikpPDAmJihmLng9LWYueCxmLnk9LWYueSk7dmFyIGc9KGY9Zi5ub3JtYWxpemUoKSkuc2NhbGUoTWF0aC5hYnModC5yYWRpdXMtTWF0aC5zcXJ0KGQpKSk7cmV0dXJuIG5ldyBNdCh0LmNvbGxpZGVyLGUuY29sbGlkZXIsZy5uZWdhdGUoKSxsLGYubmVnYXRlKCkpfSxDb2xsaWRlRWRnZUVkZ2U6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0sQ29sbGlkZVBvbHlnb25FZGdlOmZ1bmN0aW9uKHQsZSl7dmFyIGksbixvPWUuZW5kLnN1YihlLmJlZ2luKS5ub3JtYWwoKTtpZih0LmNvbnRhaW5zKGUuYmVnaW4pKXt2YXIgcj0oaT10LmdldENsb3Nlc3RGYWNlKGUuYmVnaW4pKS5kaXN0YW5jZSxzPWkuZmFjZTtpZihyKXJldHVybiBuZXcgTXQodC5jb2xsaWRlcixlLmNvbGxpZGVyLHIubmVnYXRlKCksZS5iZWdpbi5hZGQoci5uZWdhdGUoKSkscy5ub3JtYWwoKS5uZWdhdGUoKSl9aWYodC5jb250YWlucyhlLmVuZCkpe3I9KG49dC5nZXRDbG9zZXN0RmFjZShlLmVuZCkpLmRpc3RhbmNlLHM9bi5mYWNlO2lmKHIpcmV0dXJuIG5ldyBNdCh0LmNvbGxpZGVyLGUuY29sbGlkZXIsci5uZWdhdGUoKSxlLmVuZC5hZGQoci5uZWdhdGUoKSkscy5ub3JtYWwoKS5uZWdhdGUoKSl9dmFyIGE9dC5jZW50ZXIsaD1lLmNlbnRlci5zdWIoYSkubm9ybWFsaXplKCksYz1uZXcgenQoe2NvbGxpZGVyOmUuY29sbGlkZXIscG9pbnRzOltlLmJlZ2luLGUuZW5kLGUuZW5kLmFkZChoLnNjYWxlKDMwKSksZS5iZWdpbi5hZGQoaC5zY2FsZSgzMCkpXX0pLHU9dC50ZXN0U2VwYXJhdGluZ0F4aXNUaGVvcmVtKGMpO3JldHVybiB1PyhvPW8uZG90KGgpPDA/by5uZWdhdGUoKTpvLHU9dS5kb3QoaCk8MD91Lm5lZ2F0ZSgpOnUsbmV3IE10KHQuY29sbGlkZXIsZS5jb2xsaWRlcix1LHQuZ2V0RnVydGhlc3RQb2ludChvKSxvKSk6bnVsbH0sQ29sbGlkZVBvbHlnb25Qb2x5Z29uOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dC50ZXN0U2VwYXJhdGluZ0F4aXNUaGVvcmVtKGUpO2lmKCFpKXJldHVybiBudWxsO3ZhciBuPWkuZG90KGUuY2VudGVyLnN1Yih0LmNlbnRlcikpO2k9bjwwP2kubmVnYXRlKCk6aTt2YXIgbz1bXSxyPXQuZ2V0RnVydGhlc3RQb2ludChpKSxzPWUuZ2V0RnVydGhlc3RQb2ludChpLm5lZ2F0ZSgpKTtlLmNvbnRhaW5zKHIpJiZvLnB1c2gociksdC5jb250YWlucyhzKSYmby5wdXNoKHMpLDA9PT1vLmxlbmd0aCYmby5wdXNoKHMpO3ZhciBhPTI9PT1vLmxlbmd0aD9vWzBdLmFkZChvWzFdKS5zY2FsZSguNSk6b1swXTtyZXR1cm4gbmV3IE10KHQuY29sbGlkZXIsZS5jb2xsaWRlcixpLGEsaS5ub3JtYWxpemUoKSl9fTtmdW5jdGlvbiBCdCh0LGUsaSxuKXt2YXIgbz10LnN1YihpKSxyPWUuZG90KGUpLHM9ZS5kb3QobiksYT1uLmRvdChuKSxoPWUuZG90KG8pLGM9bi5kb3QobyksdT1yKmEtcypzLGw9dSxwPXU7aWYoMD09PXV8fHU8PS4wMSl7dmFyIGQ9aC9zO3JldHVybiBuZXcgTCh0LGkuYWRkKG4uc2NhbGUoZCkpKX12YXIgZj1zKmMtYSpoLGc9cipjLXMqaDtyZXR1cm4gZjwwPyhmPTAsZz1jLHA9YSk6Zj5sJiYoZj1sLGc9YytzLHA9YSksZzwwPyhnPTAsLWg8MD9mPTA6LWg+cj9mPWw6KGY9LWgsbD1yKSk6Zz5wJiYoZz1wLC1oK3M8MD9mPTA6LWgrcz5yP2Y9bDooZj0taCtzLGw9cikpLGY9TWF0aC5hYnMoZik8LjAwMT8wOmYvbCxnPU1hdGguYWJzKGcpPC4wMDE/MDpnL3AsbmV3IEwodC5hZGQoZS5zY2FsZShmKSksaS5hZGQobi5zY2FsZShnKSkpfXZhciBEdCxrdD17UG9seWdvblBvbHlnb25DbG9zZXN0TGluZTpmdW5jdGlvbih0LGUpe3ZhciBpPWUud29ybGRQb3Msbj1pLnN1Yih0LndvcmxkUG9zKSxvPW4ubmVnYXRlKCkscj1uZXcgaih0LndvcmxkUG9zLG4pLHM9bmV3IGooaSxvKSxhPXQucmF5Q2FzdChyKS5hZGQoci5kaXIuc2NhbGUoLjEpKSxoPWUucmF5Q2FzdChzKS5hZGQocy5kaXIuc2NhbGUoLjEpKSxjPXQuZ2V0Q2xvc2VzdEZhY2UoYSksdT1lLmdldENsb3Nlc3RGYWNlKGgpO3JldHVybiBCdChjLmZhY2UuYmVnaW4sYy5mYWNlLmdldEVkZ2UoKSx1LmZhY2UuYmVnaW4sdS5mYWNlLmdldEVkZ2UoKSl9LFBvbHlnb25FZGdlQ2xvc2VzdExpbmU6ZnVuY3Rpb24odCxlKXt2YXIgaT1lLndvcmxkUG9zLnN1Yih0LndvcmxkUG9zKSxuPW5ldyBqKHQud29ybGRQb3MsaSksbz10LnJheUNhc3QobikuYWRkKG4uZGlyLnNjYWxlKC4xKSkscj10LmdldENsb3Nlc3RGYWNlKG8pLHM9ci5mYWNlLmJlZ2luLGE9ci5mYWNlLmdldEVkZ2UoKSxoPWUuYXNMaW5lKCk7cmV0dXJuIEJ0KHMsYSxoLmJlZ2luLGguZ2V0RWRnZSgpKX0sUG9seWdvbkNpcmNsZUNsb3Nlc3RMaW5lOmZ1bmN0aW9uKHQsZSl7dmFyIGk9ZS53b3JsZFBvcyxuPWkuc3ViKHQud29ybGRQb3MpLG89bmV3IGoodC53b3JsZFBvcyxuLm5vcm1hbGl6ZSgpKSxyPXQucmF5Q2FzdChvKS5hZGQoby5kaXIuc2NhbGUoLjEpKSxzPXQuZ2V0Q2xvc2VzdEZhY2UociksYT1zLmZhY2UuYmVnaW4saD1zLmZhY2UuZ2V0RWRnZSgpLGM9KGgueCooaS54LWEueCkraC55KihpLnktYS55KSkvKGgueCpoLngraC55KmgueSk7Yz4xP2M9MTpjPDAmJihjPTApO3ZhciB1PU1hdGguc3FydChNYXRoLnBvdyhhLngraC54KmMtaS54LDIpK01hdGgucG93KGEueStoLnkqYy1pLnksMikpLWUucmFkaXVzLGw9KGEueCtoLngqYy1pLngpKmUucmFkaXVzLyhlLnJhZGl1cyt1KSxwPShhLnkraC55KmMtaS55KSplLnJhZGl1cy8oZS5yYWRpdXMrdSk7cmV0dXJuIG5ldyBMKGguc2NhbGUoYykuYWRkKGEpLG5ldyBGKGkueCtsLGkueStwKSl9LENpcmNsZUNpcmNsZUNsb3Nlc3RMaW5lOmZ1bmN0aW9uKHQsZSl7dmFyIGk9ZS53b3JsZFBvcy5zdWIodC53b3JsZFBvcyksbj10LndvcmxkUG9zLnN1YihlLndvcmxkUG9zKSxvPW5ldyBqKHQud29ybGRQb3MsaSkscj1uZXcgaihlLndvcmxkUG9zLG4pLHM9dC5yYXlDYXN0KG8pLGE9ZS5yYXlDYXN0KHIpO3JldHVybiBuZXcgTChzLGEpfSxDaXJjbGVFZGdlQ2xvc2VzdExpbmU6ZnVuY3Rpb24odCxlKXt2YXIgaT10LndvcmxkUG9zLG49ZS5hc0xpbmUoKSxvPW4uYmVnaW4scj1uLmdldEVkZ2UoKSxzPShyLngqKGkueC1vLngpK3IueSooaS55LW8ueSkpLyhyLngqci54K3IueSpyLnkpO3M+MT9zPTE6czwwJiYocz0wKTt2YXIgYT1NYXRoLnNxcnQoTWF0aC5wb3coby54K3IueCpzLWkueCwyKStNYXRoLnBvdyhvLnkrci55KnMtaS55LDIpKS10LnJhZGl1cyxoPShvLngrci54KnMtaS54KSp0LnJhZGl1cy8odC5yYWRpdXMrYSksYz0oby55K3IueSpzLWkueSkqdC5yYWRpdXMvKHQucmFkaXVzK2EpO3JldHVybiBuZXcgTChyLnNjYWxlKHMpLmFkZChvKSxuZXcgRihpLngraCxpLnkrYykpfSxFZGdlRWRnZUNsb3Nlc3RMaW5lOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dC5hc0xpbmUoKSxuPWkuYmVnaW4sbz1pLmdldEVkZ2UoKSxyPWUuYXNMaW5lKCk7cmV0dXJuIEJ0KG4sbyxyLmJlZ2luLHIuZ2V0RWRnZSgpKX19LFJ0PWZ1bmN0aW9uKCl7dmFyIHQ9ZnVuY3Rpb24oZSxpKXtyZXR1cm4odD1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24odCxlKXt0Ll9fcHJvdG9fXz1lfXx8ZnVuY3Rpb24odCxlKXtmb3IodmFyIGkgaW4gZSllLmhhc093blByb3BlcnR5KGkpJiYodFtpXT1lW2ldKX0pKGUsaSl9O3JldHVybiBmdW5jdGlvbihlLGkpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPWV9dChlLGkpLGUucHJvdG90eXBlPW51bGw9PT1pP09iamVjdC5jcmVhdGUoaSk6KG4ucHJvdG90eXBlPWkucHJvdG90eXBlLG5ldyBuKX19KCksRnQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMub2Zmc2V0PUYuWmVybyx0aGlzLm9mZnNldD10Lm9mZnNldHx8Ri5aZXJvLHRoaXMucmFkaXVzPXQucmFkaXVzfHwwLHRoaXMuY29sbGlkZXI9dC5jb2xsaWRlcnx8bnVsbCx0LmJvZHkmJih0aGlzLmNvbGxpZGVyPXQuYm9keS5jb2xsaWRlcix0aGlzLmJvZHk9dGhpcy5jb2xsaWRlci5ib2R5KX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwid29ybGRQb3NcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29sbGlkZXImJnRoaXMuY29sbGlkZXIuYm9keT90aGlzLmNvbGxpZGVyLmJvZHkucG9zLmFkZCh0aGlzLm9mZnNldCk6dGhpcy5vZmZzZXR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHQoe29mZnNldDp0aGlzLm9mZnNldC5jbG9uZSgpLHJhZGl1czp0aGlzLnJhZGl1cyxjb2xsaWRlcjpudWxsLGJvZHk6bnVsbH0pfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJjZW50ZXJcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29sbGlkZXImJnRoaXMuY29sbGlkZXIuYm9keT90aGlzLm9mZnNldC5hZGQodGhpcy5jb2xsaWRlci5ib2R5LnBvcyk6dGhpcy5vZmZzZXR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUuY29udGFpbnM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vZmZzZXQ7cmV0dXJuIHRoaXMuY29sbGlkZXImJnRoaXMuY29sbGlkZXIuYm9keSYmKGU9dGhpcy5jb2xsaWRlci5ib2R5LnBvcyksZS5kaXN0YW5jZSh0KTw9dGhpcy5yYWRpdXN9LHQucHJvdG90eXBlLnJheUNhc3Q9ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT0xLzApO3ZhciBpPXRoaXMuY2VudGVyLG49dC5kaXIsbz10LnBvcyxyPU1hdGguc3FydChNYXRoLnBvdyhuLmRvdChvLnN1YihpKSksMiktTWF0aC5wb3coby5zdWIoaSkuZGlzdGFuY2UoKSwyKStNYXRoLnBvdyh0aGlzLnJhZGl1cywyKSk7aWYocjwwKXJldHVybiBudWxsO3ZhciBzPTA7aWYoMD09PXIpcmV0dXJuKHM9LW4uZG90KG8uc3ViKGkpKSk+MCYmczxlP3QuZ2V0UG9pbnQocyk6bnVsbDt2YXIgYT0tbi5kb3Qoby5zdWIoaSkpK3IsaD0tbi5kb3Qoby5zdWIoaSkpLXIsYz1bXTthPj0wJiZjLnB1c2goYSksaD49MCYmYy5wdXNoKGgpO3ZhciB1PU1hdGgubWluLmFwcGx5KE1hdGgsYyk7cmV0dXJuIHU8PWU/dC5nZXRQb2ludCh1KTpudWxsfSx0LnByb3RvdHlwZS5nZXRDbG9zZXN0TGluZUJldHdlZW49ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIHQpcmV0dXJuIGt0LkNpcmNsZUNpcmNsZUNsb3Nlc3RMaW5lKHRoaXMsZSk7aWYoZSBpbnN0YW5jZW9mIHp0KXJldHVybiBrdC5Qb2x5Z29uQ2lyY2xlQ2xvc2VzdExpbmUoZSx0aGlzKS5mbGlwKCk7aWYoZSBpbnN0YW5jZW9mIEl0KXJldHVybiBrdC5DaXJjbGVFZGdlQ2xvc2VzdExpbmUodGhpcyxlKS5mbGlwKCk7dGhyb3cgbmV3IEVycm9yKFwiUG9seWdvbiBjb3VsZCBub3QgY29sbGlkZSB3aXRoIHVua25vd24gQ29sbGlzaW9uU2hhcGUgXCIrdHlwZW9mIGUpfSx0LnByb3RvdHlwZS5jb2xsaWRlPWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiB0KXJldHVybiBPdC5Db2xsaWRlQ2lyY2xlQ2lyY2xlKHRoaXMsZSk7aWYoZSBpbnN0YW5jZW9mIHp0KXJldHVybiBPdC5Db2xsaWRlQ2lyY2xlUG9seWdvbih0aGlzLGUpO2lmKGUgaW5zdGFuY2VvZiBJdClyZXR1cm4gT3QuQ29sbGlkZUNpcmNsZUVkZ2UodGhpcyxlKTt0aHJvdyBuZXcgRXJyb3IoXCJDaXJjbGUgY291bGQgbm90IGNvbGxpZGUgd2l0aCB1bmtub3duIENvbGxpc2lvblNoYXBlIFwiK3R5cGVvZiBlKX0sdC5wcm90b3R5cGUuZ2V0RnVydGhlc3RQb2ludD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jZW50ZXIuYWRkKHQubm9ybWFsaXplKCkuc2NhbGUodGhpcy5yYWRpdXMpKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiYm91bmRzXCIse2dldDpmdW5jdGlvbigpe3ZhciB0PUYuWmVybztyZXR1cm4gdGhpcy5jb2xsaWRlciYmdGhpcy5jb2xsaWRlci5ib2R5JiYodD10aGlzLmNvbGxpZGVyLmJvZHkucG9zKSxuZXcgWXQodGhpcy5vZmZzZXQueCt0LngtdGhpcy5yYWRpdXMsdGhpcy5vZmZzZXQueSt0LnktdGhpcy5yYWRpdXMsdGhpcy5vZmZzZXQueCt0LngrdGhpcy5yYWRpdXMsdGhpcy5vZmZzZXQueSt0LnkrdGhpcy5yYWRpdXMpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImxvY2FsQm91bmRzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBuZXcgWXQodGhpcy5vZmZzZXQueC10aGlzLnJhZGl1cyx0aGlzLm9mZnNldC55LXRoaXMucmFkaXVzLHRoaXMub2Zmc2V0LngrdGhpcy5yYWRpdXMsdGhpcy5vZmZzZXQueSt0aGlzLnJhZGl1cyl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiYXhlc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJpbmVydGlhXCIse2dldDpmdW5jdGlvbigpe3JldHVybih0aGlzLmNvbGxpZGVyP3RoaXMuY29sbGlkZXIubWFzczpUdC5kZWZhdWx0TWFzcykqdGhpcy5yYWRpdXMqdGhpcy5yYWRpdXMvMn0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS50ZXN0U2VwYXJhdGluZ0F4aXNUaGVvcmVtPWZ1bmN0aW9uKHQpe3ZhciBlPXQuYXhlcyxpPXQuY2VudGVyLG49dC5nZXRGdXJ0aGVzdFBvaW50KHRoaXMub2Zmc2V0LnN1YihpKSk7ZS5wdXNoKHRoaXMub2Zmc2V0LnN1YihuKS5ub3JtYWxpemUoKSk7Zm9yKHZhciBvPU51bWJlci5NQVhfVkFMVUUscj1udWxsLHM9LTEsYT0wO2E8ZS5sZW5ndGg7YSsrKXt2YXIgaD10LnByb2plY3QoZVthXSksYz10aGlzLnByb2plY3QoZVthXSksdT1oLmdldE92ZXJsYXAoYyk7aWYodTw9MClyZXR1cm4gbnVsbDt1PG8mJihvPXUscj1lW2FdLHM9YSl9cmV0dXJuIHM8MD9udWxsOnIubm9ybWFsaXplKCkuc2NhbGUobyl9LHQucHJvdG90eXBlLnJlY2FsYz1mdW5jdGlvbigpe30sdC5wcm90b3R5cGUucHJvamVjdD1mdW5jdGlvbih0KXt2YXIgZT1bXSxpPXRoaXMuY2VudGVyLmRvdCh0KTtyZXR1cm4gZS5wdXNoKGkpLGUucHVzaChpK3RoaXMucmFkaXVzKSxlLnB1c2goaS10aGlzLnJhZGl1cyksbmV3IEkoTWF0aC5taW4uYXBwbHkoTWF0aCxlKSxNYXRoLm1heC5hcHBseShNYXRoLGUpKX0sdC5wcm90b3R5cGUuZHJhdz1mdW5jdGlvbih0LGUsaSl7dm9pZCAwPT09ZSYmKGU9QXQuR3JlZW4pLHZvaWQgMD09PWkmJihpPUYuWmVybyk7dmFyIG49aS5hZGQodGhpcy5vZmZzZXQpO3QuYmVnaW5QYXRoKCksdC5maWxsU3R5bGU9ZS50b1N0cmluZygpLHQuYXJjKG4ueCxuLnksdGhpcy5yYWRpdXMsMCwyKk1hdGguUEkpLHQuY2xvc2VQYXRoKCksdC5maWxsKCl9LHQucHJvdG90eXBlLmRlYnVnRHJhdz1mdW5jdGlvbih0LGUpe3ZvaWQgMD09PWUmJihlPUF0LkdyZWVuKTt2YXIgaT10aGlzLmNvbGxpZGVyLmJvZHksbj1pP2kucG9zLmFkZCh0aGlzLm9mZnNldCk6dGhpcy5vZmZzZXQsbz1pP2kucm90YXRpb246MDt0LmJlZ2luUGF0aCgpLHQuc3Ryb2tlU3R5bGU9ZS50b1N0cmluZygpLHQuYXJjKG4ueCxuLnksdGhpcy5yYWRpdXMsMCwyKk1hdGguUEkpLHQuY2xvc2VQYXRoKCksdC5zdHJva2UoKSx0LmJlZ2luUGF0aCgpLHQubW92ZVRvKG4ueCxuLnkpLHQubGluZVRvKE1hdGguY29zKG8pKnRoaXMucmFkaXVzK24ueCxNYXRoLnNpbihvKSp0aGlzLnJhZGl1cytuLnkpLHQuY2xvc2VQYXRoKCksdC5zdHJva2UoKX0sdH0oKSxqdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIG51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gUnQoZSx0KSxlfShGdCksTHQ9ZnVuY3Rpb24oKXt2YXIgdD1mdW5jdGlvbihlLGkpe3JldHVybih0PU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbih0LGUpe3QuX19wcm90b19fPWV9fHxmdW5jdGlvbih0LGUpe2Zvcih2YXIgaSBpbiBlKWUuaGFzT3duUHJvcGVydHkoaSkmJih0W2ldPWVbaV0pfSkoZSxpKX07cmV0dXJuIGZ1bmN0aW9uKGUsaSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9ZX10KGUsaSksZS5wcm90b3R5cGU9bnVsbD09PWk/T2JqZWN0LmNyZWF0ZShpKToobi5wcm90b3R5cGU9aS5wcm90b3R5cGUsbmV3IG4pfX0oKSxJdD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5iZWdpbj10LmJlZ2lufHxGLlplcm8sdGhpcy5lbmQ9dC5lbmR8fEYuWmVybyx0aGlzLmNvbGxpZGVyPXQuY29sbGlkZXJ8fG51bGwsdGhpcy5vZmZzZXQ9dGhpcy5jZW50ZXIsdC5ib2R5JiYodGhpcy5jb2xsaWRlcj10LmJvZHkuY29sbGlkZXIsdGhpcy5ib2R5PXRoaXMuY29sbGlkZXIuYm9keSl9cmV0dXJuIHQucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0KHtiZWdpbjp0aGlzLmJlZ2luLmNsb25lKCksZW5kOnRoaXMuZW5kLmNsb25lKCksY29sbGlkZXI6bnVsbCxib2R5Om51bGx9KX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwid29ybGRQb3NcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29sbGlkZXImJnRoaXMuY29sbGlkZXIuYm9keT90aGlzLmNvbGxpZGVyLmJvZHkucG9zLmFkZCh0aGlzLm9mZnNldCk6dGhpcy5vZmZzZXR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiY2VudGVyXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmJlZ2luLmF2ZXJhZ2UodGhpcy5lbmQpLmFkZCh0aGlzLl9nZXRCb2R5UG9zKCkpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLl9nZXRCb2R5UG9zPWZ1bmN0aW9uKCl7dmFyIHQ9Ri5aZXJvO3JldHVybiB0aGlzLmNvbGxpZGVyJiZ0aGlzLmNvbGxpZGVyLmJvZHkmJih0PXRoaXMuY29sbGlkZXIuYm9keS5wb3MpLHR9LHQucHJvdG90eXBlLl9nZXRUcmFuc2Zvcm1lZEJlZ2luPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5jb2xsaWRlcj90aGlzLmNvbGxpZGVyLmJvZHk6bnVsbCxlPXQ/dC5yb3RhdGlvbjowO3JldHVybiB0aGlzLmJlZ2luLnJvdGF0ZShlKS5hZGQodGhpcy5fZ2V0Qm9keVBvcygpKX0sdC5wcm90b3R5cGUuX2dldFRyYW5zZm9ybWVkRW5kPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5jb2xsaWRlcj90aGlzLmNvbGxpZGVyLmJvZHk6bnVsbCxlPXQ/dC5yb3RhdGlvbjowO3JldHVybiB0aGlzLmVuZC5yb3RhdGUoZSkuYWRkKHRoaXMuX2dldEJvZHlQb3MoKSl9LHQucHJvdG90eXBlLmdldFNsb3BlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fZ2V0VHJhbnNmb3JtZWRCZWdpbigpLGU9dGhpcy5fZ2V0VHJhbnNmb3JtZWRFbmQoKSxpPXQuZGlzdGFuY2UoZSk7cmV0dXJuIGUuc3ViKHQpLnNjYWxlKDEvaSl9LHQucHJvdG90eXBlLmdldExlbmd0aD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2dldFRyYW5zZm9ybWVkQmVnaW4oKSxlPXRoaXMuX2dldFRyYW5zZm9ybWVkRW5kKCk7cmV0dXJuIHQuZGlzdGFuY2UoZSl9LHQucHJvdG90eXBlLmNvbnRhaW5zPWZ1bmN0aW9uKCl7cmV0dXJuITF9LHQucHJvdG90eXBlLnJheUNhc3Q9ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT0xLzApO3ZhciBpPXRoaXMuX2dldFRyYW5zZm9ybWVkQmVnaW4oKS5zdWIodC5wb3MpO2lmKDA9PT10LmRpci5jcm9zcyh0aGlzLmdldFNsb3BlKCkpJiYwIT09aS5jcm9zcyh0LmRpcikpcmV0dXJuIG51bGw7dmFyIG49dC5kaXIuY3Jvc3ModGhpcy5nZXRTbG9wZSgpKTtpZigwPT09bilyZXR1cm4gbnVsbDt2YXIgbz1pLmNyb3NzKHRoaXMuZ2V0U2xvcGUoKSkvbjtpZihvPj0wJiZvPD1lKXt2YXIgcj1pLmNyb3NzKHQuZGlyKS9uL3RoaXMuZ2V0TGVuZ3RoKCk7aWYocj49MCYmcjw9MSlyZXR1cm4gdC5nZXRQb2ludChvKX1yZXR1cm4gbnVsbH0sdC5wcm90b3R5cGUuZ2V0Q2xvc2VzdExpbmVCZXR3ZWVuPWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBGdClyZXR1cm4ga3QuQ2lyY2xlRWRnZUNsb3Nlc3RMaW5lKGUsdGhpcyk7aWYoZSBpbnN0YW5jZW9mIHp0KXJldHVybiBrdC5Qb2x5Z29uRWRnZUNsb3Nlc3RMaW5lKGUsdGhpcykuZmxpcCgpO2lmKGUgaW5zdGFuY2VvZiB0KXJldHVybiBrdC5FZGdlRWRnZUNsb3Nlc3RMaW5lKHRoaXMsZSk7dGhyb3cgbmV3IEVycm9yKFwiUG9seWdvbiBjb3VsZCBub3QgY29sbGlkZSB3aXRoIHVua25vd24gQ29sbGlzaW9uU2hhcGUgXCIrdHlwZW9mIGUpfSx0LnByb3RvdHlwZS5jb2xsaWRlPWZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiBGdClyZXR1cm4gT3QuQ29sbGlkZUNpcmNsZUVkZ2UoZSx0aGlzKTtpZihlIGluc3RhbmNlb2YgenQpcmV0dXJuIE90LkNvbGxpZGVQb2x5Z29uRWRnZShlLHRoaXMpO2lmKGUgaW5zdGFuY2VvZiB0KXJldHVybiBPdC5Db2xsaWRlRWRnZUVkZ2UoKTt0aHJvdyBuZXcgRXJyb3IoXCJFZGdlIGNvdWxkIG5vdCBjb2xsaWRlIHdpdGggdW5rbm93biBDb2xsaXNpb25TaGFwZSBcIit0eXBlb2YgZSl9LHQucHJvdG90eXBlLmdldEZ1cnRoZXN0UG9pbnQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fZ2V0VHJhbnNmb3JtZWRCZWdpbigpLGk9dGhpcy5fZ2V0VHJhbnNmb3JtZWRFbmQoKTtyZXR1cm4gdC5kb3QoZSk+MD9lOml9LHQucHJvdG90eXBlLl9ib3VuZHNGcm9tQmVnaW5FbmQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IFl0KE1hdGgubWluKHQueCxlLngpLE1hdGgubWluKHQueSxlLnkpLE1hdGgubWF4KHQueCxlLngpLE1hdGgubWF4KHQueSxlLnkpKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiYm91bmRzXCIse2dldDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX2dldFRyYW5zZm9ybWVkQmVnaW4oKSxlPXRoaXMuX2dldFRyYW5zZm9ybWVkRW5kKCk7cmV0dXJuIHRoaXMuX2JvdW5kc0Zyb21CZWdpbkVuZCh0LGUpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImxvY2FsQm91bmRzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9ib3VuZHNGcm9tQmVnaW5FbmQodGhpcy5iZWdpbix0aGlzLmVuZCl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUuYXNMaW5lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBMKHRoaXMuX2dldFRyYW5zZm9ybWVkQmVnaW4oKSx0aGlzLl9nZXRUcmFuc2Zvcm1lZEVuZCgpKX0sdC5wcm90b3R5cGUuYXNMb2NhbExpbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEwodGhpcy5iZWdpbix0aGlzLmVuZCl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImF4ZXNcIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fZ2V0VHJhbnNmb3JtZWRFbmQoKS5zdWIodGhpcy5fZ2V0VHJhbnNmb3JtZWRCZWdpbigpKS5ub3JtYWwoKSxlPVtdO3JldHVybiBlLnB1c2godCksZS5wdXNoKHQubmVnYXRlKCkpLGUucHVzaCh0Lm5vcm1hbCgpKSxlLnB1c2godC5ub3JtYWwoKS5uZWdhdGUoKSksZX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJpbmVydGlhXCIse2dldDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuY29sbGlkZXI/dGhpcy5jb2xsaWRlci5tYXNzOlR0LmRlZmF1bHRNYXNzLGU9dGhpcy5lbmQuc3ViKHRoaXMuYmVnaW4pLmRpc3RhbmNlKCkvMjtyZXR1cm4gdCplKmV9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUucmVjYWxjPWZ1bmN0aW9uKCl7fSx0LnByb3RvdHlwZS5wcm9qZWN0PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1bXSxpPVt0aGlzLl9nZXRUcmFuc2Zvcm1lZEJlZ2luKCksdGhpcy5fZ2V0VHJhbnNmb3JtZWRFbmQoKV0sbj1pLmxlbmd0aCxvPTA7bzxuO28rKyllLnB1c2goaVtvXS5kb3QodCkpO3JldHVybiBuZXcgSShNYXRoLm1pbi5hcHBseShNYXRoLGUpLE1hdGgubWF4LmFwcGx5KE1hdGgsZSkpfSx0LnByb3RvdHlwZS5kcmF3PWZ1bmN0aW9uKHQsZSxpKXt2b2lkIDA9PT1lJiYoZT1BdC5HcmVlbiksdm9pZCAwPT09aSYmKGk9Ri5aZXJvKTt2YXIgbj10aGlzLmJlZ2luLmFkZChpKSxvPXRoaXMuZW5kLmFkZChpKTt0LnN0cm9rZVN0eWxlPWUudG9TdHJpbmcoKSx0LmJlZ2luUGF0aCgpLHQubW92ZVRvKG4ueCxuLnkpLHQubGluZVRvKG8ueCxvLnkpLHQuY2xvc2VQYXRoKCksdC5zdHJva2UoKX0sdC5wcm90b3R5cGUuZGVidWdEcmF3PWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9QXQuUmVkKTt2YXIgaT10aGlzLl9nZXRUcmFuc2Zvcm1lZEJlZ2luKCksbj10aGlzLl9nZXRUcmFuc2Zvcm1lZEVuZCgpO3Quc3Ryb2tlU3R5bGU9ZS50b1N0cmluZygpLHQuYmVnaW5QYXRoKCksdC5tb3ZlVG8oaS54LGkueSksdC5saW5lVG8obi54LG4ueSksdC5jbG9zZVBhdGgoKSx0LnN0cm9rZSgpfSx0fSgpLFd0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBMdChlLHQpLGV9KEl0KSxIdD1mdW5jdGlvbigpe3ZhciB0PWZ1bmN0aW9uKGUsaSl7cmV0dXJuKHQ9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKHQsZSl7dC5fX3Byb3RvX189ZX18fGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShpKSYmKHRbaV09ZVtpXSl9KShlLGkpfTtyZXR1cm4gZnVuY3Rpb24oZSxpKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfXQoZSxpKSxlLnByb3RvdHlwZT1udWxsPT09aT9PYmplY3QuY3JlYXRlKGkpOihuLnByb3RvdHlwZT1pLnByb3RvdHlwZSxuZXcgbil9fSgpLHp0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl90cmFuc2Zvcm1lZFBvaW50cz1bXSx0aGlzLl9heGVzPVtdLHRoaXMuX3NpZGVzPVtdLHRoaXMub2Zmc2V0PXQub2Zmc2V0fHxGLlplcm87dmFyIGU9ISF0LmNsb2Nrd2lzZVdpbmRpbmc7dGhpcy5wb2ludHM9KGU/dC5wb2ludHMucmV2ZXJzZSgpOnQucG9pbnRzKXx8W10sdGhpcy5jb2xsaWRlcj10aGlzLmNvbGxpZGVyPXQuY29sbGlkZXJ8fG51bGwsdC5ib2R5JiYodGhpcy5jb2xsaWRlcj10LmJvZHkuY29sbGlkZXIsdGhpcy5ib2R5PXRoaXMuY29sbGlkZXIuYm9keSksdGhpcy5fY2FsY3VsYXRlVHJhbnNmb3JtYXRpb24oKX1yZXR1cm4gdC5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHQoe29mZnNldDp0aGlzLm9mZnNldC5jbG9uZSgpLHBvaW50czp0aGlzLnBvaW50cy5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQuY2xvbmUoKX0pLGNvbGxpZGVyOm51bGwsYm9keTpudWxsfSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcIndvcmxkUG9zXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbGxpZGVyJiZ0aGlzLmNvbGxpZGVyLmJvZHk/dGhpcy5jb2xsaWRlci5ib2R5LnBvcy5hZGQodGhpcy5vZmZzZXQpOnRoaXMub2Zmc2V0fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImNlbnRlclwiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmNvbGxpZGVyP3RoaXMuY29sbGlkZXIuYm9keTpudWxsO3JldHVybiB0P3QucG9zLmFkZCh0aGlzLm9mZnNldCk6dGhpcy5vZmZzZXR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUuX2NhbGN1bGF0ZVRyYW5zZm9ybWF0aW9uPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5jb2xsaWRlcj90aGlzLmNvbGxpZGVyLmJvZHk6bnVsbCxlPXQ/dC5wb3MuYWRkKHRoaXMub2Zmc2V0KTp0aGlzLm9mZnNldCxpPXQ/dC5yb3RhdGlvbjowLG49dD90LnNjYWxlOkYuT25lLG89dGhpcy5wb2ludHMubGVuZ3RoO3RoaXMuX3RyYW5zZm9ybWVkUG9pbnRzLmxlbmd0aD0wO2Zvcih2YXIgcj0wO3I8bztyKyspdGhpcy5fdHJhbnNmb3JtZWRQb2ludHNbcl09dGhpcy5wb2ludHNbcl0uc2NhbGUobikucm90YXRlKGkpLmFkZChlKX0sdC5wcm90b3R5cGUuZ2V0VHJhbnNmb3JtZWRQb2ludHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdHJhbnNmb3JtZWRQb2ludHMubGVuZ3RoJiYoIXRoaXMuY29sbGlkZXJ8fCF0aGlzLmNvbGxpZGVyLmJvZHl8fHRoaXMuY29sbGlkZXIuYm9keS5vbGRQb3MuZXF1YWxzKHRoaXMuY29sbGlkZXIuYm9keS5wb3MpJiZ0aGlzLmNvbGxpZGVyLmJvZHkub2xkUm90YXRpb249PT10aGlzLmNvbGxpZGVyLmJvZHkucm90YXRpb24mJnRoaXMuY29sbGlkZXIuYm9keS5vbGRTY2FsZT09PXRoaXMuY29sbGlkZXIuYm9keS5zY2FsZSl8fHRoaXMuX2NhbGN1bGF0ZVRyYW5zZm9ybWF0aW9uKCksdGhpcy5fdHJhbnNmb3JtZWRQb2ludHN9LHQucHJvdG90eXBlLmdldFNpZGVzPWZ1bmN0aW9uKCl7aWYodGhpcy5fc2lkZXMubGVuZ3RoKXJldHVybiB0aGlzLl9zaWRlcztmb3IodmFyIHQ9W10sZT10aGlzLmdldFRyYW5zZm9ybWVkUG9pbnRzKCksaT1lLmxlbmd0aCxuPTA7bjxpO24rKyl0LnB1c2gobmV3IEwoZVtuXSxlWyhuLTEraSklaV0pKTtyZXR1cm4gdGhpcy5fc2lkZXM9dCx0aGlzLl9zaWRlc30sdC5wcm90b3R5cGUucmVjYWxjPWZ1bmN0aW9uKCl7dGhpcy5fc2lkZXMubGVuZ3RoPTAsdGhpcy5fYXhlcy5sZW5ndGg9MCx0aGlzLl90cmFuc2Zvcm1lZFBvaW50cy5sZW5ndGg9MCx0aGlzLmdldFRyYW5zZm9ybWVkUG9pbnRzKCksdGhpcy5nZXRTaWRlcygpfSx0LnByb3RvdHlwZS5jb250YWlucz1mdW5jdGlvbih0KXt2YXIgZT1uZXcgaih0LG5ldyBGKDEsMCkpO3JldHVybiB0aGlzLmdldFNpZGVzKCkucmVkdWNlKGZ1bmN0aW9uKHQsaSl7cmV0dXJuIGUuaW50ZXJzZWN0KGkpPj0wP3QrMTp0fSwwKSUyIT0wfSx0LnByb3RvdHlwZS5nZXRDbG9zZXN0TGluZUJldHdlZW49ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIEZ0KXJldHVybiBrdC5Qb2x5Z29uQ2lyY2xlQ2xvc2VzdExpbmUodGhpcyxlKTtpZihlIGluc3RhbmNlb2YgdClyZXR1cm4ga3QuUG9seWdvblBvbHlnb25DbG9zZXN0TGluZSh0aGlzLGUpO2lmKGUgaW5zdGFuY2VvZiBJdClyZXR1cm4ga3QuUG9seWdvbkVkZ2VDbG9zZXN0TGluZSh0aGlzLGUpO3Rocm93IG5ldyBFcnJvcihcIlBvbHlnb24gY291bGQgbm90IGNvbGxpZGUgd2l0aCB1bmtub3duIENvbGxpc2lvblNoYXBlIFwiK3R5cGVvZiBlKX0sdC5wcm90b3R5cGUuY29sbGlkZT1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgRnQpcmV0dXJuIE90LkNvbGxpZGVDaXJjbGVQb2x5Z29uKGUsdGhpcyk7aWYoZSBpbnN0YW5jZW9mIHQpcmV0dXJuIE90LkNvbGxpZGVQb2x5Z29uUG9seWdvbih0aGlzLGUpO2lmKGUgaW5zdGFuY2VvZiBJdClyZXR1cm4gT3QuQ29sbGlkZVBvbHlnb25FZGdlKHRoaXMsZSk7dGhyb3cgbmV3IEVycm9yKFwiUG9seWdvbiBjb3VsZCBub3QgY29sbGlkZSB3aXRoIHVua25vd24gQ29sbGlzaW9uU2hhcGUgXCIrdHlwZW9mIGUpfSx0LnByb3RvdHlwZS5nZXRGdXJ0aGVzdFBvaW50PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLmdldFRyYW5zZm9ybWVkUG9pbnRzKCksaT1udWxsLG49LU51bWJlci5NQVhfVkFMVUUsbz0wO288ZS5sZW5ndGg7bysrKXt2YXIgcj10LmRvdChlW29dKTtyPm4mJihuPXIsaT1lW29dKX1yZXR1cm4gaX0sdC5wcm90b3R5cGUuZ2V0Q2xvc2VzdEZhY2U9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuZ2V0U2lkZXMoKSxpPU51bWJlci5QT1NJVElWRV9JTkZJTklUWSxuPS0xLG89LTEscj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgcz1lW3JdLmRpc3RhbmNlVG9Qb2ludCh0KTtzPGkmJihpPXMsbj1yLG89cyl9cmV0dXJuLTEhPT1uP3tkaXN0YW5jZTplW25dLm5vcm1hbCgpLnNjYWxlKG8pLGZhY2U6ZVtuXX06bnVsbH0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiYm91bmRzXCIse2dldDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0VHJhbnNmb3JtZWRQb2ludHMoKTtyZXR1cm4gWXQuZnJvbVBvaW50cyh0KX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJsb2NhbEJvdW5kc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gWXQuZnJvbVBvaW50cyh0aGlzLnBvaW50cyl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiaW5lcnRpYVwiLHtnZXQ6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5jb2xsaWRlcj90aGlzLmNvbGxpZGVyLm1hc3M6VHQuZGVmYXVsdE1hc3MsZT0wLGk9MCxuPTA7bjx0aGlzLnBvaW50cy5sZW5ndGg7bisrKXt2YXIgbz0obisxKSV0aGlzLnBvaW50cy5sZW5ndGgscj10aGlzLnBvaW50c1tvXS5jcm9zcyh0aGlzLnBvaW50c1tuXSk7ZSs9cioodGhpcy5wb2ludHNbbl0uZG90KHRoaXMucG9pbnRzW25dKSt0aGlzLnBvaW50c1tuXS5kb3QodGhpcy5wb2ludHNbb10pK3RoaXMucG9pbnRzW29dLmRvdCh0aGlzLnBvaW50c1tvXSkpLGkrPXJ9cmV0dXJuIHQvNiooZS9pKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5yYXlDYXN0PWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9MS8wKTtmb3IodmFyIGk9dGhpcy5nZXRTaWRlcygpLG49aS5sZW5ndGgsbz1OdW1iZXIuTUFYX1ZBTFVFLHI9LTEscz0wO3M8bjtzKyspe3ZhciBhPXQuaW50ZXJzZWN0KGlbc10pO2E+PTAmJmE8byYmYTw9ZSYmKG89YSxyPXMpfXJldHVybiByPj0wP3QuZ2V0UG9pbnQobyk6bnVsbH0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiYXhlc1wiLHtnZXQ6ZnVuY3Rpb24oKXtpZih0aGlzLl9heGVzLmxlbmd0aClyZXR1cm4gdGhpcy5fYXhlcztmb3IodmFyIHQ9W10sZT10aGlzLmdldFRyYW5zZm9ybWVkUG9pbnRzKCksaT1lLmxlbmd0aCxuPTA7bjxpO24rKyl0LnB1c2goZVtuXS5zdWIoZVsobisxKSVpXSkubm9ybWFsKCkpO3JldHVybiB0aGlzLl9heGVzPXQsdGhpcy5fYXhlc30sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS50ZXN0U2VwYXJhdGluZ0F4aXNUaGVvcmVtPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10LGk9dGhpcy5heGVzLmNvbmNhdChlLmF4ZXMpLG49TnVtYmVyLk1BWF9WQUxVRSxvPW51bGwscj0tMSxzPTA7czxpLmxlbmd0aDtzKyspe3ZhciBhPXRoaXMucHJvamVjdChpW3NdKSxoPWUucHJvamVjdChpW3NdKSxjPWEuZ2V0T3ZlcmxhcChoKTtpZihjPD0wKXJldHVybiBudWxsO2M8biYmKG49YyxvPWlbc10scj1zKX1yZXR1cm4tMT09PXI/bnVsbDpvLm5vcm1hbGl6ZSgpLnNjYWxlKG4pfSx0LnByb3RvdHlwZS5wcm9qZWN0PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLmdldFRyYW5zZm9ybWVkUG9pbnRzKCksaT1lLmxlbmd0aCxuPU51bWJlci5NQVhfVkFMVUUsbz0tTnVtYmVyLk1BWF9WQUxVRSxyPTA7cjxpO3IrKyl7dmFyIHM9ZVtyXS5kb3QodCk7bj1NYXRoLm1pbihuLHMpLG89TWF0aC5tYXgobyxzKX1yZXR1cm4gbmV3IEkobixvKX0sdC5wcm90b3R5cGUuZHJhdz1mdW5jdGlvbih0LGUsaSl7dm9pZCAwPT09ZSYmKGU9QXQuR3JlZW4pLHZvaWQgMD09PWkmJihpPUYuWmVybyksdC5iZWdpblBhdGgoKSx0LmZpbGxTdHlsZT1lLnRvU3RyaW5nKCk7dmFyIG49aS5hZGQodGhpcy5vZmZzZXQpLG89dGhpcy5wb2ludHNbMF0uYWRkKG4pO3QubW92ZVRvKG8ueCxvLnkpLHRoaXMucG9pbnRzLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC5hZGQobil9KS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3QubGluZVRvKGUueCxlLnkpfSksdC5saW5lVG8oby54LG8ueSksdC5jbG9zZVBhdGgoKSx0LmZpbGwoKX0sdC5wcm90b3R5cGUuZGVidWdEcmF3PWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9QXQuUmVkKSx0LmJlZ2luUGF0aCgpLHQuc3Ryb2tlU3R5bGU9ZS50b1N0cmluZygpO3ZhciBpPXRoaXMuZ2V0VHJhbnNmb3JtZWRQb2ludHMoKVswXTt0Lm1vdmVUbyhpLngsaS55KSx0aGlzLmdldFRyYW5zZm9ybWVkUG9pbnRzKCkuZm9yRWFjaChmdW5jdGlvbihlKXt0LmxpbmVUbyhlLngsZS55KX0pLHQubGluZVRvKGkueCxpLnkpLHQuY2xvc2VQYXRoKCksdC5zdHJva2UoKX0sdH0oKSxVdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIG51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gSHQoZSx0KSxlfSh6dCk7IWZ1bmN0aW9uKHQpe3RbdC5EZWJ1Zz0wXT1cIkRlYnVnXCIsdFt0LkluZm89MV09XCJJbmZvXCIsdFt0Lldhcm49Ml09XCJXYXJuXCIsdFt0LkVycm9yPTNdPVwiRXJyb3JcIix0W3QuRmF0YWw9NF09XCJGYXRhbFwifShEdHx8KER0PXt9KSk7dmFyIE50PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe2lmKHRoaXMuX2FwcGVuZGVycz1bXSx0aGlzLmRlZmF1bHRMZXZlbD1EdC5JbmZvLHQuX2luc3RhbmNlKXRocm93IG5ldyBFcnJvcihcIkxvZ2dlciBpcyBhIHNpbmdsZXRvblwiKTtyZXR1cm4gdC5faW5zdGFuY2U9dGhpcyx0Ll9pbnN0YW5jZS5hZGRBcHBlbmRlcihuZXcgcXQpLHQuX2luc3RhbmNlfXJldHVybiB0LmdldEluc3RhbmNlPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PXQuX2luc3RhbmNlJiYodC5faW5zdGFuY2U9bmV3IHQpLHQuX2luc3RhbmNlfSx0LnByb3RvdHlwZS5hZGRBcHBlbmRlcj1mdW5jdGlvbih0KXt0aGlzLl9hcHBlbmRlcnMucHVzaCh0KX0sdC5wcm90b3R5cGUuY2xlYXJBcHBlbmRlcnM9ZnVuY3Rpb24oKXt0aGlzLl9hcHBlbmRlcnMubGVuZ3RoPTB9LHQucHJvdG90eXBlLl9sb2c9ZnVuY3Rpb24odCxlKXtudWxsPT10JiYodD10aGlzLmRlZmF1bHRMZXZlbCk7Zm9yKHZhciBpPXRoaXMuX2FwcGVuZGVycy5sZW5ndGgsbj0wO248aTtuKyspdD49dGhpcy5kZWZhdWx0TGV2ZWwmJnRoaXMuX2FwcGVuZGVyc1tuXS5sb2codCxlKX0sdC5wcm90b3R5cGUuZGVidWc9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10sZT0wO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspdFtlXT1hcmd1bWVudHNbZV07dGhpcy5fbG9nKER0LkRlYnVnLHQpfSx0LnByb3RvdHlwZS5pbmZvPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXRbZV09YXJndW1lbnRzW2VdO3RoaXMuX2xvZyhEdC5JbmZvLHQpfSx0LnByb3RvdHlwZS53YXJuPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXRbZV09YXJndW1lbnRzW2VdO3RoaXMuX2xvZyhEdC5XYXJuLHQpfSx0LnByb3RvdHlwZS5lcnJvcj1mdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxlPTA7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl0W2VdPWFyZ3VtZW50c1tlXTt0aGlzLl9sb2coRHQuRXJyb3IsdCl9LHQucHJvdG90eXBlLmZhdGFsPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXRbZV09YXJndW1lbnRzW2VdO3RoaXMuX2xvZyhEdC5GYXRhbCx0KX0sdC5faW5zdGFuY2U9bnVsbCx0fSgpLHF0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUubG9nPWZ1bmN0aW9uKHQsZSl7aWYoY29uc29sZXx8Y29uc29sZS5sb2d8fCFjb25zb2xlLndhcm58fCFjb25zb2xlLmVycm9yKXt2YXIgaT1bXTtpLnVuc2hpZnQuYXBwbHkoaSxlKSxpLnVuc2hpZnQoXCJbXCIrRHRbdF0rXCJdIDogXCIpLHQ8RHQuV2Fybj9jb25zb2xlLmxvZy5hcHBseT9jb25zb2xlLmxvZy5hcHBseShjb25zb2xlLGkpOmNvbnNvbGUubG9nKGkuam9pbihcIiBcIikpOnQ8RHQuRXJyb3I/Y29uc29sZS53YXJuLmFwcGx5P2NvbnNvbGUud2Fybi5hcHBseShjb25zb2xlLGkpOmNvbnNvbGUud2FybihpLmpvaW4oXCIgXCIpKTpjb25zb2xlLmVycm9yLmFwcGx5P2NvbnNvbGUuZXJyb3IuYXBwbHkoY29uc29sZSxpKTpjb25zb2xlLmVycm9yKGkuam9pbihcIiBcIikpfX0sdH0oKSxHdD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt0aGlzLl9tZXNzYWdlcz1bXSx0aGlzLl9jYW52YXM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSx0aGlzLl9jYW52YXMud2lkdGg9dHx8d2luZG93LmlubmVyV2lkdGgsdGhpcy5fY2FudmFzLmhlaWdodD1lfHx3aW5kb3cuaW5uZXJIZWlnaHQsdGhpcy5fY2FudmFzLnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIix0aGlzLl9jdHg9dGhpcy5fY2FudmFzLmdldENvbnRleHQoXCIyZFwiKSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuX2NhbnZhcyl9cmV0dXJuIHQucHJvdG90eXBlLmxvZz1mdW5jdGlvbih0LGUpe3ZhciBpPWUuam9pbihcIixcIik7dGhpcy5fY3R4LmNsZWFyUmVjdCgwLDAsdGhpcy5fY2FudmFzLndpZHRoLHRoaXMuX2NhbnZhcy5oZWlnaHQpLHRoaXMuX21lc3NhZ2VzLnVuc2hpZnQoXCJbXCIrRHRbdF0rXCJdIDogXCIraSk7Zm9yKHZhciBuPTEwLG89MSxyPTA7cjx0aGlzLl9tZXNzYWdlcy5sZW5ndGg7cisrKXRoaXMuX2N0eC5maWxsU3R5bGU9XCJyZ2JhKDI1NSwyNTUsMjU1LFwiK28udG9GaXhlZCgyKStcIilcIix0aGlzLl9jdHguZmlsbFRleHQodGhpcy5fbWVzc2FnZXNbcl0sMjAwLG4pLG4rPTEwLG89bz4wP28tLjA1OjB9LHR9KCksVnQ9ZnVuY3Rpb24oKXtyZXR1cm4oVnQ9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24odCl7Zm9yKHZhciBlLGk9MSxuPWFyZ3VtZW50cy5sZW5ndGg7aTxuO2krKylmb3IodmFyIG8gaW4gZT1hcmd1bWVudHNbaV0pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsbykmJih0W29dPWVbb10pO3JldHVybiB0fSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtmdW5jdGlvbiBYdCh0KXtyZXR1cm4gdD15KHt9LHttZXNzYWdlOlwiVGhpcyBmZWF0dXJlIHdpbGwgYmUgcmVtb3ZlZCBpbiBmdXR1cmUgdmVyc2lvbnMgb2YgRXhjYWxpYnVyLlwiLGFsdGVybmF0ZU1ldGhvZDpudWxsLHNob3dTdGFja1RyYWNrOiExfSx0KSxmdW5jdGlvbihlLGksbil7aWYobiYmXCJmdW5jdGlvblwiIT10eXBlb2Ygbi52YWx1ZSYmXCJmdW5jdGlvblwiIT10eXBlb2Ygbi5nZXQmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIG4uc2V0KXRocm93IG5ldyBTeW50YXhFcnJvcihcIk9ubHkgY2xhc3Nlcy9mdW5jdGlvbnMvZ2V0dGVycy9zZXR0ZXJzIGNhbiBiZSBtYXJrZWQgYXMgb2Jzb2xldGVcIik7dmFyIG89KGUubmFtZXx8XCJcIikrKGUubmFtZSYmaT9cIi5cIjpcIlwiKSsoaXx8XCJcIikrXCIgaXMgbWFya2VkIG9ic29sZXRlOiBcIit0Lm1lc3NhZ2UrKHQuYWx0ZXJuYXRlTWV0aG9kP1wiIFVzZSBcIit0LmFsdGVybmF0ZU1ldGhvZCtcIiBpbnN0ZWFkXCI6XCJcIikscj1uP1Z0KHt9LG4pOmU7aWYoIW4pe3ZhciBzPWZ1bmN0aW9uKCl7dmFyIGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtyZXR1cm4gTnQuZ2V0SW5zdGFuY2UoKS53YXJuKG8pLGNvbnNvbGUudHJhY2UmJnQuc2hvd1N0YWNrVHJhY2UmJmNvbnNvbGUudHJhY2UoKSxuZXcoci5iaW5kLmFwcGx5KHIsW3ZvaWQgMF0uY29uY2F0KGUpKSl9O3JldHVybiBzLnByb3RvdHlwZT1yLnByb3RvdHlwZSxzfXJldHVybiBuJiZuLnZhbHVlPyhyLnZhbHVlPWZ1bmN0aW9uKCl7cmV0dXJuIE50LmdldEluc3RhbmNlKCkud2FybihvKSxjb25zb2xlLnRyYWNlJiZ0LnNob3dTdGFja1RyYWNlJiZjb25zb2xlLnRyYWNlKCksbi52YWx1ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHIpOihuJiZuLmdldCYmKHIuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIE50LmdldEluc3RhbmNlKCkud2FybihvKSxjb25zb2xlLnRyYWNlJiZ0LnNob3dTdGFja1RyYWNlJiZjb25zb2xlLnRyYWNlKCksbi5nZXQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSksbiYmbi5zZXQmJihyLnNldD1mdW5jdGlvbigpe3JldHVybiBOdC5nZXRJbnN0YW5jZSgpLndhcm4obyksbi5zZXQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSkscil9fXZhciBLdD1mdW5jdGlvbih0LGUsaSxuKXt2YXIgbyxyPWFyZ3VtZW50cy5sZW5ndGgscz1yPDM/ZTpudWxsPT09bj9uPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSxpKTpuO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBSZWZsZWN0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBSZWZsZWN0LmRlY29yYXRlKXM9UmVmbGVjdC5kZWNvcmF0ZSh0LGUsaSxuKTtlbHNlIGZvcih2YXIgYT10Lmxlbmd0aC0xO2E+PTA7YS0tKShvPXRbYV0pJiYocz0ocjwzP28ocyk6cj4zP28oZSxpLHMpOm8oZSxpKSl8fHMpO3JldHVybiByPjMmJnMmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkscyksc30sWXQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxpLG4pe3ZvaWQgMD09PXQmJih0PTApLHZvaWQgMD09PWUmJihlPTApLHZvaWQgMD09PWkmJihpPTApLHZvaWQgMD09PW4mJihuPTApLHRoaXMubGVmdD10LHRoaXMudG9wPWUsdGhpcy5yaWdodD1pLHRoaXMuYm90dG9tPW59cmV0dXJuIHQuZ2V0U2lkZUZyb21JbnRlcnNlY3Rpb249ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQ/TWF0aC5hYnModC54KT5NYXRoLmFicyh0LnkpP3QueDwwP3AuUmlnaHQ6cC5MZWZ0OnQueTwwP3AuQm90dG9tOnAuVG9wOnAuTm9uZX0sdC5mcm9tUG9pbnRzPWZ1bmN0aW9uKGUpe2Zvcih2YXIgaT0xLzAsbj0xLzAsbz0tMS8wLHI9LTEvMCxzPTA7czxlLmxlbmd0aDtzKyspZVtzXS54PGkmJihpPWVbc10ueCksZVtzXS54Pm8mJihvPWVbc10ueCksZVtzXS55PG4mJihuPWVbc10ueSksZVtzXS55PnImJihyPWVbc10ueSk7cmV0dXJuIG5ldyB0KGksbixvLHIpfSx0LmZyb21EaW1lbnNpb249ZnVuY3Rpb24oZSxpLG4sbyl7cmV0dXJuIHZvaWQgMD09PW4mJihuPUYuSGFsZiksdm9pZCAwPT09byYmKG89Ri5aZXJvKSxuZXcgdCgtZSpuLngrby54LC1pKm4ueStvLnksZS1lKm4ueCtvLngsaS1pKm4ueStvLnkpfSx0LnByb3RvdHlwZS5nZXRXaWR0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLndpZHRofSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJ3aWR0aFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yaWdodC10aGlzLmxlZnR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUuZ2V0SGVpZ2h0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGVpZ2h0fSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJoZWlnaHRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYm90dG9tLXRoaXMudG9wfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLmdldENlbnRlcj1mdW5jdGlvbigpe3JldHVybiBuZXcgRigodGhpcy5sZWZ0K3RoaXMucmlnaHQpLzIsKHRoaXMudG9wK3RoaXMuYm90dG9tKS8yKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiY2VudGVyXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBuZXcgRigodGhpcy5sZWZ0K3RoaXMucmlnaHQpLzIsKHRoaXMudG9wK3RoaXMuYm90dG9tKS8yKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS50cmFuc2xhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyB0KHRoaXMubGVmdCtlLngsdGhpcy50b3ArZS55LHRoaXMucmlnaHQrZS54LHRoaXMuYm90dG9tK2UueSl9LHQucHJvdG90eXBlLnJvdGF0ZT1mdW5jdGlvbihlLGkpe3ZvaWQgMD09PWkmJihpPUYuWmVybyk7dmFyIG49dGhpcy5nZXRQb2ludHMoKS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQucm90YXRlKGUsaSl9KTtyZXR1cm4gdC5mcm9tUG9pbnRzKG4pfSx0LnByb3RvdHlwZS5zY2FsZT1mdW5jdGlvbihlLGkpe3ZvaWQgMD09PWkmJihpPUYuWmVybyk7dmFyIG49dGhpcy50cmFuc2xhdGUoaSk7cmV0dXJuIG5ldyB0KG4ubGVmdCplLngsbi50b3AqZS55LG4ucmlnaHQqZS54LG4uYm90dG9tKmUueSl9LHQucHJvdG90eXBlLmdldFBlcmltZXRlcj1mdW5jdGlvbigpe3JldHVybiAyKih0aGlzLndpZHRoK3RoaXMuaGVpZ2h0KX0sdC5wcm90b3R5cGUuZ2V0UG9pbnRzPWZ1bmN0aW9uKCl7dmFyIHQ9W107cmV0dXJuIHQucHVzaChuZXcgRih0aGlzLmxlZnQsdGhpcy50b3ApKSx0LnB1c2gobmV3IEYodGhpcy5yaWdodCx0aGlzLnRvcCkpLHQucHVzaChuZXcgRih0aGlzLnJpZ2h0LHRoaXMuYm90dG9tKSksdC5wdXNoKG5ldyBGKHRoaXMubGVmdCx0aGlzLmJvdHRvbSkpLHR9LHQucHJvdG90eXBlLnRvUG9seWdvbj1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IHp0KHtib2R5OnQ/dC5ib2R5Om51bGwscG9pbnRzOnRoaXMuZ2V0UG9pbnRzKCksb2Zmc2V0OkYuWmVyb30pfSx0LnByb3RvdHlwZS5yYXlDYXN0PWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9MS8wKTt2YXIgaT0tMS8wLG49MS8wLG89MD09PXQuZGlyLng/TnVtYmVyLk1BWF9WQUxVRToxL3QuZGlyLngscj0wPT09dC5kaXIueT9OdW1iZXIuTUFYX1ZBTFVFOjEvdC5kaXIueSxzPSh0aGlzLmxlZnQtdC5wb3MueCkqbyxhPSh0aGlzLnJpZ2h0LXQucG9zLngpKm87aT1NYXRoLm1pbihzLGEpLG49TWF0aC5tYXgocyxhKTt2YXIgaD0odGhpcy50b3AtdC5wb3MueSkqcixjPSh0aGlzLmJvdHRvbS10LnBvcy55KSpyO3JldHVybiBpPU1hdGgubWF4KGksTWF0aC5taW4oaCxjKSksKG49TWF0aC5taW4obixNYXRoLm1heChoLGMpKSk+PU1hdGgubWF4KDAsaSkmJmk8ZX0sdC5wcm90b3R5cGUucmF5Q2FzdFRpbWU9ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT0xLzApO3ZhciBpPS0xLzAsbj0xLzAsbz0wPT09dC5kaXIueD9OdW1iZXIuTUFYX1ZBTFVFOjEvdC5kaXIueCxyPTA9PT10LmRpci55P051bWJlci5NQVhfVkFMVUU6MS90LmRpci55LHM9KHRoaXMubGVmdC10LnBvcy54KSpvLGE9KHRoaXMucmlnaHQtdC5wb3MueCkqbztpPU1hdGgubWluKHMsYSksbj1NYXRoLm1heChzLGEpO3ZhciBoPSh0aGlzLnRvcC10LnBvcy55KSpyLGM9KHRoaXMuYm90dG9tLXQucG9zLnkpKnI7cmV0dXJuIGk9TWF0aC5tYXgoaSxNYXRoLm1pbihoLGMpKSwobj1NYXRoLm1pbihuLE1hdGgubWF4KGgsYykpKT49TWF0aC5tYXgoMCxpKSYmaTxlP2k6LTF9LHQucHJvdG90eXBlLmNvbnRhaW5zPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgRj90aGlzLmxlZnQ8PWUueCYmdGhpcy50b3A8PWUueSYmdGhpcy5ib3R0b20+PWUueSYmdGhpcy5yaWdodD49ZS54OmUgaW5zdGFuY2VvZiB0JiYodGhpcy5sZWZ0PGUubGVmdCYmdGhpcy50b3A8ZS50b3AmJmUuYm90dG9tPHRoaXMuYm90dG9tJiZlLnJpZ2h0PHRoaXMucmlnaHQpfSx0LnByb3RvdHlwZS5jb21iaW5lPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgdChNYXRoLm1pbih0aGlzLmxlZnQsZS5sZWZ0KSxNYXRoLm1pbih0aGlzLnRvcCxlLnRvcCksTWF0aC5tYXgodGhpcy5yaWdodCxlLnJpZ2h0KSxNYXRoLm1heCh0aGlzLmJvdHRvbSxlLmJvdHRvbSkpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJkaW1lbnNpb25zXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBuZXcgRih0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5pbnRlcnNlY3Q9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jb21iaW5lKHQpO2lmKGUud2lkdGg8dC53aWR0aCt0aGlzLndpZHRoJiZlLmhlaWdodDx0LmhlaWdodCt0aGlzLmhlaWdodCYmIWUuZGltZW5zaW9ucy5lcXVhbHModC5kaW1lbnNpb25zKSYmIWUuZGltZW5zaW9ucy5lcXVhbHModGhpcy5kaW1lbnNpb25zKSl7dmFyIGk9MDtpPXRoaXMucmlnaHQ+PXQubGVmdCYmdGhpcy5yaWdodDw9dC5yaWdodD90LmxlZnQtdGhpcy5yaWdodDp0LnJpZ2h0LXRoaXMubGVmdDt2YXIgbj0wO3JldHVybiBuPXRoaXMudG9wPD10LmJvdHRvbSYmdGhpcy50b3A+PXQudG9wP3QuYm90dG9tLXRoaXMudG9wOnQudG9wLXRoaXMuYm90dG9tLE1hdGguYWJzKGkpPE1hdGguYWJzKG4pP25ldyBGKGksMCk6bmV3IEYoMCxuKX1pZihlLmRpbWVuc2lvbnMuZXF1YWxzKHQuZGltZW5zaW9ucyl8fGUuZGltZW5zaW9ucy5lcXVhbHModGhpcy5kaW1lbnNpb25zKSl7aT0wO2k9dGhpcy53aWR0aC10LndpZHRoPj0wP3RoaXMucmlnaHQtdC5yaWdodDw9dC5sZWZ0LXRoaXMubGVmdD90LmxlZnQtdGhpcy5yaWdodDp0LnJpZ2h0LXRoaXMubGVmdDp0LnJpZ2h0LXRoaXMucmlnaHQ8PXRoaXMubGVmdC10LmxlZnQ/dGhpcy5sZWZ0LXQucmlnaHQ6dGhpcy5yaWdodC10LmxlZnQ7bj0wO3JldHVybiBuPXRoaXMuaGVpZ2h0LXQuaGVpZ2h0Pj0wP3RoaXMuYm90dG9tLXQuYm90dG9tPD10LnRvcC10aGlzLnRvcD90LnRvcC10aGlzLmJvdHRvbTp0LmJvdHRvbS10aGlzLnRvcDp0LmJvdHRvbS10aGlzLmJvdHRvbTw9dGhpcy50b3AtdC50b3A/dGhpcy50b3AtdC5ib3R0b206dGhpcy5ib3R0b20tdC50b3AsTWF0aC5hYnMoaSk8TWF0aC5hYnMobik/bmV3IEYoaSwwKTpuZXcgRigwLG4pfXJldHVybiBudWxsfSx0LnByb3RvdHlwZS5pbnRlcnNlY3RXaXRoU2lkZT1mdW5jdGlvbihlKXt2YXIgaT10aGlzLmludGVyc2VjdChlKTtyZXR1cm4gdC5nZXRTaWRlRnJvbUludGVyc2VjdGlvbihpKX0sdC5wcm90b3R5cGUuY29sbGlkZXM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuaW50ZXJzZWN0KHQpfSx0LnByb3RvdHlwZS5kZWJ1Z0RyYXc9ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT1BdC5ZZWxsb3cpLHQuc3Ryb2tlU3R5bGU9ZS50b1N0cmluZygpLHQuc3Ryb2tlUmVjdCh0aGlzLmxlZnQsdGhpcy50b3AsdGhpcy53aWR0aCx0aGlzLmhlaWdodCl9LEt0KFtYdCh7bWVzc2FnZTpcIldpbGwgYmUgcmVtb3ZlZCBpbiB2MC4yNC4wXCIsYWx0ZXJuYXRlTWV0aG9kOlwiQm91bmRpbmdCb3gud2lkdGhcIn0pXSx0LnByb3RvdHlwZSxcImdldFdpZHRoXCIsbnVsbCksS3QoW1h0KHttZXNzYWdlOlwiV2lsbCBiZSByZW1vdmVkIGluIHYwLjI0LjBcIixhbHRlcm5hdGVNZXRob2Q6XCJCb3VuZGluZ0JveC5oZWlnaHRcIn0pXSx0LnByb3RvdHlwZSxcImdldEhlaWdodFwiLG51bGwpLEt0KFtYdCh7bWVzc2FnZTpcIldpbGwgYmUgcmVtb3ZlZCBpbiB2MC4yNC4wXCIsYWx0ZXJuYXRlTWV0aG9kOlwiQm91bmRpbmdCb3guY2VudGVyXCJ9KV0sdC5wcm90b3R5cGUsXCJnZXRDZW50ZXJcIixudWxsKSxLdChbWHQoe21lc3NhZ2U6XCJCb3VuZGluZ0JveC5jb2xsaWRlcyB3aWxsIGJlIHJlbW92ZWQgaW4gdjAuMjQuMFwiLGFsdGVybmF0ZU1ldGhvZDpcIkJvdW5kaW5nQm94LmludGVyc2VjdFwifSldLHQucHJvdG90eXBlLFwiY29sbGlkZXNcIixudWxsKSx0fSgpLFp0PWZ1bmN0aW9uKCl7dmFyIHQ9ZnVuY3Rpb24oZSxpKXtyZXR1cm4odD1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24odCxlKXt0Ll9fcHJvdG9fXz1lfXx8ZnVuY3Rpb24odCxlKXtmb3IodmFyIGkgaW4gZSllLmhhc093blByb3BlcnR5KGkpJiYodFtpXT1lW2ldKX0pKGUsaSl9O3JldHVybiBmdW5jdGlvbihlLGkpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPWV9dChlLGkpLGUucHJvdG90eXBlPW51bGw9PT1pP09iamVjdC5jcmVhdGUoaSk6KG4ucHJvdG90eXBlPWkucHJvdG90eXBlLG5ldyBuKX19KCksUXQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLGksbil7dm9pZCAwPT09biYmKG49ITApO3ZhciBvPXQuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gby5wYXRoPWUsby5yZXNwb25zZVR5cGU9aSxvLmJ1c3RDYWNoZT1uLG8uZGF0YT1udWxsLG8ubG9nZ2VyPU50LmdldEluc3RhbmNlKCksby5hcnJheUJ1ZmZlcj1udWxsLG8ub25wcm9ncmVzcz1mdW5jdGlvbigpe30sby5vbmNvbXBsZXRlPWZ1bmN0aW9uKCl7fSxvLm9uZXJyb3I9ZnVuY3Rpb24oKXt9LG99cmV0dXJuIFp0KGUsdCksZS5wcm90b3R5cGUuaXNMb2FkZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9PXRoaXMuZGF0YX0sZS5wcm90b3R5cGUud2lyZUVuZ2luZT1mdW5jdGlvbih0KXt9LGUucHJvdG90eXBlLl9jYWNoZUJ1c3Q9ZnVuY3Rpb24odCl7cmV0dXJuL1xcP1xcdyo9XFx3Ki8udGVzdCh0KT90Kz1cIiZfXz1cIitEYXRlLm5vdygpOnQrPVwiP19fPVwiK0RhdGUubm93KCksdH0sZS5wcm90b3R5cGUuX3N0YXJ0PWZ1bmN0aW9uKCl7dGhpcy5sb2dnZXIuZGVidWcoXCJTdGFydGVkIGxvYWRpbmcgcmVzb3VyY2UgXCIrdGhpcy5wYXRoKX0sZS5wcm90b3R5cGUubG9hZD1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZT1uZXcgZDtpZihudWxsIT09dGhpcy5kYXRhKXJldHVybiB0aGlzLmxvZ2dlci5kZWJ1ZyhcIkFscmVhZHkgaGF2ZSBkYXRhIGZvciByZXNvdXJjZVwiLHRoaXMucGF0aCksZS5yZXNvbHZlKHRoaXMuZGF0YSksdGhpcy5vbmNvbXBsZXRlKCksZTt2YXIgaT1uZXcgWE1MSHR0cFJlcXVlc3Q7cmV0dXJuIGkub3BlbihcIkdFVFwiLHRoaXMuYnVzdENhY2hlP3RoaXMuX2NhY2hlQnVzdCh0aGlzLnBhdGgpOnRoaXMucGF0aCwhMCksaS5yZXNwb25zZVR5cGU9dGhpcy5yZXNwb25zZVR5cGUsaS5vbmxvYWRzdGFydD1mdW5jdGlvbigpe3QuX3N0YXJ0KCl9LGkub25wcm9ncmVzcz10aGlzLm9ucHJvZ3Jlc3MsaS5vbmVycm9yPXRoaXMub25lcnJvcixpLm9ubG9hZD1mdW5jdGlvbigpe2lmKDAhPT1pLnN0YXR1cyYmMjAwIT09aS5zdGF0dXMpcmV0dXJuIHQubG9nZ2VyLmVycm9yKFwiRmFpbGVkIHRvIGxvYWQgcmVzb3VyY2UgXCIsdC5wYXRoLFwiIHNlcnZlciByZXNwb25kZWQgd2l0aCBlcnJvciBjb2RlXCIsaS5zdGF0dXMpLHQub25lcnJvcihpLnJlc3BvbnNlKSx2b2lkIGUucmVzb2x2ZShpLnJlc3BvbnNlKTt0LmRhdGE9dC5wcm9jZXNzRGF0YShpLnJlc3BvbnNlKSx0Lm9uY29tcGxldGUoKSx0LmxvZ2dlci5kZWJ1ZyhcIkNvbXBsZXRlZCBsb2FkaW5nIHJlc291cmNlXCIsdC5wYXRoKSxlLnJlc29sdmUodC5kYXRhKX0saS5zZW5kKCksZX0sZS5wcm90b3R5cGUuZ2V0RGF0YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGF9LGUucHJvdG90eXBlLmdldEFycmF5RGF0YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmFycmF5QnVmZmVyfSxlLnByb3RvdHlwZS5zZXREYXRhPWZ1bmN0aW9uKHQpe3RoaXMuZGF0YT10aGlzLnByb2Nlc3NEYXRhKHQpfSxlLnByb3RvdHlwZS5wcm9jZXNzRGF0YT1mdW5jdGlvbih0KXtyZXR1cm5cImJsb2JcIj09PXRoaXMucmVzcG9uc2VUeXBlP1VSTC5jcmVhdGVPYmplY3RVUkwodCk6dH0sZX0oU3QpLEp0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUudXBkYXRlUGl4ZWw9ZnVuY3Rpb24odCxlLGkpe3ZhciBuPTQqKHQrZSppLndpZHRoKSxvPWkuZGF0YSxyPShvW24rMF0rb1tuKzFdK29bbisyXSkvMztvW24rMF09cixvW24rMV09cixvW24rMl09cn0sdH0oKSwkdD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlLnVwZGF0ZVBpeGVsPWZ1bmN0aW9uKHQsZSxpKXt2YXIgbj00Kih0K2UqaS53aWR0aCksbz1pLmRhdGE7b1tuKzBdPTI1NS1vW24rMF0sb1tuKzFdPTI1NS1vW24rMV0sb1tuKzJdPTI1NS1vW24rMl19LHR9KCksdGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMub3BhY2l0eT10fXJldHVybiB0LnByb3RvdHlwZS51cGRhdGVQaXhlbD1mdW5jdGlvbih0LGUsaSl7dmFyIG49NCoodCtlKmkud2lkdGgpLG89aS5kYXRhOzAhPT1vW24rM10mJihvW24rM109TWF0aC5yb3VuZCh0aGlzLm9wYWNpdHkqb1tuKzNdKSl9LHR9KCksZWU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuY29sb3I9dH1yZXR1cm4gdC5wcm90b3R5cGUudXBkYXRlUGl4ZWw9ZnVuY3Rpb24odCxlLGkpe3ZhciBuPTQqKHQrZSppLndpZHRoKSxvPWkuZGF0YTswIT09b1tuKzNdJiYob1tuKzBdPShvW24rMF0rdGhpcy5jb2xvci5yKS8yLG9bbisxXT0ob1tuKzFdK3RoaXMuY29sb3IuZykvMixvW24rMl09KG9bbisyXSt0aGlzLmNvbG9yLmIpLzIpfSx0fSgpLGllPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt2b2lkIDA9PT10JiYodD0uMSksdGhpcy5mYWN0b3I9dH1yZXR1cm4gdC5wcm90b3R5cGUudXBkYXRlUGl4ZWw9ZnVuY3Rpb24odCxlLGkpe3ZhciBuPTQqKHQrZSppLndpZHRoKSxvPWkuZGF0YSxyPUF0LmZyb21SR0Iob1tuKzBdLG9bbisxXSxvW24rMl0sb1tuKzNdKS5saWdodGVuKHRoaXMuZmFjdG9yKTtvW24rMF09ci5yLG9bbisxXT1yLmcsb1tuKzJdPXIuYixvW24rM109ci5hfSx0fSgpLG5lPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt2b2lkIDA9PT10JiYodD0uMSksdGhpcy5mYWN0b3I9dH1yZXR1cm4gdC5wcm90b3R5cGUudXBkYXRlUGl4ZWw9ZnVuY3Rpb24odCxlLGkpe3ZhciBuPTQqKHQrZSppLndpZHRoKSxvPWkuZGF0YSxyPUF0LmZyb21SR0Iob1tuKzBdLG9bbisxXSxvW24rMl0sb1tuKzNdKS5kYXJrZW4odGhpcy5mYWN0b3IpO29bbiswXT1yLnIsb1tuKzFdPXIuZyxvW24rMl09ci5iLG9bbiszXT1yLmF9LHR9KCksb2U9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3ZvaWQgMD09PXQmJih0PS4xKSx0aGlzLmZhY3Rvcj10fXJldHVybiB0LnByb3RvdHlwZS51cGRhdGVQaXhlbD1mdW5jdGlvbih0LGUsaSl7dmFyIG49NCoodCtlKmkud2lkdGgpLG89aS5kYXRhLHI9QXQuZnJvbVJHQihvW24rMF0sb1tuKzFdLG9bbisyXSxvW24rM10pLnNhdHVyYXRlKHRoaXMuZmFjdG9yKTtvW24rMF09ci5yLG9bbisxXT1yLmcsb1tuKzJdPXIuYixvW24rM109ci5hfSx0fSgpLHJlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt2b2lkIDA9PT10JiYodD0uMSksdGhpcy5mYWN0b3I9dH1yZXR1cm4gdC5wcm90b3R5cGUudXBkYXRlUGl4ZWw9ZnVuY3Rpb24odCxlLGkpe3ZhciBuPTQqKHQrZSppLndpZHRoKSxvPWkuZGF0YSxyPUF0LmZyb21SR0Iob1tuKzBdLG9bbisxXSxvW24rMl0sb1tuKzNdKS5kZXNhdHVyYXRlKHRoaXMuZmFjdG9yKTtvW24rMF09ci5yLG9bbisxXT1yLmcsb1tuKzJdPXIuYixvW24rM109ci5hfSx0fSgpLHNlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLmNvbG9yPXR9cmV0dXJuIHQucHJvdG90eXBlLnVwZGF0ZVBpeGVsPWZ1bmN0aW9uKHQsZSxpKXt2YXIgbj00Kih0K2UqaS53aWR0aCksbz1pLmRhdGE7MCE9PW9bbiszXSYmKG9bbiswXT10aGlzLmNvbG9yLnIsb1tuKzFdPXRoaXMuY29sb3IuZyxvW24rMl09dGhpcy5jb2xvci5iKX0sdH0oKSxhZT1mdW5jdGlvbigpe3ZhciB0PWZ1bmN0aW9uKGUsaSl7cmV0dXJuKHQ9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKHQsZSl7dC5fX3Byb3RvX189ZX18fGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShpKSYmKHRbaV09ZVtpXSl9KShlLGkpfTtyZXR1cm4gZnVuY3Rpb24oZSxpKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfXQoZSxpKSxlLnByb3RvdHlwZT1udWxsPT09aT9PYmplY3QuY3JlYXRlKGkpOihuLnByb3RvdHlwZT1pLnByb3RvdHlwZSxuZXcgbil9fSgpO2Z1bmN0aW9uIGhlKHQpe3JldHVybiBmdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7Zm9yKHZhciBlPVtdLGk9MDtpPGFyZ3VtZW50cy5sZW5ndGg7aSsrKWVbaV09YXJndW1lbnRzW2ldO3ZhciBuPXQuYXBwbHkodGhpcyxlKXx8dGhpcztyZXR1cm4gMSE9PWUuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDAhPT10fSkubGVuZ3RofHwhZVswXXx8XCJvYmplY3RcIiE9dHlwZW9mIGVbMF18fGVbMF1pbnN0YW5jZW9mIEFycmF5fHxuLmFzc2lnbihlWzBdKSxufXJldHVybiBhZShlLHQpLGUucHJvdG90eXBlLmFzc2lnbj1mdW5jdGlvbih0KXtmb3IodmFyIGUgaW4gdClcImZ1bmN0aW9uXCIhPXR5cGVvZiB0aGlzW2VdJiYodGhpc1tlXT10W2VdKX0sZX0odCl9dmFyIGNlLHVlPWZ1bmN0aW9uKCl7dmFyIHQ9ZnVuY3Rpb24oZSxpKXtyZXR1cm4odD1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24odCxlKXt0Ll9fcHJvdG9fXz1lfXx8ZnVuY3Rpb24odCxlKXtmb3IodmFyIGkgaW4gZSllLmhhc093blByb3BlcnR5KGkpJiYodFtpXT1lW2ldKX0pKGUsaSl9O3JldHVybiBmdW5jdGlvbihlLGkpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPWV9dChlLGkpLGUucHJvdG90eXBlPW51bGw9PT1pP09iamVjdC5jcmVhdGUoaSk6KG4ucHJvdG90eXBlPWkucHJvdG90eXBlLG5ldyBuKX19KCksbGU9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLGksbixvLHIpe3JldHVybiB0LmNhbGwodGhpcyxlLGksbixvLHIpfHx0aGlzfXJldHVybiB1ZShlLHQpLGV9KGhlKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsaSxuLG8pe3ZhciByPXRoaXM7dGhpcy54PTAsdGhpcy55PTAsdGhpcy5yb3RhdGlvbj0wLHRoaXMuYW5jaG9yPW5ldyBGKDAsMCksdGhpcy5zY2FsZT1uZXcgRigxLDEpLHRoaXMubG9nZ2VyPU50LmdldEluc3RhbmNlKCksdGhpcy5mbGlwVmVydGljYWw9ITEsdGhpcy5mbGlwSG9yaXpvbnRhbD0hMSx0aGlzLmVmZmVjdHM9W10sdGhpcy53aWR0aD0wLHRoaXMuaGVpZ2h0PTAsdGhpcy5fc3ByaXRlQ2FudmFzPW51bGwsdGhpcy5fc3ByaXRlQ3R4PW51bGwsdGhpcy5fcGl4ZWxEYXRhPW51bGwsdGhpcy5fcGl4ZWxzTG9hZGVkPSExLHRoaXMuX2RpcnR5RWZmZWN0PSExO3ZhciBzPXQ7aWYodCYmISh0IGluc3RhbmNlb2YgZGUpJiYoZT0wfHQueCxpPTB8dC55LG49MHx0LndpZHRoLG89MHx0LmhlaWdodCwhKHM9dC5pbWFnZSkpKXt0aHJvdyBuZXcgRXJyb3IoXCJBbiBpbWFnZSB0ZXh0dXJlIGlzIHJlcXVpcmVkIHRvIGNvbnRzcnVjdCBhIHNwcml0ZVwiKX10aGlzLng9ZXx8MCx0aGlzLnk9aXx8MCx0aGlzLl90ZXh0dXJlPXMsdGhpcy5fc3ByaXRlQ2FudmFzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIiksdGhpcy5fc3ByaXRlQ2FudmFzLndpZHRoPW4sdGhpcy5fc3ByaXRlQ2FudmFzLmhlaWdodD1vLHRoaXMuX3Nwcml0ZUN0eD10aGlzLl9zcHJpdGVDYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpLHRoaXMuX3RleHR1cmUubG9hZGVkLnRoZW4oZnVuY3Rpb24oKXtyLndpZHRoPXIud2lkdGh8fHIuX3RleHR1cmUuaW1hZ2UubmF0dXJhbFdpZHRoLHIuaGVpZ2h0PXIuaGVpZ2h0fHxyLl90ZXh0dXJlLmltYWdlLm5hdHVyYWxIZWlnaHQsci5fc3ByaXRlQ2FudmFzLndpZHRoPXIuX3Nwcml0ZUNhbnZhcy53aWR0aHx8ci5fdGV4dHVyZS5pbWFnZS5uYXR1cmFsV2lkdGgsci5fc3ByaXRlQ2FudmFzLmhlaWdodD1yLl9zcHJpdGVDYW52YXMuaGVpZ2h0fHxyLl90ZXh0dXJlLmltYWdlLm5hdHVyYWxIZWlnaHQsci5fbG9hZFBpeGVscygpLHIuX2RpcnR5RWZmZWN0PSEwfSkuZXJyb3IoZnVuY3Rpb24odCl7ci5sb2dnZXIuZXJyb3IoXCJFcnJvciBsb2FkaW5nIHRleHR1cmUgXCIsci5fdGV4dHVyZS5wYXRoLHQpfSksdGhpcy53aWR0aD1uLHRoaXMuaGVpZ2h0PW99cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImRyYXdXaWR0aFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53aWR0aCp0aGlzLnNjYWxlLnh9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiZHJhd0hlaWdodFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oZWlnaHQqdGhpcy5zY2FsZS55fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLl9sb2FkUGl4ZWxzPWZ1bmN0aW9uKCl7aWYodGhpcy5fdGV4dHVyZS5pc0xvYWRlZCgpJiYhdGhpcy5fcGl4ZWxzTG9hZGVkKXt2YXIgdD10aGlzLl90ZXh0dXJlLmltYWdlLm5hdHVyYWxXaWR0aHx8MCxlPXRoaXMuX3RleHR1cmUuaW1hZ2UubmF0dXJhbEhlaWdodHx8MDtpZih0aGlzLndpZHRoPnQmJnRoaXMubG9nZ2VyLndhcm4oXCJUaGUgc3ByaXRlIHdpZHRoIFwiK3RoaXMud2lkdGgrXCIgZXhjZWVkcyB0aGUgd2lkdGggXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIrdCtcIiBvZiB0aGUgYmFja2luZyB0ZXh0dXJlIFwiK3RoaXMuX3RleHR1cmUucGF0aCksdGhpcy53aWR0aDw9MHx8dDw9MCl0aHJvdyBuZXcgRXJyb3IoXCJUaGUgd2lkdGggb2YgYSBzcHJpdGUgY2Fubm90IGJlIDAgb3IgbmVnYXRpdmUsIHNwcml0ZSB3aWR0aDogXCIrdGhpcy53aWR0aCtcIiwgb3JpZ2luYWwgd2lkdGg6IFwiK3QpO2lmKHRoaXMuaGVpZ2h0PmUmJnRoaXMubG9nZ2VyLndhcm4oXCJUaGUgc3ByaXRlIGhlaWdodCBcIit0aGlzLmhlaWdodCtcIiBleGNlZWRzIHRoZSBoZWlnaHQgXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIrZStcIiBvZiB0aGUgYmFja2luZyB0ZXh0dXJlIFwiK3RoaXMuX3RleHR1cmUucGF0aCksdGhpcy5oZWlnaHQ8PTB8fGU8PTApdGhyb3cgbmV3IEVycm9yKFwiVGhlIGhlaWdodCBvZiBhIHNwcml0ZSBjYW5ub3QgYmUgMCBvciBuZWdhdGl2ZSwgc3ByaXRlIGhlaWdodDogXCIrdGhpcy5oZWlnaHQrXCIsIG9yaWdpbmFsIGhlaWdodDogXCIrZSk7dGhpcy5fc3ByaXRlQ3R4LmRyYXdJbWFnZSh0aGlzLl90ZXh0dXJlLmltYWdlLHYodGhpcy54LDAsdCksdih0aGlzLnksMCxlKSx2KHRoaXMud2lkdGgsMCx0KSx2KHRoaXMuaGVpZ2h0LDAsZSksMCwwLHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpLHRoaXMuX3BpeGVsc0xvYWRlZD0hMH19LHQucHJvdG90eXBlLm9wYWNpdHk9ZnVuY3Rpb24odCl7dGhpcy5hZGRFZmZlY3QobmV3IHRlKHQpKX0sdC5wcm90b3R5cGUuZ3JheXNjYWxlPWZ1bmN0aW9uKCl7dGhpcy5hZGRFZmZlY3QobmV3IEp0KX0sdC5wcm90b3R5cGUuaW52ZXJ0PWZ1bmN0aW9uKCl7dGhpcy5hZGRFZmZlY3QobmV3ICR0KX0sdC5wcm90b3R5cGUuZmlsbD1mdW5jdGlvbih0KXt0aGlzLmFkZEVmZmVjdChuZXcgc2UodCkpfSx0LnByb3RvdHlwZS5jb2xvcml6ZT1mdW5jdGlvbih0KXt0aGlzLmFkZEVmZmVjdChuZXcgZWUodCkpfSx0LnByb3RvdHlwZS5saWdodGVuPWZ1bmN0aW9uKHQpe3ZvaWQgMD09PXQmJih0PS4xKSx0aGlzLmFkZEVmZmVjdChuZXcgaWUodCkpfSx0LnByb3RvdHlwZS5kYXJrZW49ZnVuY3Rpb24odCl7dm9pZCAwPT09dCYmKHQ9LjEpLHRoaXMuYWRkRWZmZWN0KG5ldyBuZSh0KSl9LHQucHJvdG90eXBlLnNhdHVyYXRlPWZ1bmN0aW9uKHQpe3ZvaWQgMD09PXQmJih0PS4xKSx0aGlzLmFkZEVmZmVjdChuZXcgb2UodCkpfSx0LnByb3RvdHlwZS5kZXNhdHVyYXRlPWZ1bmN0aW9uKHQpe3ZvaWQgMD09PXQmJih0PS4xKSx0aGlzLmFkZEVmZmVjdChuZXcgcmUodCkpfSx0LnByb3RvdHlwZS5hZGRFZmZlY3Q9ZnVuY3Rpb24odCl7dGhpcy5lZmZlY3RzLnB1c2godCksdGhpcy5fdGV4dHVyZS5pc0xvYWRlZCgpJiZ0aGlzLl9waXhlbHNMb2FkZWQ/dGhpcy5fYXBwbHlFZmZlY3RzKCk6dGhpcy5fZGlydHlFZmZlY3Q9ITB9LHQucHJvdG90eXBlLnJlbW92ZUVmZmVjdD1mdW5jdGlvbih0KXt2YXIgZT0tMTsoZT1cIm51bWJlclwiPT10eXBlb2YgdD90OnRoaXMuZWZmZWN0cy5pbmRleE9mKHQpKTwwfHxlPj10aGlzLmVmZmVjdHMubGVuZ3RofHwodGhpcy5lZmZlY3RzLnNwbGljZShlLDEpLHRoaXMuX3RleHR1cmUuaXNMb2FkZWQoKSYmdGhpcy5fcGl4ZWxzTG9hZGVkP3RoaXMuX2FwcGx5RWZmZWN0cygpOnRoaXMuX2RpcnR5RWZmZWN0PSEwKX0sdC5wcm90b3R5cGUuX2FwcGx5RWZmZWN0cz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX3RleHR1cmUuaW1hZ2UubmF0dXJhbFdpZHRofHwwLGU9dGhpcy5fdGV4dHVyZS5pbWFnZS5uYXR1cmFsSGVpZ2h0fHwwO3RoaXMuX3Nwcml0ZUN0eC5jbGVhclJlY3QoMCwwLHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpLHRoaXMuX3Nwcml0ZUN0eC5kcmF3SW1hZ2UodGhpcy5fdGV4dHVyZS5pbWFnZSx2KHRoaXMueCwwLHQpLHYodGhpcy55LDAsZSksdih0aGlzLndpZHRoLDAsdCksdih0aGlzLmhlaWdodCwwLGUpLDAsMCx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KSx0aGlzLl9waXhlbERhdGE9dGhpcy5fc3ByaXRlQ3R4LmdldEltYWdlRGF0YSgwLDAsdGhpcy53aWR0aCx0aGlzLmhlaWdodCk7Zm9yKHZhciBpPXRoaXMuZWZmZWN0cy5sZW5ndGgsbj0wO248aTtuKyspZm9yKHZhciBvPTA7bzx0aGlzLmhlaWdodDtvKyspZm9yKHZhciByPTA7cjx0aGlzLndpZHRoO3IrKyl0aGlzLmVmZmVjdHNbbl0udXBkYXRlUGl4ZWwocixvLHRoaXMuX3BpeGVsRGF0YSk7dGhpcy5fc3ByaXRlQ3R4LmNsZWFyUmVjdCgwLDAsdGhpcy53aWR0aCx0aGlzLmhlaWdodCksdGhpcy5fc3ByaXRlQ3R4LnB1dEltYWdlRGF0YSh0aGlzLl9waXhlbERhdGEsMCwwKSx0aGlzLl9kaXJ0eUVmZmVjdD0hMX0sdC5wcm90b3R5cGUuY2xlYXJFZmZlY3RzPWZ1bmN0aW9uKCl7dGhpcy5lZmZlY3RzLmxlbmd0aD0wLHRoaXMuX2FwcGx5RWZmZWN0cygpfSx0LnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe30sdC5wcm90b3R5cGUuZGVidWdEcmF3PWZ1bmN0aW9uKHQsZSxpKXt0LnNhdmUoKSx0LnRyYW5zbGF0ZShlLGkpLHQucm90YXRlKHRoaXMucm90YXRpb24pO3ZhciBuPXRoaXMuZHJhd1dpZHRoKnRoaXMuYW5jaG9yLngsbz10aGlzLmRyYXdIZWlnaHQqdGhpcy5hbmNob3IueTt0LnN0cm9rZVN0eWxlPUF0LkJsYWNrLnRvU3RyaW5nKCksdC5zdHJva2VSZWN0KC1uLC1vLHRoaXMuZHJhd1dpZHRoLHRoaXMuZHJhd0hlaWdodCksdC5yZXN0b3JlKCl9LHQucHJvdG90eXBlLmRyYXc9ZnVuY3Rpb24odCxlLGkpe3RoaXMuX2RpcnR5RWZmZWN0JiZ0aGlzLl9hcHBseUVmZmVjdHMoKSx0LnNhdmUoKTt2YXIgbj10aGlzLmRyYXdXaWR0aCp0aGlzLmFuY2hvci54LG89dGhpcy5kcmF3SGVpZ2h0KnRoaXMuYW5jaG9yLnk7dC50cmFuc2xhdGUoZSxpKSx0LnJvdGF0ZSh0aGlzLnJvdGF0aW9uKSx0aGlzLmZsaXBIb3Jpem9udGFsJiYodC50cmFuc2xhdGUodGhpcy5kcmF3V2lkdGgsMCksdC5zY2FsZSgtMSwxKSksdGhpcy5mbGlwVmVydGljYWwmJih0LnRyYW5zbGF0ZSgwLHRoaXMuZHJhd0hlaWdodCksdC5zY2FsZSgxLC0xKSksdC5kcmF3SW1hZ2UodGhpcy5fc3ByaXRlQ2FudmFzLDAsMCx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0LC1uLC1vLHRoaXMuZHJhd1dpZHRoLHRoaXMuZHJhd0hlaWdodCksdC5yZXN0b3JlKCl9LHQucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIHQ9bmV3IGxlKHRoaXMuX3RleHR1cmUsdGhpcy54LHRoaXMueSx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KTt0LnNjYWxlPXRoaXMuc2NhbGUuY2xvbmUoKSx0LnJvdGF0aW9uPXRoaXMucm90YXRpb24sdC5mbGlwSG9yaXpvbnRhbD10aGlzLmZsaXBIb3Jpem9udGFsLHQuZmxpcFZlcnRpY2FsPXRoaXMuZmxpcFZlcnRpY2FsO2Zvcih2YXIgZT10aGlzLmVmZmVjdHMubGVuZ3RoLGk9MDtpPGU7aSsrKXQuYWRkRWZmZWN0KHRoaXMuZWZmZWN0c1tpXSk7cmV0dXJuIHR9LHR9KCkpKSxwZT1mdW5jdGlvbigpe3ZhciB0PWZ1bmN0aW9uKGUsaSl7cmV0dXJuKHQ9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKHQsZSl7dC5fX3Byb3RvX189ZX18fGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShpKSYmKHRbaV09ZVtpXSl9KShlLGkpfTtyZXR1cm4gZnVuY3Rpb24oZSxpKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfXQoZSxpKSxlLnByb3RvdHlwZT1udWxsPT09aT9PYmplY3QuY3JlYXRlKGkpOihuLnByb3RvdHlwZT1pLnByb3RvdHlwZSxuZXcgbil9fSgpLGRlPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxpKXt2b2lkIDA9PT1pJiYoaT0hMCk7dmFyIG49dC5jYWxsKHRoaXMsZSxcImJsb2JcIixpKXx8dGhpcztyZXR1cm4gbi5wYXRoPWUsbi5idXN0Q2FjaGU9aSxuLmxvYWRlZD1uZXcgZCxuLl9pc0xvYWRlZD0hMSxuLl9zcHJpdGU9bnVsbCxuLl9zcHJpdGU9bmV3IGxlKG4sMCwwLDAsMCksbn1yZXR1cm4gcGUoZSx0KSxlLnByb3RvdHlwZS5pc0xvYWRlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc0xvYWRlZH0sZS5wcm90b3R5cGUubG9hZD1mdW5jdGlvbigpe3ZhciBlPXRoaXMsaT1uZXcgZDt0aGlzLnBhdGguaW5kZXhPZihcImRhdGE6aW1hZ2UvXCIpPi0xPyh0aGlzLmltYWdlPW5ldyBJbWFnZSx0aGlzLmltYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsZnVuY3Rpb24oKXtlLndpZHRoPWUuX3Nwcml0ZS53aWR0aD1lLmltYWdlLm5hdHVyYWxXaWR0aCxlLmhlaWdodD1lLl9zcHJpdGUuaGVpZ2h0PWUuaW1hZ2UubmF0dXJhbEhlaWdodCxlLl9zcHJpdGU9bmV3IGxlKGUsMCwwLGUud2lkdGgsZS5oZWlnaHQpLGUubG9hZGVkLnJlc29sdmUoZS5pbWFnZSksaS5yZXNvbHZlKGUuaW1hZ2UpfSksdGhpcy5pbWFnZS5zcmM9dGhpcy5wYXRoKTp0LnByb3RvdHlwZS5sb2FkLmNhbGwodGhpcykudGhlbihmdW5jdGlvbigpe2UuaW1hZ2U9bmV3IEltYWdlLGUuaW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIixmdW5jdGlvbigpe2UuX2lzTG9hZGVkPSEwLGUud2lkdGg9ZS5fc3ByaXRlLndpZHRoPWUuaW1hZ2UubmF0dXJhbFdpZHRoLGUuaGVpZ2h0PWUuX3Nwcml0ZS5oZWlnaHQ9ZS5pbWFnZS5uYXR1cmFsSGVpZ2h0LGUubG9hZGVkLnJlc29sdmUoZS5pbWFnZSksaS5yZXNvbHZlKGUuaW1hZ2UpfSksZS5pbWFnZS5zcmM9dC5wcm90b3R5cGUuZ2V0RGF0YS5jYWxsKGUpfSxmdW5jdGlvbigpe2kucmVqZWN0KFwiRXJyb3IgbG9hZGluZyB0ZXh0dXJlLlwiKX0pO3JldHVybiBpfSxlLnByb3RvdHlwZS5hc1Nwcml0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zcHJpdGV9LGV9KFF0KTshZnVuY3Rpb24odCl7dFt0LlNob3J0ZXN0UGF0aD0wXT1cIlNob3J0ZXN0UGF0aFwiLHRbdC5Mb25nZXN0UGF0aD0xXT1cIkxvbmdlc3RQYXRoXCIsdFt0LkNsb2Nrd2lzZT0yXT1cIkNsb2Nrd2lzZVwiLHRbdC5Db3VudGVyQ2xvY2t3aXNlPTNdPVwiQ291bnRlckNsb2Nrd2lzZVwifShjZXx8KGNlPXt9KSk7dmFyIGZlPWZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBvLHI9YXJndW1lbnRzLmxlbmd0aCxzPXI8Mz9lOm51bGw9PT1uP249T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLGkpOm47aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUpcz1SZWZsZWN0LmRlY29yYXRlKHQsZSxpLG4pO2Vsc2UgZm9yKHZhciBhPXQubGVuZ3RoLTE7YT49MDthLS0pKG89dFthXSkmJihzPShyPDM/byhzKTpyPjM/byhlLGkscyk6byhlLGkpKXx8cyk7cmV0dXJuIHI+MyYmcyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaSxzKSxzfSxnZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLGksbixvKXt0aGlzLmFjdG9yPXQsdGhpcy5lYXNpbmdGY249byx0aGlzLl9jdXJyZW50TGVycFRpbWU9MCx0aGlzLl9sZXJwRHVyYXRpb249MWUzLHRoaXMuX2xlcnBTdGFydD1uZXcgRigwLDApLHRoaXMuX2xlcnBFbmQ9bmV3IEYoMCwwKSx0aGlzLl9pbml0aWFsaXplZD0hMSx0aGlzLl9zdG9wcGVkPSExLHRoaXMuX2Rpc3RhbmNlPTAsdGhpcy5fbGVycER1cmF0aW9uPW4sdGhpcy5fbGVycEVuZD1uZXcgRihlLGkpfXJldHVybiB0LnByb3RvdHlwZS5faW5pdGlhbGl6ZT1mdW5jdGlvbigpe3RoaXMuX2xlcnBTdGFydD1uZXcgRih0aGlzLmFjdG9yLnBvcy54LHRoaXMuYWN0b3IucG9zLnkpLHRoaXMuX2N1cnJlbnRMZXJwVGltZT0wLHRoaXMuX2Rpc3RhbmNlPXRoaXMuX2xlcnBTdGFydC5kaXN0YW5jZSh0aGlzLl9sZXJwRW5kKX0sdC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQpe3RoaXMuX2luaXRpYWxpemVkfHwodGhpcy5faW5pdGlhbGl6ZSgpLHRoaXMuX2luaXRpYWxpemVkPSEwKTt2YXIgZT10aGlzLmFjdG9yLnBvcy54LGk9dGhpcy5hY3Rvci5wb3MueTt0aGlzLl9jdXJyZW50TGVycFRpbWU8dGhpcy5fbGVycER1cmF0aW9uPyhlPXRoaXMuX2xlcnBFbmQueDx0aGlzLl9sZXJwU3RhcnQueD90aGlzLl9sZXJwU3RhcnQueC0odGhpcy5lYXNpbmdGY24odGhpcy5fY3VycmVudExlcnBUaW1lLHRoaXMuX2xlcnBFbmQueCx0aGlzLl9sZXJwU3RhcnQueCx0aGlzLl9sZXJwRHVyYXRpb24pLXRoaXMuX2xlcnBFbmQueCk6dGhpcy5lYXNpbmdGY24odGhpcy5fY3VycmVudExlcnBUaW1lLHRoaXMuX2xlcnBTdGFydC54LHRoaXMuX2xlcnBFbmQueCx0aGlzLl9sZXJwRHVyYXRpb24pLGk9dGhpcy5fbGVycEVuZC55PHRoaXMuX2xlcnBTdGFydC55P3RoaXMuX2xlcnBTdGFydC55LSh0aGlzLmVhc2luZ0Zjbih0aGlzLl9jdXJyZW50TGVycFRpbWUsdGhpcy5fbGVycEVuZC55LHRoaXMuX2xlcnBTdGFydC55LHRoaXMuX2xlcnBEdXJhdGlvbiktdGhpcy5fbGVycEVuZC55KTp0aGlzLmVhc2luZ0Zjbih0aGlzLl9jdXJyZW50TGVycFRpbWUsdGhpcy5fbGVycFN0YXJ0LnksdGhpcy5fbGVycEVuZC55LHRoaXMuX2xlcnBEdXJhdGlvbiksdGhpcy5hY3Rvci5wb3MueD1lLHRoaXMuYWN0b3IucG9zLnk9aSx0aGlzLl9jdXJyZW50TGVycFRpbWUrPXQpOih0aGlzLmFjdG9yLnBvcy54PXRoaXMuX2xlcnBFbmQueCx0aGlzLmFjdG9yLnBvcy55PXRoaXMuX2xlcnBFbmQueSl9LHQucHJvdG90eXBlLmlzQ29tcGxldGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3N0b3BwZWR8fG5ldyBGKHQucG9zLngsdC5wb3MueSkuZGlzdGFuY2UodGhpcy5fbGVycFN0YXJ0KT49dGhpcy5fZGlzdGFuY2V9LHQucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5faW5pdGlhbGl6ZWQ9ITF9LHQucHJvdG90eXBlLnN0b3A9ZnVuY3Rpb24oKXt0aGlzLl9zdG9wcGVkPSEwfSx0fSgpLHllPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsaSxuKXt0aGlzLl9zdGFydGVkPSExLHRoaXMuX3N0b3BwZWQ9ITEsdGhpcy5fYWN0b3I9dCx0aGlzLl9lbmQ9bmV3IEYoZSxpKSx0aGlzLl9zcGVlZD1ufXJldHVybiB0LnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCl7dGhpcy5fc3RhcnRlZHx8KHRoaXMuX3N0YXJ0ZWQ9ITAsdGhpcy5fc3RhcnQ9bmV3IEYodGhpcy5fYWN0b3IucG9zLngsdGhpcy5fYWN0b3IucG9zLnkpLHRoaXMuX2Rpc3RhbmNlPXRoaXMuX3N0YXJ0LmRpc3RhbmNlKHRoaXMuX2VuZCksdGhpcy5fZGlyPXRoaXMuX2VuZC5zdWIodGhpcy5fc3RhcnQpLm5vcm1hbGl6ZSgpKTt2YXIgZT10aGlzLl9kaXIuc2NhbGUodGhpcy5fc3BlZWQpO3RoaXMuX2FjdG9yLnZlbC54PWUueCx0aGlzLl9hY3Rvci52ZWwueT1lLnksdGhpcy5pc0NvbXBsZXRlKHRoaXMuX2FjdG9yKSYmKHRoaXMuX2FjdG9yLnBvcy54PXRoaXMuX2VuZC54LHRoaXMuX2FjdG9yLnBvcy55PXRoaXMuX2VuZC55LHRoaXMuX2FjdG9yLnZlbC55PTAsdGhpcy5fYWN0b3IudmVsLng9MCl9LHQucHJvdG90eXBlLmlzQ29tcGxldGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3N0b3BwZWR8fG5ldyBGKHQucG9zLngsdC5wb3MueSkuZGlzdGFuY2UodGhpcy5fc3RhcnQpPj10aGlzLl9kaXN0YW5jZX0sdC5wcm90b3R5cGUuc3RvcD1mdW5jdGlvbigpe3RoaXMuX2FjdG9yLnZlbC55PTAsdGhpcy5fYWN0b3IudmVsLng9MCx0aGlzLl9zdG9wcGVkPSEwfSx0LnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuX3N0YXJ0ZWQ9ITF9LHR9KCksX2U9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxpLG4pe2lmKHRoaXMuX3N0YXJ0ZWQ9ITEsdGhpcy5fc3RvcHBlZD0hMSx0aGlzLl9hY3Rvcj10LHRoaXMuX3NwZWVkPW4sdGhpcy5fb2Zmc2V0PW5ldyBGKGUsaSksbjw9MCl0aHJvdyBOdC5nZXRJbnN0YW5jZSgpLmVycm9yKFwiQXR0ZW1wdGVkIHRvIG1vdmVCeSB3aXRoIHNwZWVkIGxlc3MgdGhhbiBvciBlcXVhbCB0byB6ZXJvIDogXCIrbiksbmV3IEVycm9yKFwiU3BlZWQgbXVzdCBiZSBncmVhdGVyIHRoYW4gMCBwaXhlbHMgcGVyIHNlY29uZFwiKX1yZXR1cm4gdC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQpe3RoaXMuX3N0YXJ0ZWR8fCh0aGlzLl9zdGFydGVkPSEwLHRoaXMuX3N0YXJ0PW5ldyBGKHRoaXMuX2FjdG9yLnBvcy54LHRoaXMuX2FjdG9yLnBvcy55KSx0aGlzLl9lbmQ9dGhpcy5fc3RhcnQuYWRkKHRoaXMuX29mZnNldCksdGhpcy5fZGlzdGFuY2U9dGhpcy5fb2Zmc2V0Lm1hZ25pdHVkZSgpLHRoaXMuX2Rpcj10aGlzLl9lbmQuc3ViKHRoaXMuX3N0YXJ0KS5ub3JtYWxpemUoKSksdGhpcy5fYWN0b3IudmVsPXRoaXMuX2Rpci5zY2FsZSh0aGlzLl9zcGVlZCksdGhpcy5pc0NvbXBsZXRlKHRoaXMuX2FjdG9yKSYmKHRoaXMuX2FjdG9yLnBvcy54PXRoaXMuX2VuZC54LHRoaXMuX2FjdG9yLnBvcy55PXRoaXMuX2VuZC55LHRoaXMuX2FjdG9yLnZlbC55PTAsdGhpcy5fYWN0b3IudmVsLng9MCl9LHQucHJvdG90eXBlLmlzQ29tcGxldGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3N0b3BwZWR8fHQucG9zLmRpc3RhbmNlKHRoaXMuX3N0YXJ0KT49dGhpcy5fZGlzdGFuY2V9LHQucHJvdG90eXBlLnN0b3A9ZnVuY3Rpb24oKXt0aGlzLl9hY3Rvci52ZWwueT0wLHRoaXMuX2FjdG9yLnZlbC54PTAsdGhpcy5fc3RvcHBlZD0hMH0sdC5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLl9zdGFydGVkPSExfSx0fSgpLHZlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsaSl7dGhpcy5fc3RhcnRlZD0hMSx0aGlzLl9zdG9wcGVkPSExLHRoaXMuX2FjdG9yPXQsdGhpcy5fYWN0b3JUb0ZvbGxvdz1lLHRoaXMuX2N1cnJlbnQ9bmV3IEYodGhpcy5fYWN0b3IucG9zLngsdGhpcy5fYWN0b3IucG9zLnkpLHRoaXMuX2VuZD1uZXcgRihlLnBvcy54LGUucG9zLnkpLHRoaXMuX21heGltdW1EaXN0YW5jZT12b2lkIDAhPT1pP2k6dGhpcy5fY3VycmVudC5kaXN0YW5jZSh0aGlzLl9lbmQpLHRoaXMuX3NwZWVkPTB9cmV0dXJuIHQucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0KXt0aGlzLl9zdGFydGVkfHwodGhpcy5fc3RhcnRlZD0hMCx0aGlzLl9kaXN0YW5jZUJldHdlZW49dGhpcy5fY3VycmVudC5kaXN0YW5jZSh0aGlzLl9lbmQpLHRoaXMuX2Rpcj10aGlzLl9lbmQuc3ViKHRoaXMuX2N1cnJlbnQpLm5vcm1hbGl6ZSgpKTt2YXIgZT1NYXRoLnNxcnQoTWF0aC5wb3codGhpcy5fYWN0b3JUb0ZvbGxvdy52ZWwueCwyKStNYXRoLnBvdyh0aGlzLl9hY3RvclRvRm9sbG93LnZlbC55LDIpKTtpZigwIT09ZSYmKHRoaXMuX3NwZWVkPWUpLHRoaXMuX2N1cnJlbnQueD10aGlzLl9hY3Rvci5wb3MueCx0aGlzLl9jdXJyZW50Lnk9dGhpcy5fYWN0b3IucG9zLnksdGhpcy5fZW5kLng9dGhpcy5fYWN0b3JUb0ZvbGxvdy5wb3MueCx0aGlzLl9lbmQueT10aGlzLl9hY3RvclRvRm9sbG93LnBvcy55LHRoaXMuX2Rpc3RhbmNlQmV0d2Vlbj10aGlzLl9jdXJyZW50LmRpc3RhbmNlKHRoaXMuX2VuZCksdGhpcy5fZGlyPXRoaXMuX2VuZC5zdWIodGhpcy5fY3VycmVudCkubm9ybWFsaXplKCksdGhpcy5fZGlzdGFuY2VCZXR3ZWVuPj10aGlzLl9tYXhpbXVtRGlzdGFuY2Upe3ZhciBpPXRoaXMuX2Rpci5zY2FsZSh0aGlzLl9zcGVlZCk7dGhpcy5fYWN0b3IudmVsLng9aS54LHRoaXMuX2FjdG9yLnZlbC55PWkueX1lbHNlIHRoaXMuX2FjdG9yLnZlbC54PTAsdGhpcy5fYWN0b3IudmVsLnk9MDt0aGlzLmlzQ29tcGxldGUoKSYmKHRoaXMuX2FjdG9yLnBvcy54PXRoaXMuX2VuZC54LHRoaXMuX2FjdG9yLnBvcy55PXRoaXMuX2VuZC55LHRoaXMuX2FjdG9yLnZlbC55PTAsdGhpcy5fYWN0b3IudmVsLng9MCl9LHQucHJvdG90eXBlLnN0b3A9ZnVuY3Rpb24oKXt0aGlzLl9hY3Rvci52ZWwueT0wLHRoaXMuX2FjdG9yLnZlbC54PTAsdGhpcy5fc3RvcHBlZD0hMH0sdC5wcm90b3R5cGUuaXNDb21wbGV0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdG9wcGVkfSx0LnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuX3N0YXJ0ZWQ9ITF9LHR9KCksbWU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxpKXt0aGlzLl9zdGFydGVkPSExLHRoaXMuX3N0b3BwZWQ9ITEsdGhpcy5fc3BlZWRXYXNTcGVjaWZpZWQ9ITEsdGhpcy5fYWN0b3I9dCx0aGlzLl9hY3RvclRvTWVldD1lLHRoaXMuX2N1cnJlbnQ9bmV3IEYodGhpcy5fYWN0b3IucG9zLngsdGhpcy5fYWN0b3IucG9zLnkpLHRoaXMuX2VuZD1uZXcgRihlLnBvcy54LGUucG9zLnkpLHRoaXMuX3NwZWVkPWl8fDAsdm9pZCAwIT09aSYmKHRoaXMuX3NwZWVkV2FzU3BlY2lmaWVkPSEwKX1yZXR1cm4gdC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQpe3RoaXMuX3N0YXJ0ZWR8fCh0aGlzLl9zdGFydGVkPSEwLHRoaXMuX2Rpc3RhbmNlQmV0d2Vlbj10aGlzLl9jdXJyZW50LmRpc3RhbmNlKHRoaXMuX2VuZCksdGhpcy5fZGlyPXRoaXMuX2VuZC5zdWIodGhpcy5fY3VycmVudCkubm9ybWFsaXplKCkpO3ZhciBlPU1hdGguc3FydChNYXRoLnBvdyh0aGlzLl9hY3RvclRvTWVldC52ZWwueCwyKStNYXRoLnBvdyh0aGlzLl9hY3RvclRvTWVldC52ZWwueSwyKSk7MD09PWV8fHRoaXMuX3NwZWVkV2FzU3BlY2lmaWVkfHwodGhpcy5fc3BlZWQ9ZSksdGhpcy5fY3VycmVudC54PXRoaXMuX2FjdG9yLnBvcy54LHRoaXMuX2N1cnJlbnQueT10aGlzLl9hY3Rvci5wb3MueSx0aGlzLl9lbmQueD10aGlzLl9hY3RvclRvTWVldC5wb3MueCx0aGlzLl9lbmQueT10aGlzLl9hY3RvclRvTWVldC5wb3MueSx0aGlzLl9kaXN0YW5jZUJldHdlZW49dGhpcy5fY3VycmVudC5kaXN0YW5jZSh0aGlzLl9lbmQpLHRoaXMuX2Rpcj10aGlzLl9lbmQuc3ViKHRoaXMuX2N1cnJlbnQpLm5vcm1hbGl6ZSgpO3ZhciBpPXRoaXMuX2Rpci5zY2FsZSh0aGlzLl9zcGVlZCk7dGhpcy5fYWN0b3IudmVsLng9aS54LHRoaXMuX2FjdG9yLnZlbC55PWkueSx0aGlzLmlzQ29tcGxldGUoKSYmKHRoaXMuX2FjdG9yLnBvcy54PXRoaXMuX2VuZC54LHRoaXMuX2FjdG9yLnBvcy55PXRoaXMuX2VuZC55LHRoaXMuX2FjdG9yLnZlbC55PTAsdGhpcy5fYWN0b3IudmVsLng9MCl9LHQucHJvdG90eXBlLmlzQ29tcGxldGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RvcHBlZHx8dGhpcy5fZGlzdGFuY2VCZXR3ZWVuPD0xfSx0LnByb3RvdHlwZS5zdG9wPWZ1bmN0aW9uKCl7dGhpcy5fYWN0b3IudmVsLnk9MCx0aGlzLl9hY3Rvci52ZWwueD0wLHRoaXMuX3N0b3BwZWQ9ITB9LHQucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5fc3RhcnRlZD0hMX0sdH0oKSxiZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLGksbil7dGhpcy5fc3RhcnRlZD0hMSx0aGlzLl9zdG9wcGVkPSExLHRoaXMuX2FjdG9yPXQsdGhpcy5fZW5kPWUsdGhpcy5fc3BlZWQ9aSx0aGlzLl9yb3RhdGlvblR5cGU9bnx8Y2UuU2hvcnRlc3RQYXRofXJldHVybiB0LnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCl7aWYoIXRoaXMuX3N0YXJ0ZWQpe3RoaXMuX3N0YXJ0ZWQ9ITAsdGhpcy5fc3RhcnQ9dGhpcy5fYWN0b3Iucm90YXRpb247dmFyIGU9TWF0aC5hYnModGhpcy5fZW5kLXRoaXMuX3N0YXJ0KSxpPWctZTtzd2l0Y2goZT5pPyh0aGlzLl9zaG9ydERpc3RhbmNlPWksdGhpcy5fbG9uZ0Rpc3RhbmNlPWUpOih0aGlzLl9zaG9ydERpc3RhbmNlPWUsdGhpcy5fbG9uZ0Rpc3RhbmNlPWkpLHRoaXMuX3Nob3J0ZXN0UGF0aElzUG9zaXRpdmU9KHRoaXMuX3N0YXJ0LXRoaXMuX2VuZCtnKSVnPj1NYXRoLlBJLHRoaXMuX3JvdGF0aW9uVHlwZSl7Y2FzZSBjZS5TaG9ydGVzdFBhdGg6dGhpcy5fZGlzdGFuY2U9dGhpcy5fc2hvcnREaXN0YW5jZSx0aGlzLl9zaG9ydGVzdFBhdGhJc1Bvc2l0aXZlP3RoaXMuX2RpcmVjdGlvbj0xOnRoaXMuX2RpcmVjdGlvbj0tMTticmVhaztjYXNlIGNlLkxvbmdlc3RQYXRoOnRoaXMuX2Rpc3RhbmNlPXRoaXMuX2xvbmdEaXN0YW5jZSx0aGlzLl9zaG9ydGVzdFBhdGhJc1Bvc2l0aXZlP3RoaXMuX2RpcmVjdGlvbj0tMTp0aGlzLl9kaXJlY3Rpb249MTticmVhaztjYXNlIGNlLkNsb2Nrd2lzZTp0aGlzLl9kaXJlY3Rpb249MSx0aGlzLl9zaG9ydGVzdFBhdGhJc1Bvc2l0aXZlP3RoaXMuX2Rpc3RhbmNlPXRoaXMuX3Nob3J0RGlzdGFuY2U6dGhpcy5fZGlzdGFuY2U9dGhpcy5fbG9uZ0Rpc3RhbmNlO2JyZWFrO2Nhc2UgY2UuQ291bnRlckNsb2Nrd2lzZTp0aGlzLl9kaXJlY3Rpb249LTEsdGhpcy5fc2hvcnRlc3RQYXRoSXNQb3NpdGl2ZT90aGlzLl9kaXN0YW5jZT10aGlzLl9sb25nRGlzdGFuY2U6dGhpcy5fZGlzdGFuY2U9dGhpcy5fc2hvcnREaXN0YW5jZX19dGhpcy5fYWN0b3Iucng9dGhpcy5fZGlyZWN0aW9uKnRoaXMuX3NwZWVkLHRoaXMuaXNDb21wbGV0ZSgpJiYodGhpcy5fYWN0b3Iucm90YXRpb249dGhpcy5fZW5kLHRoaXMuX2FjdG9yLnJ4PTAsdGhpcy5fc3RvcHBlZD0hMCl9LHQucHJvdG90eXBlLmlzQ29tcGxldGU9ZnVuY3Rpb24oKXt2YXIgdD1NYXRoLmFicyh0aGlzLl9hY3Rvci5yb3RhdGlvbi10aGlzLl9zdGFydCk7cmV0dXJuIHRoaXMuX3N0b3BwZWR8fHQ+PU1hdGguYWJzKHRoaXMuX2Rpc3RhbmNlKX0sdC5wcm90b3R5cGUuc3RvcD1mdW5jdGlvbigpe3RoaXMuX2FjdG9yLnJ4PTAsdGhpcy5fc3RvcHBlZD0hMH0sdC5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLl9zdGFydGVkPSExfSx0fSgpLHdlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsaSxuKXt0aGlzLl9zdGFydGVkPSExLHRoaXMuX3N0b3BwZWQ9ITEsdGhpcy5fYWN0b3I9dCx0aGlzLl9zcGVlZD1pLHRoaXMuX29mZnNldD1lLHRoaXMuX3JvdGF0aW9uVHlwZT1ufHxjZS5TaG9ydGVzdFBhdGh9cmV0dXJuIHQucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0KXtpZighdGhpcy5fc3RhcnRlZCl7dGhpcy5fc3RhcnRlZD0hMCx0aGlzLl9zdGFydD10aGlzLl9hY3Rvci5yb3RhdGlvbix0aGlzLl9lbmQ9dGhpcy5fc3RhcnQrdGhpcy5fb2Zmc2V0O3ZhciBlPU1hdGguYWJzKHRoaXMuX2VuZC10aGlzLl9zdGFydCksaT1nLWU7c3dpdGNoKGU+aT8odGhpcy5fc2hvcnREaXN0YW5jZT1pLHRoaXMuX2xvbmdEaXN0YW5jZT1lKToodGhpcy5fc2hvcnREaXN0YW5jZT1lLHRoaXMuX2xvbmdEaXN0YW5jZT1pKSx0aGlzLl9zaG9ydGVzdFBhdGhJc1Bvc2l0aXZlPSh0aGlzLl9zdGFydC10aGlzLl9lbmQrZyklZz49TWF0aC5QSSx0aGlzLl9yb3RhdGlvblR5cGUpe2Nhc2UgY2UuU2hvcnRlc3RQYXRoOnRoaXMuX2Rpc3RhbmNlPXRoaXMuX3Nob3J0RGlzdGFuY2UsdGhpcy5fc2hvcnRlc3RQYXRoSXNQb3NpdGl2ZT90aGlzLl9kaXJlY3Rpb249MTp0aGlzLl9kaXJlY3Rpb249LTE7YnJlYWs7Y2FzZSBjZS5Mb25nZXN0UGF0aDp0aGlzLl9kaXN0YW5jZT10aGlzLl9sb25nRGlzdGFuY2UsdGhpcy5fc2hvcnRlc3RQYXRoSXNQb3NpdGl2ZT90aGlzLl9kaXJlY3Rpb249LTE6dGhpcy5fZGlyZWN0aW9uPTE7YnJlYWs7Y2FzZSBjZS5DbG9ja3dpc2U6dGhpcy5fZGlyZWN0aW9uPTEsdGhpcy5fc2hvcnREaXN0YW5jZT49MD90aGlzLl9kaXN0YW5jZT10aGlzLl9zaG9ydERpc3RhbmNlOnRoaXMuX2Rpc3RhbmNlPXRoaXMuX2xvbmdEaXN0YW5jZTticmVhaztjYXNlIGNlLkNvdW50ZXJDbG9ja3dpc2U6dGhpcy5fZGlyZWN0aW9uPS0xLHRoaXMuX3Nob3J0RGlzdGFuY2U8PTA/dGhpcy5fZGlzdGFuY2U9dGhpcy5fc2hvcnREaXN0YW5jZTp0aGlzLl9kaXN0YW5jZT10aGlzLl9sb25nRGlzdGFuY2V9fXRoaXMuX2FjdG9yLnJ4PXRoaXMuX2RpcmVjdGlvbip0aGlzLl9zcGVlZCx0aGlzLmlzQ29tcGxldGUoKSYmKHRoaXMuX2FjdG9yLnJvdGF0aW9uPXRoaXMuX2VuZCx0aGlzLl9hY3Rvci5yeD0wLHRoaXMuX3N0b3BwZWQ9ITApfSx0LnByb3RvdHlwZS5pc0NvbXBsZXRlPWZ1bmN0aW9uKCl7dmFyIHQ9TWF0aC5hYnModGhpcy5fYWN0b3Iucm90YXRpb24tdGhpcy5fc3RhcnQpO3JldHVybiB0aGlzLl9zdG9wcGVkfHx0Pj1NYXRoLmFicyh0aGlzLl9kaXN0YW5jZSl9LHQucHJvdG90eXBlLnN0b3A9ZnVuY3Rpb24oKXt0aGlzLl9hY3Rvci5yeD0wLHRoaXMuX3N0b3BwZWQ9ITB9LHQucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5fc3RhcnRlZD0hMX0sdH0oKSx4ZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLGksbixvKXt0aGlzLl9zdGFydGVkPSExLHRoaXMuX3N0b3BwZWQ9ITEsdGhpcy5fYWN0b3I9dCx0aGlzLl9lbmRYPWUsdGhpcy5fZW5kWT1pLHRoaXMuX3NwZWVkWD1uLHRoaXMuX3NwZWVkWT1vfXJldHVybiB0LnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCl7aWYodGhpcy5fc3RhcnRlZHx8KHRoaXMuX3N0YXJ0ZWQ9ITAsdGhpcy5fc3RhcnRYPXRoaXMuX2FjdG9yLnNjYWxlLngsdGhpcy5fc3RhcnRZPXRoaXMuX2FjdG9yLnNjYWxlLnksdGhpcy5fZGlzdGFuY2VYPU1hdGguYWJzKHRoaXMuX2VuZFgtdGhpcy5fc3RhcnRYKSx0aGlzLl9kaXN0YW5jZVk9TWF0aC5hYnModGhpcy5fZW5kWS10aGlzLl9zdGFydFkpKSxNYXRoLmFicyh0aGlzLl9hY3Rvci5zY2FsZS54LXRoaXMuX3N0YXJ0WCk+PXRoaXMuX2Rpc3RhbmNlWCl0aGlzLl9hY3Rvci5zeD0wO2Vsc2V7dmFyIGU9dGhpcy5fZW5kWTx0aGlzLl9zdGFydFk/LTE6MTt0aGlzLl9hY3Rvci5zeD10aGlzLl9zcGVlZFgqZX1pZihNYXRoLmFicyh0aGlzLl9hY3Rvci5zY2FsZS55LXRoaXMuX3N0YXJ0WSk+PXRoaXMuX2Rpc3RhbmNlWSl0aGlzLl9hY3Rvci5zeT0wO2Vsc2V7dmFyIGk9dGhpcy5fZW5kWTx0aGlzLl9zdGFydFk/LTE6MTt0aGlzLl9hY3Rvci5zeT10aGlzLl9zcGVlZFkqaX10aGlzLmlzQ29tcGxldGUoKSYmKHRoaXMuX2FjdG9yLnNjYWxlLng9dGhpcy5fZW5kWCx0aGlzLl9hY3Rvci5zY2FsZS55PXRoaXMuX2VuZFksdGhpcy5fYWN0b3Iuc3g9MCx0aGlzLl9hY3Rvci5zeT0wKX0sdC5wcm90b3R5cGUuaXNDb21wbGV0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdG9wcGVkfHxNYXRoLmFicyh0aGlzLl9hY3Rvci5zY2FsZS55LXRoaXMuX3N0YXJ0WCk+PXRoaXMuX2Rpc3RhbmNlWCYmTWF0aC5hYnModGhpcy5fYWN0b3Iuc2NhbGUueS10aGlzLl9zdGFydFkpPj10aGlzLl9kaXN0YW5jZVl9LHQucHJvdG90eXBlLnN0b3A9ZnVuY3Rpb24oKXt0aGlzLl9hY3Rvci5zeD0wLHRoaXMuX2FjdG9yLnN5PTAsdGhpcy5fc3RvcHBlZD0hMH0sdC5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLl9zdGFydGVkPSExfSx0PWZlKFtYdCh7bWVzc2FnZTpcImV4LkFjdGlvbi5TY2FsZVRvIHdpbGwgYmUgcmVtb3ZlZCBpbiB2MC4yNC4wXCIsYWx0ZXJuYXRlTWV0aG9kOlwiU2V0IHdpZHRoIGFuZCBoaWdodCBkaXJlY3RseVwifSldLHQpfSgpLFBlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsaSxuKXt0aGlzLl9zdGFydGVkPSExLHRoaXMuX3N0b3BwZWQ9ITEsdGhpcy5fYWN0b3I9dCx0aGlzLl9vZmZzZXQ9bmV3IEYoZSxpKSx0aGlzLl9zcGVlZFg9dGhpcy5fc3BlZWRZPW59cmV0dXJuIHQucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0KXt0aGlzLl9zdGFydGVkfHwodGhpcy5fc3RhcnRlZD0hMCx0aGlzLl9zdGFydFNjYWxlPXRoaXMuX2FjdG9yLnNjYWxlLmNsb25lKCksdGhpcy5fZW5kU2NhbGU9dGhpcy5fc3RhcnRTY2FsZS5hZGQodGhpcy5fb2Zmc2V0KSx0aGlzLl9kaXN0YW5jZVg9TWF0aC5hYnModGhpcy5fZW5kU2NhbGUueC10aGlzLl9zdGFydFNjYWxlLngpLHRoaXMuX2Rpc3RhbmNlWT1NYXRoLmFicyh0aGlzLl9lbmRTY2FsZS55LXRoaXMuX3N0YXJ0U2NhbGUueSksdGhpcy5fZGlyZWN0aW9uWD10aGlzLl9lbmRTY2FsZS54PHRoaXMuX3N0YXJ0U2NhbGUueD8tMToxLHRoaXMuX2RpcmVjdGlvblk9dGhpcy5fZW5kU2NhbGUueTx0aGlzLl9zdGFydFNjYWxlLnk/LTE6MSksdGhpcy5fYWN0b3Iuc3g9dGhpcy5fc3BlZWRYKnRoaXMuX2RpcmVjdGlvblgsdGhpcy5fYWN0b3Iuc3k9dGhpcy5fc3BlZWRZKnRoaXMuX2RpcmVjdGlvblksdGhpcy5pc0NvbXBsZXRlKCkmJih0aGlzLl9hY3Rvci5zY2FsZT10aGlzLl9lbmRTY2FsZSx0aGlzLl9hY3Rvci5zeD0wLHRoaXMuX2FjdG9yLnN5PTApfSx0LnByb3RvdHlwZS5pc0NvbXBsZXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0b3BwZWR8fE1hdGguYWJzKHRoaXMuX2FjdG9yLnNjYWxlLngtdGhpcy5fc3RhcnRTY2FsZS54KT49dGhpcy5fZGlzdGFuY2VYJiZNYXRoLmFicyh0aGlzLl9hY3Rvci5zY2FsZS55LXRoaXMuX3N0YXJ0U2NhbGUueSk+PXRoaXMuX2Rpc3RhbmNlWX0sdC5wcm90b3R5cGUuc3RvcD1mdW5jdGlvbigpe3RoaXMuX2FjdG9yLnN4PTAsdGhpcy5fYWN0b3Iuc3k9MCx0aGlzLl9zdG9wcGVkPSEwfSx0LnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuX3N0YXJ0ZWQ9ITF9LHQ9ZmUoW1h0KHttZXNzYWdlOlwiZXguQWN0aW9uLlNjYWxlQnkgd2lsbCBiZSByZW1vdmVkIGluIHYwLjI0LjBcIixhbHRlcm5hdGVNZXRob2Q6XCJTZXQgd2lkdGggYW5kIGhpZ2h0IGRpcmVjdGx5XCJ9KV0sdCl9KCksU2U9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5fZWxhcHNlZFRpbWU9MCx0aGlzLl9zdGFydGVkPSExLHRoaXMuX3N0b3BwZWQ9ITEsdGhpcy5fYWN0b3I9dCx0aGlzLl9kZWxheT1lfXJldHVybiB0LnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCl7dGhpcy5fc3RhcnRlZHx8KHRoaXMuX3N0YXJ0ZWQ9ITApLHRoaXMueD10aGlzLl9hY3Rvci5wb3MueCx0aGlzLnk9dGhpcy5fYWN0b3IucG9zLnksdGhpcy5fZWxhcHNlZFRpbWUrPXR9LHQucHJvdG90eXBlLmlzQ29tcGxldGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RvcHBlZHx8dGhpcy5fZWxhcHNlZFRpbWU+PXRoaXMuX2RlbGF5fSx0LnByb3RvdHlwZS5zdG9wPWZ1bmN0aW9uKCl7dGhpcy5fc3RvcHBlZD0hMH0sdC5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLl9lbGFwc2VkVGltZT0wLHRoaXMuX3N0YXJ0ZWQ9ITF9LHR9KCksQWU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxpLG4pe3ZvaWQgMD09PW4mJihuPTEpLHRoaXMuX3RpbWVWaXNpYmxlPTAsdGhpcy5fdGltZU5vdFZpc2libGU9MCx0aGlzLl9lbGFwc2VkVGltZT0wLHRoaXMuX3RvdGFsVGltZT0wLHRoaXMuX3N0b3BwZWQ9ITEsdGhpcy5fc3RhcnRlZD0hMSx0aGlzLl9hY3Rvcj10LHRoaXMuX3RpbWVWaXNpYmxlPWUsdGhpcy5fdGltZU5vdFZpc2libGU9aSx0aGlzLl9kdXJhdGlvbj0oZStpKSpufXJldHVybiB0LnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCl7dGhpcy5fc3RhcnRlZHx8KHRoaXMuX3N0YXJ0ZWQ9ITApLHRoaXMuX2VsYXBzZWRUaW1lKz10LHRoaXMuX3RvdGFsVGltZSs9dCx0aGlzLl9hY3Rvci52aXNpYmxlJiZ0aGlzLl9lbGFwc2VkVGltZT49dGhpcy5fdGltZVZpc2libGUmJih0aGlzLl9hY3Rvci52aXNpYmxlPSExLHRoaXMuX2VsYXBzZWRUaW1lPTApLCF0aGlzLl9hY3Rvci52aXNpYmxlJiZ0aGlzLl9lbGFwc2VkVGltZT49dGhpcy5fdGltZU5vdFZpc2libGUmJih0aGlzLl9hY3Rvci52aXNpYmxlPSEwLHRoaXMuX2VsYXBzZWRUaW1lPTApLHRoaXMuaXNDb21wbGV0ZSgpJiYodGhpcy5fYWN0b3IudmlzaWJsZT0hMCl9LHQucHJvdG90eXBlLmlzQ29tcGxldGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RvcHBlZHx8dGhpcy5fdG90YWxUaW1lPj10aGlzLl9kdXJhdGlvbn0sdC5wcm90b3R5cGUuc3RvcD1mdW5jdGlvbigpe3RoaXMuX2FjdG9yLnZpc2libGU9ITAsdGhpcy5fc3RvcHBlZD0hMH0sdC5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLl9zdGFydGVkPSExLHRoaXMuX2VsYXBzZWRUaW1lPTAsdGhpcy5fdG90YWxUaW1lPTB9LHR9KCksRWU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxpKXt0aGlzLl9tdWx0aXBsaWVyPTEsdGhpcy5fc3RhcnRlZD0hMSx0aGlzLl9zdG9wcGVkPSExLHRoaXMuX2FjdG9yPXQsdGhpcy5fZW5kT3BhY2l0eT1lLHRoaXMuX3NwZWVkPWl9cmV0dXJuIHQucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0KXt0aGlzLl9zdGFydGVkfHwodGhpcy5fc3RhcnRlZD0hMCx0aGlzLl9lbmRPcGFjaXR5PHRoaXMuX2FjdG9yLm9wYWNpdHk/dGhpcy5fbXVsdGlwbGllcj0tMTp0aGlzLl9tdWx0aXBsaWVyPTEpLHRoaXMuX3NwZWVkPjAmJih0aGlzLl9hY3Rvci5vcGFjaXR5Kz10aGlzLl9tdWx0aXBsaWVyKihNYXRoLmFicyh0aGlzLl9hY3Rvci5vcGFjaXR5LXRoaXMuX2VuZE9wYWNpdHkpKnQpL3RoaXMuX3NwZWVkKSx0aGlzLl9zcGVlZC09dCx0aGlzLmlzQ29tcGxldGUoKSYmKHRoaXMuX2FjdG9yLm9wYWNpdHk9dGhpcy5fZW5kT3BhY2l0eSksTnQuZ2V0SW5zdGFuY2UoKS5kZWJ1ZyhcIltBY3Rpb24gZmFkZV0gQWN0b3Igb3BhY2l0eTpcIix0aGlzLl9hY3Rvci5vcGFjaXR5KX0sdC5wcm90b3R5cGUuaXNDb21wbGV0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdG9wcGVkfHxNYXRoLmFicyh0aGlzLl9hY3Rvci5vcGFjaXR5LXRoaXMuX2VuZE9wYWNpdHkpPC4wNX0sdC5wcm90b3R5cGUuc3RvcD1mdW5jdGlvbigpe3RoaXMuX3N0b3BwZWQ9ITB9LHQucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5fc3RhcnRlZD0hMX0sdH0oKSxDZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5fc3RvcHBlZD0hMSx0aGlzLl9hY3Rvcj10fXJldHVybiB0LnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCl7dGhpcy5fYWN0b3IuYWN0aW9uUXVldWUuY2xlYXJBY3Rpb25zKCksdGhpcy5fYWN0b3Iua2lsbCgpLHRoaXMuX3N0b3BwZWQ9ITB9LHQucHJvdG90eXBlLmlzQ29tcGxldGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RvcHBlZH0sdC5wcm90b3R5cGUuc3RvcD1mdW5jdGlvbigpe30sdC5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt9LHR9KCksVGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5fbWV0aG9kPW51bGwsdGhpcy5fYWN0b3I9bnVsbCx0aGlzLl9oYXNCZWVuQ2FsbGVkPSExLHRoaXMuX2FjdG9yPXQsdGhpcy5fbWV0aG9kPWV9cmV0dXJuIHQucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0KXt0aGlzLl9tZXRob2QuY2FsbCh0aGlzLl9hY3RvciksdGhpcy5faGFzQmVlbkNhbGxlZD0hMH0sdC5wcm90b3R5cGUuaXNDb21wbGV0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9oYXNCZWVuQ2FsbGVkfSx0LnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuX2hhc0JlZW5DYWxsZWQ9ITF9LHQucHJvdG90eXBlLnN0b3A9ZnVuY3Rpb24oKXt0aGlzLl9oYXNCZWVuQ2FsbGVkPSEwfSx0fSgpLE1lPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsaSl7dGhpcy5fc3RvcHBlZD0hMSx0aGlzLl9hY3Rvcj10LHRoaXMuX2FjdGlvblF1ZXVlPW5ldyBCZSh0KSx0aGlzLl9yZXBlYXQ9ZSx0aGlzLl9vcmlnaW5hbFJlcGVhdD1lO2Zvcih2YXIgbj1pLmxlbmd0aCxvPTA7bzxuO28rKylpW29dLnJlc2V0KCksdGhpcy5fYWN0aW9uUXVldWUuYWRkKGlbb10pfXJldHVybiB0LnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCl7dGhpcy54PXRoaXMuX2FjdG9yLnBvcy54LHRoaXMueT10aGlzLl9hY3Rvci5wb3MueSx0aGlzLl9hY3Rpb25RdWV1ZS5oYXNOZXh0KCl8fCh0aGlzLl9hY3Rpb25RdWV1ZS5yZXNldCgpLHRoaXMuX3JlcGVhdC0tKSx0aGlzLl9hY3Rpb25RdWV1ZS51cGRhdGUodCl9LHQucHJvdG90eXBlLmlzQ29tcGxldGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RvcHBlZHx8dGhpcy5fcmVwZWF0PD0wfSx0LnByb3RvdHlwZS5zdG9wPWZ1bmN0aW9uKCl7dGhpcy5fc3RvcHBlZD0hMH0sdC5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLl9yZXBlYXQ9dGhpcy5fb3JpZ2luYWxSZXBlYXR9LHR9KCksT2U9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5fc3RvcHBlZD0hMSx0aGlzLl9hY3Rvcj10LHRoaXMuX2FjdGlvblF1ZXVlPW5ldyBCZSh0KTtmb3IodmFyIGk9ZS5sZW5ndGgsbj0wO248aTtuKyspZVtuXS5yZXNldCgpLHRoaXMuX2FjdGlvblF1ZXVlLmFkZChlW25dKX1yZXR1cm4gdC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQpe3RoaXMueD10aGlzLl9hY3Rvci5wb3MueCx0aGlzLnk9dGhpcy5fYWN0b3IucG9zLnksdGhpcy5fc3RvcHBlZHx8KHRoaXMuX2FjdGlvblF1ZXVlLmhhc05leHQoKXx8dGhpcy5fYWN0aW9uUXVldWUucmVzZXQoKSx0aGlzLl9hY3Rpb25RdWV1ZS51cGRhdGUodCkpfSx0LnByb3RvdHlwZS5pc0NvbXBsZXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0b3BwZWR9LHQucHJvdG90eXBlLnN0b3A9ZnVuY3Rpb24oKXt0aGlzLl9zdG9wcGVkPSEwLHRoaXMuX2FjdGlvblF1ZXVlLmNsZWFyQWN0aW9ucygpfSx0LnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe30sdH0oKSxCZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5fYWN0aW9ucz1bXSx0aGlzLl9jb21wbGV0ZWRBY3Rpb25zPVtdLHRoaXMuX2FjdG9yPXR9cmV0dXJuIHQucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0KXt0aGlzLl9hY3Rpb25zLnB1c2godCl9LHQucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9hY3Rpb25zLmluZGV4T2YodCk7dGhpcy5fYWN0aW9ucy5zcGxpY2UoZSwxKX0sdC5wcm90b3R5cGUuY2xlYXJBY3Rpb25zPWZ1bmN0aW9uKCl7dGhpcy5fYWN0aW9ucy5sZW5ndGg9MCx0aGlzLl9jb21wbGV0ZWRBY3Rpb25zLmxlbmd0aD0wLHRoaXMuX2N1cnJlbnRBY3Rpb24mJnRoaXMuX2N1cnJlbnRBY3Rpb24uc3RvcCgpfSx0LnByb3RvdHlwZS5nZXRBY3Rpb25zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FjdGlvbnMuY29uY2F0KHRoaXMuX2NvbXBsZXRlZEFjdGlvbnMpfSx0LnByb3RvdHlwZS5oYXNOZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FjdGlvbnMubGVuZ3RoPjB9LHQucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5fYWN0aW9ucz10aGlzLmdldEFjdGlvbnMoKTtmb3IodmFyIHQ9dGhpcy5fYWN0aW9ucy5sZW5ndGgsZT0wO2U8dDtlKyspdGhpcy5fYWN0aW9uc1tlXS5yZXNldCgpO3RoaXMuX2NvbXBsZXRlZEFjdGlvbnM9W119LHQucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0KXt0aGlzLl9hY3Rpb25zLmxlbmd0aD4wJiYodGhpcy5fY3VycmVudEFjdGlvbj10aGlzLl9hY3Rpb25zWzBdLHRoaXMuX2N1cnJlbnRBY3Rpb24udXBkYXRlKHQpLHRoaXMuX2N1cnJlbnRBY3Rpb24uaXNDb21wbGV0ZSh0aGlzLl9hY3RvcikmJnRoaXMuX2NvbXBsZXRlZEFjdGlvbnMucHVzaCh0aGlzLl9hY3Rpb25zLnNoaWZ0KCkpKX0sdH0oKSxEZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQuQ3JlYXRlUmV2ZXJzYWJsZUVhc2luZ0Z1bmN0aW9uPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlLGksbixvKXtyZXR1cm4gbjxpP2ktKHQoZSxuLGksbyktbik6dChlLGksbixvKX19LHQuQ3JlYXRlVmVjdG9yRWFzaW5nRnVuY3Rpb249ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUsaSxuLG8pe3JldHVybiBuZXcgRih0KGUsaS54LG4ueCxvKSx0KGUsaS55LG4ueSxvKSl9fSx0LkxpbmVhcj10LkNyZWF0ZVJldmVyc2FibGVFYXNpbmdGdW5jdGlvbihmdW5jdGlvbih0LGUsaSxuKXtyZXR1cm4oaS09ZSkqdC9uK2V9KSx0LkVhc2VJblF1YWQ9dC5DcmVhdGVSZXZlcnNhYmxlRWFzaW5nRnVuY3Rpb24oZnVuY3Rpb24odCxlLGksbil7cmV0dXJuKGktPWUpKih0Lz1uKSp0K2V9KSx0LkVhc2VPdXRRdWFkPXQuQ3JlYXRlUmV2ZXJzYWJsZUVhc2luZ0Z1bmN0aW9uKGZ1bmN0aW9uKHQsZSxpLG4pe3JldHVybi0oaS09ZSkqKHQvPW4pKih0LTIpK2V9KSx0LkVhc2VJbk91dFF1YWQ9dC5DcmVhdGVSZXZlcnNhYmxlRWFzaW5nRnVuY3Rpb24oZnVuY3Rpb24odCxlLGksbil7cmV0dXJuIGktPWUsKHQvPW4vMik8MT9pLzIqdCp0K2U6LWkvMiooLS10Kih0LTIpLTEpK2V9KSx0LkVhc2VJbkN1YmljPXQuQ3JlYXRlUmV2ZXJzYWJsZUVhc2luZ0Z1bmN0aW9uKGZ1bmN0aW9uKHQsZSxpLG4pe3JldHVybihpLT1lKSoodC89bikqdCp0K2V9KSx0LkVhc2VPdXRDdWJpYz10LkNyZWF0ZVJldmVyc2FibGVFYXNpbmdGdW5jdGlvbihmdW5jdGlvbih0LGUsaSxuKXtyZXR1cm4gdC89biwoaS09ZSkqKC0tdCp0KnQrMSkrZX0pLHQuRWFzZUluT3V0Q3ViaWM9dC5DcmVhdGVSZXZlcnNhYmxlRWFzaW5nRnVuY3Rpb24oZnVuY3Rpb24odCxlLGksbil7cmV0dXJuIGktPWUsKHQvPW4vMik8MT9pLzIqdCp0KnQrZTppLzIqKCh0LT0yKSp0KnQrMikrZX0pLHR9KCksa2U9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy5fYWN0b3JzPVtdLHRoaXMuX3F1ZXVlcz1bXSxudWxsIT09YXJndW1lbnRzJiYodGhpcy5fYWN0b3JzPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywwKSx0aGlzLl9xdWV1ZXM9dGhpcy5fYWN0b3JzLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC5hY3Rpb25RdWV1ZX0pKX1yZXR1cm4gdC5wcm90b3R5cGUuY2xlYXJBY3Rpb25zPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuX3F1ZXVlcy5sZW5ndGgsZT0wO2U8dDtlKyspdGhpcy5fcXVldWVzW2VdLmNsZWFyQWN0aW9ucygpfSx0LnByb3RvdHlwZS5hZGRBY3RvclRvQ29udGV4dD1mdW5jdGlvbih0KXt0aGlzLl9hY3RvcnMucHVzaCh0KSx0aGlzLl9xdWV1ZXMucHVzaCh0LmFjdGlvblF1ZXVlKX0sdC5wcm90b3R5cGUucmVtb3ZlQWN0b3JGcm9tQ29udGV4dD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9hY3RvcnMuaW5kZXhPZih0KTtlPi0xJiYodGhpcy5fYWN0b3JzLnNwbGljZShlLDEpLHRoaXMuX3F1ZXVlcy5zcGxpY2UoZSwxKSl9LHQucHJvdG90eXBlLmVhc2VUbz1mdW5jdGlvbih0LGUsaSxuKXt2b2lkIDA9PT1uJiYobj1EZS5MaW5lYXIpO2Zvcih2YXIgbz10aGlzLl9xdWV1ZXMubGVuZ3RoLHI9MDtyPG87cisrKXRoaXMuX3F1ZXVlc1tyXS5hZGQobmV3IGdlKHRoaXMuX2FjdG9yc1tyXSx0LGUsaSxuKSk7cmV0dXJuIHRoaXN9LHQucHJvdG90eXBlLm1vdmVUbz1mdW5jdGlvbih0LGUsaSl7Zm9yKHZhciBuPXRoaXMuX3F1ZXVlcy5sZW5ndGgsbz0wO288bjtvKyspdGhpcy5fcXVldWVzW29dLmFkZChuZXcgeWUodGhpcy5fYWN0b3JzW29dLHQsZSxpKSk7cmV0dXJuIHRoaXN9LHQucHJvdG90eXBlLm1vdmVCeT1mdW5jdGlvbih0LGUsaSl7Zm9yKHZhciBuPXRoaXMuX3F1ZXVlcy5sZW5ndGgsbz0wO288bjtvKyspdGhpcy5fcXVldWVzW29dLmFkZChuZXcgX2UodGhpcy5fYWN0b3JzW29dLHQsZSxpKSk7cmV0dXJuIHRoaXN9LHQucHJvdG90eXBlLnJvdGF0ZVRvPWZ1bmN0aW9uKHQsZSxpKXtmb3IodmFyIG49dGhpcy5fcXVldWVzLmxlbmd0aCxvPTA7bzxuO28rKyl0aGlzLl9xdWV1ZXNbb10uYWRkKG5ldyBiZSh0aGlzLl9hY3RvcnNbb10sdCxlLGkpKTtyZXR1cm4gdGhpc30sdC5wcm90b3R5cGUucm90YXRlQnk9ZnVuY3Rpb24odCxlLGkpe2Zvcih2YXIgbj10aGlzLl9xdWV1ZXMubGVuZ3RoLG89MDtvPG47bysrKXRoaXMuX3F1ZXVlc1tvXS5hZGQobmV3IHdlKHRoaXMuX2FjdG9yc1tvXSx0LGUsaSkpO3JldHVybiB0aGlzfSx0LnByb3RvdHlwZS5zY2FsZVRvPWZ1bmN0aW9uKHQsZSxpLG4pe2Zvcih2YXIgbz10aGlzLl9xdWV1ZXMubGVuZ3RoLHI9MDtyPG87cisrKXRoaXMuX3F1ZXVlc1tyXS5hZGQobmV3IHhlKHRoaXMuX2FjdG9yc1tyXSx0LGUsaSxuKSk7cmV0dXJuIHRoaXN9LHQucHJvdG90eXBlLnNjYWxlQnk9ZnVuY3Rpb24odCxlLGkpe2Zvcih2YXIgbj10aGlzLl9xdWV1ZXMubGVuZ3RoLG89MDtvPG47bysrKXRoaXMuX3F1ZXVlc1tvXS5hZGQobmV3IFBlKHRoaXMuX2FjdG9yc1tvXSx0LGUsaSkpO3JldHVybiB0aGlzfSx0LnByb3RvdHlwZS5ibGluaz1mdW5jdGlvbih0LGUsaSl7dm9pZCAwPT09aSYmKGk9MSk7Zm9yKHZhciBuPXRoaXMuX3F1ZXVlcy5sZW5ndGgsbz0wO288bjtvKyspdGhpcy5fcXVldWVzW29dLmFkZChuZXcgQWUodGhpcy5fYWN0b3JzW29dLHQsZSxpKSk7cmV0dXJuIHRoaXN9LHQucHJvdG90eXBlLmZhZGU9ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9dGhpcy5fcXVldWVzLmxlbmd0aCxuPTA7bjxpO24rKyl0aGlzLl9xdWV1ZXNbbl0uYWRkKG5ldyBFZSh0aGlzLl9hY3RvcnNbbl0sdCxlKSk7cmV0dXJuIHRoaXN9LHQucHJvdG90eXBlLmRlbGF5PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLl9xdWV1ZXMubGVuZ3RoLGk9MDtpPGU7aSsrKXRoaXMuX3F1ZXVlc1tpXS5hZGQobmV3IFNlKHRoaXMuX2FjdG9yc1tpXSx0KSk7cmV0dXJuIHRoaXN9LHQucHJvdG90eXBlLmRpZT1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLl9xdWV1ZXMubGVuZ3RoLGU9MDtlPHQ7ZSsrKXRoaXMuX3F1ZXVlc1tlXS5hZGQobmV3IENlKHRoaXMuX2FjdG9yc1tlXSkpO3JldHVybiB0aGlzfSx0LnByb3RvdHlwZS5jYWxsTWV0aG9kPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLl9xdWV1ZXMubGVuZ3RoLGk9MDtpPGU7aSsrKXRoaXMuX3F1ZXVlc1tpXS5hZGQobmV3IFRlKHRoaXMuX2FjdG9yc1tpXSx0KSk7cmV0dXJuIHRoaXN9LHQucHJvdG90eXBlLnJlcGVhdD1mdW5jdGlvbih0KXtpZighdClyZXR1cm4gdGhpcy5yZXBlYXRGb3JldmVyKCksdGhpcztmb3IodmFyIGU9dGhpcy5fcXVldWVzLmxlbmd0aCxpPTA7aTxlO2krKyl0aGlzLl9xdWV1ZXNbaV0uYWRkKG5ldyBNZSh0aGlzLl9hY3RvcnNbaV0sdCx0aGlzLl9hY3RvcnNbaV0uYWN0aW9uUXVldWUuZ2V0QWN0aW9ucygpKSk7cmV0dXJuIHRoaXN9LHQucHJvdG90eXBlLnJlcGVhdEZvcmV2ZXI9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5fcXVldWVzLmxlbmd0aCxlPTA7ZTx0O2UrKyl0aGlzLl9xdWV1ZXNbZV0uYWRkKG5ldyBPZSh0aGlzLl9hY3RvcnNbZV0sdGhpcy5fYWN0b3JzW2VdLmFjdGlvblF1ZXVlLmdldEFjdGlvbnMoKSkpO3JldHVybiB0aGlzfSx0LnByb3RvdHlwZS5mb2xsb3c9ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9dGhpcy5fcXVldWVzLmxlbmd0aCxuPTA7bjxpO24rKyl2b2lkIDA9PT1lP3RoaXMuX3F1ZXVlc1tuXS5hZGQobmV3IHZlKHRoaXMuX2FjdG9yc1tuXSx0KSk6dGhpcy5fcXVldWVzW25dLmFkZChuZXcgdmUodGhpcy5fYWN0b3JzW25dLHQsZSkpO3JldHVybiB0aGlzfSx0LnByb3RvdHlwZS5tZWV0PWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpPXRoaXMuX3F1ZXVlcy5sZW5ndGgsbj0wO248aTtuKyspdm9pZCAwPT09ZT90aGlzLl9xdWV1ZXNbbl0uYWRkKG5ldyBtZSh0aGlzLl9hY3RvcnNbbl0sdCkpOnRoaXMuX3F1ZXVlc1tuXS5hZGQobmV3IG1lKHRoaXMuX2FjdG9yc1tuXSx0LGUpKTtyZXR1cm4gdGhpc30sdC5wcm90b3R5cGUuYXNQcm9taXNlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPXRoaXMuX3F1ZXVlcy5tYXAoZnVuY3Rpb24oZSxpKXt2YXIgbj1uZXcgZDtyZXR1cm4gZS5hZGQobmV3IFRlKHQuX2FjdG9yc1tpXSxmdW5jdGlvbigpe24ucmVzb2x2ZSgpfSkpLG59KTtyZXR1cm4gZC5qb2luLmFwcGx5KHRoaXMsZSl9LHR9KCksUmU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LkJveD1mdW5jdGlvbih0LGUsaSxuKXtyZXR1cm4gdm9pZCAwPT09aSYmKGk9Ri5IYWxmKSx2b2lkIDA9PT1uJiYobj1GLlplcm8pLG5ldyB6dCh7cG9pbnRzOm5ldyBZdCgtdCppLngsLWUqaS55LHQtdCppLngsZS1lKmkueSkuZ2V0UG9pbnRzKCksb2Zmc2V0Om59KX0sdC5Qb2x5Z29uPWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9ITEpLHZvaWQgMD09PWkmJihpPUYuWmVybyksbmV3IHp0KHtwb2ludHM6dCxvZmZzZXQ6aSxjbG9ja3dpc2VXaW5kaW5nOmV9KX0sdC5DaXJjbGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9Ri5aZXJvKSxuZXcgRnQoe3JhZGl1czp0LG9mZnNldDplfSl9LHQuRWRnZT1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgSXQoe2JlZ2luOnQsZW5kOmV9KX0sdH0oKSxGZT1mdW5jdGlvbih0LGUsaSxuKXt2YXIgbyxyPWFyZ3VtZW50cy5sZW5ndGgscz1yPDM/ZTpudWxsPT09bj9uPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSxpKTpuO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBSZWZsZWN0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBSZWZsZWN0LmRlY29yYXRlKXM9UmVmbGVjdC5kZWNvcmF0ZSh0LGUsaSxuKTtlbHNlIGZvcih2YXIgYT10Lmxlbmd0aC0xO2E+PTA7YS0tKShvPXRbYV0pJiYocz0ocjwzP28ocyk6cj4zP28oZSxpLHMpOm8oZSxpKSl8fHMpO3JldHVybiByPjMmJnMmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkscyksc30samU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3ZhciBlPXQuYWN0b3IsaT10LmNvbGxpZGVyO2lmKHRoaXMucG9zPW5ldyBGKDAsMCksdGhpcy5vbGRQb3M9bmV3IEYoMCwwKSx0aGlzLnZlbD1uZXcgRigwLDApLHRoaXMub2xkVmVsPW5ldyBGKDAsMCksdGhpcy5hY2M9bmV3IEYoMCwwKSx0aGlzLm9sZEFjYz1GLlplcm8sdGhpcy50b3JxdWU9MCx0aGlzLm1vdGlvbj0xMCx0aGlzLm9sZFJvdGF0aW9uPTAsdGhpcy5yb3RhdGlvbj0wLHRoaXMuc2NhbGU9Ri5PbmUsdGhpcy5vbGRTY2FsZT1GLk9uZSx0aGlzLnN4PTAsdGhpcy5zeT0wLHRoaXMucng9MCx0aGlzLl9nZW9tZXRyeURpcnR5PSExLHRoaXMuX3RvdGFsTXR2PUYuWmVybywhZSYmIWkpdGhyb3cgbmV3IEVycm9yKFwiQW4gYWN0b3Igb3IgY29sbGlkZXIgYXJlIHJlcXVpcmVkIHRvIGNyZWF0ZSBhIGJvZHlcIik7dGhpcy5hY3Rvcj1lLHRoaXMuY29sbGlkZXI9IWkmJmU/dGhpcy51c2VCb3hDb2xsaWRlcihlLndpZHRoLGUuaGVpZ2h0LGUuYW5jaG9yKTppfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJpZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hY3Rvcj90aGlzLmFjdG9yLmlkOi0xfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0KHthY3RvcjpudWxsLGNvbGxpZGVyOnRoaXMuY29sbGlkZXIuY2xvbmUoKX0pfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJhY3RpdmVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLmFjdG9yJiYhdGhpcy5hY3Rvci5pc0tpbGxlZCgpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImNlbnRlclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wb3N9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiY29sbGlkZXJcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbGxpZGVyfSxzZXQ6ZnVuY3Rpb24odCl7dCYmKHRoaXMuX2NvbGxpZGVyPXQsdGhpcy5fY29sbGlkZXIuYm9keT10aGlzLHRoaXMuX3dpcmVDb2xsaWRlckV2ZW50c1RvQWN0b3IoKSl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUuYWRkTXR2PWZ1bmN0aW9uKHQpe3RoaXMuX3RvdGFsTXR2LmFkZEVxdWFsKHQpfSx0LnByb3RvdHlwZS5hcHBseU10dj1mdW5jdGlvbigpe3RoaXMucG9zLmFkZEVxdWFsKHRoaXMuX3RvdGFsTXR2KSx0aGlzLl90b3RhbE10di5zZXRUbygwLDApfSx0LnByb3RvdHlwZS5tYXJrQ29sbGlzaW9uU2hhcGVEaXJ0eT1mdW5jdGlvbigpe3RoaXMuX2dlb21ldHJ5RGlydHk9ITB9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImlzQ29sbGlkZXJTaGFwZURpcnR5XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZW9tZXRyeURpcnR5fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLmNhcHR1cmVPbGRUcmFuc2Zvcm09ZnVuY3Rpb24oKXt0aGlzLm9sZFZlbC5zZXRUbyh0aGlzLnZlbC54LHRoaXMudmVsLnkpLHRoaXMub2xkUG9zLnNldFRvKHRoaXMucG9zLngsdGhpcy5wb3MueSksdGhpcy5vbGRBY2Muc2V0VG8odGhpcy5hY2MueCx0aGlzLmFjYy55KSx0aGlzLm9sZFNjYWxlLnNldFRvKHRoaXMuc2NhbGUueCx0aGlzLnNjYWxlLnkpLHRoaXMub2xkUm90YXRpb249dGhpcy5yb3RhdGlvbn0sdC5wcm90b3R5cGUuaW50ZWdyYXRlPWZ1bmN0aW9uKHQpe3ZhciBlPXQvMWUzLGk9dGhpcy5hY2MuY2xvbmUoKTt0aGlzLmNvbGxpZGVyLnR5cGU9PT1DdC5BY3RpdmUmJmkuYWRkRXF1YWwoVHQuYWNjKSx0aGlzLnZlbC5hZGRFcXVhbChpLnNjYWxlKGUpKSx0aGlzLnBvcy5hZGRFcXVhbCh0aGlzLnZlbC5zY2FsZShlKSkuYWRkRXF1YWwoaS5zY2FsZSguNSplKmUpKSx0aGlzLnJ4Kz10aGlzLnRvcnF1ZSooMS90aGlzLmNvbGxpZGVyLmluZXJ0aWEpKmUsdGhpcy5yb3RhdGlvbis9dGhpcy5yeCplLHRoaXMuc2NhbGUueCs9dGhpcy5zeCp0LzFlMyx0aGlzLnNjYWxlLnkrPXRoaXMuc3kqdC8xZTMsdGhpcy5zY2FsZS5lcXVhbHModGhpcy5vbGRTY2FsZSl8fCh0aGlzLl9nZW9tZXRyeURpcnR5PSEwKSx0aGlzLmNvbGxpZGVyLnVwZGF0ZSgpLHRoaXMuX2dlb21ldHJ5RGlydHk9ITF9LHQucHJvdG90eXBlLnVzZUJveENvbGxpZGVyPWZ1bmN0aW9uKHQsZSxpLG4pe3JldHVybiB2b2lkIDA9PT1pJiYoaT1GLkhhbGYpLHZvaWQgMD09PW4mJihuPUYuWmVybyksdGhpcy5jb2xsaWRlci5zaGFwZT1SZS5Cb3godCxlLGksbiksdGhpcy5jb2xsaWRlcn0sdC5wcm90b3R5cGUudXNlQm94Q29sbGlzaW9uPWZ1bmN0aW9uKHQpe3ZvaWQgMD09PXQmJih0PUYuWmVybyksdGhpcy51c2VCb3hDb2xsaWRlcih0aGlzLmFjdG9yLndpZHRoLHRoaXMuYWN0b3IuaGVpZ2h0LHRoaXMuYWN0b3IuYW5jaG9yLHQpfSx0LnByb3RvdHlwZS51c2VQb2x5Z29uQ29sbGlkZXI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9Ri5aZXJvKSx0aGlzLmNvbGxpZGVyLnNoYXBlPVJlLlBvbHlnb24odCwhMSxlKSx0aGlzLmNvbGxpZGVyfSx0LnByb3RvdHlwZS51c2VQb2x5Z29uQ29sbGlzaW9uPWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9Ri5aZXJvKSx0aGlzLnVzZVBvbHlnb25Db2xsaWRlcih0LGUpfSx0LnByb3RvdHlwZS51c2VDaXJjbGVDb2xsaWRlcj1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT1GLlplcm8pLHRoaXMuY29sbGlkZXIuc2hhcGU9UmUuQ2lyY2xlKHQsZSksdGhpcy5jb2xsaWRlcn0sdC5wcm90b3R5cGUudXNlQ2lyY2xlQ29sbGlzaW9uPWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9Ri5aZXJvKSx0aGlzLnVzZUNpcmNsZUNvbGxpZGVyKHQsZSl9LHQucHJvdG90eXBlLnVzZUVkZ2VDb2xsaWRlcj1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmNvbGxpZGVyLnNoYXBlPVJlLkVkZ2UodCxlKSx0aGlzLmNvbGxpZGVyfSx0LnByb3RvdHlwZS51c2VFZGdlQ29sbGlzaW9uPWZ1bmN0aW9uKHQsZSl7dGhpcy51c2VFZGdlQ29sbGlkZXIodCxlKX0sdC5wcm90b3R5cGUuX3dpcmVDb2xsaWRlckV2ZW50c1RvQWN0b3I9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuY29sbGlkZXIuY2xlYXIoKSx0aGlzLmNvbGxpZGVyLm9uKFwicHJlY29sbGlzaW9uXCIsZnVuY3Rpb24oZSl7dC5hY3RvciYmdC5hY3Rvci5lbWl0KFwicHJlY29sbGlzaW9uXCIsbmV3IHB0KGUudGFyZ2V0LmJvZHkuYWN0b3IsZS5vdGhlci5ib2R5LmFjdG9yLGUuc2lkZSxlLmludGVyc2VjdGlvbikpfSksdGhpcy5jb2xsaWRlci5vbihcInBvc3Rjb2xsaXNpb25cIixmdW5jdGlvbihlKXt0LmFjdG9yJiZ0LmFjdG9yLmVtaXQoXCJwb3N0Y29sbGlzaW9uXCIsbmV3IGR0KGUudGFyZ2V0LmJvZHkuYWN0b3IsZS5vdGhlci5ib2R5LmFjdG9yLGUuc2lkZSxlLmludGVyc2VjdGlvbikpfSksdGhpcy5jb2xsaWRlci5vbihcImNvbGxpc2lvbnN0YXJ0XCIsZnVuY3Rpb24oZSl7dC5hY3RvciYmdC5hY3Rvci5lbWl0KFwiY29sbGlzaW9uc3RhcnRcIixuZXcgZnQoZS50YXJnZXQuYm9keS5hY3RvcixlLm90aGVyLmJvZHkuYWN0b3IsZS5wYWlyKSl9KSx0aGlzLmNvbGxpZGVyLm9uKFwiY29sbGlzaW9uZW5kXCIsZnVuY3Rpb24oZSl7dC5hY3RvciYmdC5hY3Rvci5lbWl0KFwiY29sbGlzaW9uZW5kXCIsbmV3IGd0KGUudGFyZ2V0LmJvZHkuYWN0b3IsZS5vdGhlci5ib2R5LmFjdG9yKSl9KX0sRmUoW1h0KHttZXNzYWdlOlwiV2lsbCBiZSByZW1vdmVkIGluIHYwLjI0LjBcIixhbHRlcm5hdGVNZXRob2Q6XCJCb2R5LnVzZUJveENvbGxpZGVyXCJ9KV0sdC5wcm90b3R5cGUsXCJ1c2VCb3hDb2xsaXNpb25cIixudWxsKSxGZShbWHQoe21lc3NhZ2U6XCJXaWxsIGJlIHJlbW92ZWQgaW4gdjAuMjQuMFwiLGFsdGVybmF0ZU1ldGhvZDpcIkJvZHkudXNlUG9seWdvbkNvbGxpZGVyXCJ9KV0sdC5wcm90b3R5cGUsXCJ1c2VQb2x5Z29uQ29sbGlzaW9uXCIsbnVsbCksRmUoW1h0KHttZXNzYWdlOlwiV2lsbCBiZSByZW1vdmVkIGluIHYwLjI0LjBcIixhbHRlcm5hdGVNZXRob2Q6XCJCb2R5LnVzZUNpcmNsZUNvbGxpZGVyXCJ9KV0sdC5wcm90b3R5cGUsXCJ1c2VDaXJjbGVDb2xsaXNpb25cIixudWxsKSxGZShbWHQoe21lc3NhZ2U6XCJXaWxsIGJlIHJlbW92ZWQgaW4gdjAuMjQuMFwiLGFsdGVybmF0ZU1ldGhvZDpcIkJvZHkudXNlRWRnZUNvbGxpZGVyXCJ9KV0sdC5wcm90b3R5cGUsXCJ1c2VFZGdlQ29sbGlzaW9uXCIsbnVsbCksdH0oKSxMZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0LGUpe3ZhciBpPXQuZXZlbnREaXNwYXRjaGVyO2lmKHQuYm9keS5jb2xsaWRlci50eXBlIT09Q3QuUHJldmVudENvbGxpc2lvbiYmZS5jdXJyZW50U2NlbmUmJmUuY3VycmVudFNjZW5lLnRpbGVNYXBzKWZvcih2YXIgbj0wO248ZS5jdXJyZW50U2NlbmUudGlsZU1hcHMubGVuZ3RoO24rKylmb3IodmFyIG89ZS5jdXJyZW50U2NlbmUudGlsZU1hcHNbbl0scj12b2lkIDAscz1wLk5vbmUsYT0yOyhyPW8uY29sbGlkZXModCkpJiYhKGEtLTwwKTspcz1ZdC5nZXRTaWRlRnJvbUludGVyc2VjdGlvbihyKSxpLmVtaXQoXCJwcmVjb2xsaXNpb25cIixuZXcgcHQodCxudWxsLHMscikpLHQuYm9keS5jb2xsaWRlci50eXBlPT09Q3QuQWN0aXZlJiYodC5wb3MueSs9ci55LHQucG9zLngrPXIueCxpLmVtaXQoXCJwb3N0Y29sbGlzaW9uXCIsbmV3IGR0KHQsbnVsbCxzLHIpKSl9LHR9KCksSWU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy5fdG9wTGVmdD1uZXcgRigwLDApLHRoaXMuX3RvcFJpZ2h0PW5ldyBGKDAsMCksdGhpcy5fYm90dG9tTGVmdD1uZXcgRigwLDApLHRoaXMuX2JvdHRvbVJpZ2h0PW5ldyBGKDAsMCl9cmV0dXJuIHQucHJvdG90eXBlLmlzU3ByaXRlT2ZmU2NyZWVuPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dC5jdXJyZW50RHJhd2luZy5kcmF3V2lkdGgsbj10LmN1cnJlbnREcmF3aW5nLmRyYXdIZWlnaHQsbz10LnJvdGF0aW9uLHI9dC5jZW50ZXIscz10LmdldFdvcmxkUG9zKCk7dGhpcy5fdG9wTGVmdC54PXMueC1pLzIsdGhpcy5fdG9wTGVmdC55PXMueS1uLzIsdGhpcy5fdG9wTGVmdD10aGlzLl90b3BMZWZ0LnJvdGF0ZShvLHIpLHRoaXMuX3RvcFJpZ2h0Lng9cy54K2kvMix0aGlzLl90b3BSaWdodC55PXMueS1uLzIsdGhpcy5fdG9wUmlnaHQ9dGhpcy5fdG9wUmlnaHQucm90YXRlKG8sciksdGhpcy5fYm90dG9tTGVmdC54PXMueC1pLzIsdGhpcy5fYm90dG9tTGVmdC55PXMueStuLzIsdGhpcy5fYm90dG9tTGVmdD10aGlzLl9ib3R0b21MZWZ0LnJvdGF0ZShvLHIpLHRoaXMuX2JvdHRvbVJpZ2h0Lng9cy54K2kvMix0aGlzLl9ib3R0b21SaWdodC55PXMueStuLzIsdGhpcy5fYm90dG9tUmlnaHQ9dGhpcy5fYm90dG9tUmlnaHQucm90YXRlKG8scik7dmFyIGE9ZS53b3JsZFRvU2NyZWVuQ29vcmRpbmF0ZXModGhpcy5fdG9wTGVmdCksaD1lLndvcmxkVG9TY3JlZW5Db29yZGluYXRlcyh0aGlzLl90b3BSaWdodCksYz1lLndvcmxkVG9TY3JlZW5Db29yZGluYXRlcyh0aGlzLl9ib3R0b21MZWZ0KSx1PWUud29ybGRUb1NjcmVlbkNvb3JkaW5hdGVzKHRoaXMuX2JvdHRvbVJpZ2h0KTt0aGlzLl94Q29vcmRzPVtdLHRoaXMuX3lDb29yZHM9W10sdGhpcy5feENvb3Jkcy5wdXNoKGEueCxoLngsYy54LHUueCksdGhpcy5feUNvb3Jkcy5wdXNoKGEueSxoLnksYy55LHUueSksdGhpcy5feE1pbj1NYXRoLm1pbi5hcHBseShudWxsLHRoaXMuX3hDb29yZHMpLHRoaXMuX3lNaW49TWF0aC5taW4uYXBwbHkobnVsbCx0aGlzLl95Q29vcmRzKSx0aGlzLl94TWF4PU1hdGgubWF4LmFwcGx5KG51bGwsdGhpcy5feENvb3JkcyksdGhpcy5feU1heD1NYXRoLm1heC5hcHBseShudWxsLHRoaXMuX3lDb29yZHMpO3ZhciBsPWUuc2NyZWVuVG9Xb3JsZENvb3JkaW5hdGVzKG5ldyBGKHRoaXMuX3hNaW4sdGhpcy5feU1pbikpLHA9ZS5zY3JlZW5Ub1dvcmxkQ29vcmRpbmF0ZXMobmV3IEYodGhpcy5feE1heCx0aGlzLl95TWF4KSk7dGhpcy5feE1pbldvcmxkPWwueCx0aGlzLl95TWluV29ybGQ9bC55LHRoaXMuX3hNYXhXb3JsZD1wLngsdGhpcy5feU1heFdvcmxkPXAueTt2YXIgZD1bbmV3IEYodGhpcy5feE1pbix0aGlzLl95TWluKSxuZXcgRih0aGlzLl94TWF4LHRoaXMuX3lNaW4pLG5ldyBGKHRoaXMuX3hNaW4sdGhpcy5feU1heCksbmV3IEYodGhpcy5feE1heCx0aGlzLl95TWF4KV07aWYoZFswXS54PDAmJmRbMV0ueD5lLmNhbnZhcy5jbGllbnRXaWR0aCYmKGRbMF0ueT4wfHxkWzJdLnk8ZS5jYW52YXMuY2xpZW50SGVpZ2h0KSlyZXR1cm4hMTtpZihkWzBdLnk8MCYmZFsyXS55PmUuY2FudmFzLmNsaWVudEhlaWdodCYmKGRbMV0ueD4wfHxkWzBdLng8ZS5jYW52YXMuY2xpZW50V2lkdGgpKXJldHVybiExO2Zvcih2YXIgZj0wO2Y8ZC5sZW5ndGg7ZisrKWlmKGRbZl0ueD4wJiZkW2ZdLnk+MCYmZFtmXS54PGUuY2FudmFzLmNsaWVudFdpZHRoJiZkW2ZdLnk8ZS5jYW52YXMuY2xpZW50SGVpZ2h0KXJldHVybiExO3JldHVybiEwfSx0LnByb3RvdHlwZS5kZWJ1Z0RyYXc9ZnVuY3Rpb24odCl7dC5iZWdpblBhdGgoKSx0LnN0cm9rZVN0eWxlPUF0LldoaXRlLnRvU3RyaW5nKCksdC5yZWN0KHRoaXMuX3hNaW5Xb3JsZCx0aGlzLl95TWluV29ybGQsdGhpcy5feE1heFdvcmxkLXRoaXMuX3hNaW5Xb3JsZCx0aGlzLl95TWF4V29ybGQtdGhpcy5feU1pbldvcmxkKSx0LnN0cm9rZSgpLHQuZmlsbFN0eWxlPUF0LlJlZC50b1N0cmluZygpLHQuYmVnaW5QYXRoKCksdC5hcmModGhpcy5fdG9wTGVmdC54LHRoaXMuX3RvcExlZnQueSw1LDAsMipNYXRoLlBJKSx0LmNsb3NlUGF0aCgpLHQuZmlsbCgpLHQuZmlsbFN0eWxlPUF0LkdyZWVuLnRvU3RyaW5nKCksdC5iZWdpblBhdGgoKSx0LmFyYyh0aGlzLl90b3BSaWdodC54LHRoaXMuX3RvcFJpZ2h0LnksNSwwLDIqTWF0aC5QSSksdC5jbG9zZVBhdGgoKSx0LmZpbGwoKSx0LmZpbGxTdHlsZT1BdC5CbHVlLnRvU3RyaW5nKCksdC5iZWdpblBhdGgoKSx0LmFyYyh0aGlzLl9ib3R0b21MZWZ0LngsdGhpcy5fYm90dG9tTGVmdC55LDUsMCwyKk1hdGguUEkpLHQuY2xvc2VQYXRoKCksdC5maWxsKCksdC5maWxsU3R5bGU9QXQuTWFnZW50YS50b1N0cmluZygpLHQuYmVnaW5QYXRoKCksdC5hcmModGhpcy5fYm90dG9tUmlnaHQueCx0aGlzLl9ib3R0b21SaWdodC55LDUsMCwyKk1hdGguUEkpLHQuY2xvc2VQYXRoKCksdC5maWxsKCl9LHR9KCksV2U9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy5jdWxsaW5nQm94PW5ldyBJZX1yZXR1cm4gdC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dC5ldmVudERpc3BhdGNoZXIsbj0hMDtudWxsIT10LmN1cnJlbnREcmF3aW5nJiYobj10aGlzLmN1bGxpbmdCb3guaXNTcHJpdGVPZmZTY3JlZW4odCxlKSk7dmFyIG89ITE7ZSYmZS5jdXJyZW50U2NlbmUmJmUuY3VycmVudFNjZW5lLmNhbWVyYSYmZS5jdXJyZW50U2NlbmUuY2FtZXJhLnZpZXdwb3J0JiYobz0hZS5jdXJyZW50U2NlbmUuY2FtZXJhLnZpZXdwb3J0LmludGVyc2VjdCh0LmJvZHkuY29sbGlkZXIuYm91bmRzKSksdC5pc09mZlNjcmVlbj9vJiZufHwoaS5lbWl0KFwiZW50ZXJ2aWV3cG9ydFwiLG5ldyBidCh0KSksdC5pc09mZlNjcmVlbj0hMSk6byYmbiYmKGkuZW1pdChcImV4aXR2aWV3cG9ydFwiLG5ldyBtdCh0KSksdC5pc09mZlNjcmVlbj0hMCl9LHR9KCksSGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCxlKXt0LmVuYWJsZUNhcHR1cmVQb2ludGVyJiYodC5pc0tpbGxlZCgpfHxlLmlucHV0LnBvaW50ZXJzLnJldmlzZVBvaW50ZXJFdmVudHNQYXRocyh0KSl9LHR9KCk7ZnVuY3Rpb24gemUodCxlLGksbixvLHIscyxhKXt2b2lkIDA9PT1lJiYoZT1BdC5SZWQpLHZvaWQgMD09PXMmJihzPTEpLHZvaWQgMD09PWEmJihhPVwiYnV0dFwiKSx0LmJlZ2luUGF0aCgpLHQubGluZVdpZHRoPXMsdC5saW5lQ2FwPWEsdC5zdHJva2VTdHlsZT1lLnRvU3RyaW5nKCksdC5tb3ZlVG8oaSxuKSx0LmxpbmVUbyhvLHIpLHQuY2xvc2VQYXRoKCksdC5zdHJva2UoKX1mdW5jdGlvbiBVZSh0LGUsaSl7dm9pZCAwPT09ZSYmKGU9QXQuUmVkKSx0LmJlZ2luUGF0aCgpLHQuc3Ryb2tlU3R5bGU9ZS50b1N0cmluZygpLHQuYXJjKGkueCxpLnksNSwwLDIqTWF0aC5QSSksdC5jbG9zZVBhdGgoKSx0LnN0cm9rZSgpfWZ1bmN0aW9uIE5lKHQsZSxpLG4sbyl7dm9pZCAwPT09byYmKG89MSk7dmFyIHI9ZT9lLnRvU3RyaW5nKCk6XCJibHVlXCIscz1uLnNjYWxlKG8pO3QuYmVnaW5QYXRoKCksdC5zdHJva2VTdHlsZT1yLHQubW92ZVRvKGkueCxpLnkpLHQubGluZVRvKGkueCtzLngsaS55K3MueSksdC5jbG9zZVBhdGgoKSx0LnN0cm9rZSgpfWZ1bmN0aW9uIHFlKHQsZSxpLG4sbyxyLHMsYSl7dmFyIGg7aWYodm9pZCAwPT09ciYmKHI9NSksdm9pZCAwPT09cyYmKHM9QXQuV2hpdGUpLHZvaWQgMD09PWEmJihhPW51bGwpLFwibnVtYmVyXCI9PXR5cGVvZiByKWg9e3RsOnIsdHI6cixicjpyLGJsOnJ9O2Vsc2V7dmFyIGM9e3RsOjAsdHI6MCxicjowLGJsOjB9O2Zvcih2YXIgdSBpbiBjKWlmKGMuaGFzT3duUHJvcGVydHkodSkpe3ZhciBsPXU7aFtsXT1yW2xdfHxjW2xdfX10LmJlZ2luUGF0aCgpLHQubW92ZVRvKGUraC50bCxpKSx0LmxpbmVUbyhlK24taC50cixpKSx0LnF1YWRyYXRpY0N1cnZlVG8oZStuLGksZStuLGkraC50ciksdC5saW5lVG8oZStuLGkrby1oLmJyKSx0LnF1YWRyYXRpY0N1cnZlVG8oZStuLGkrbyxlK24taC5icixpK28pLHQubGluZVRvKGUraC5ibCxpK28pLHQucXVhZHJhdGljQ3VydmVUbyhlLGkrbyxlLGkrby1oLmJsKSx0LmxpbmVUbyhlLGkraC50bCksdC5xdWFkcmF0aWNDdXJ2ZVRvKGUsaSxlK2gudGwsaSksdC5jbG9zZVBhdGgoKSxhJiYodC5maWxsU3R5bGU9YS50b1N0cmluZygpLHQuZmlsbCgpKSxzJiYodC5zdHJva2VTdHlsZT1zLnRvU3RyaW5nKCksdC5zdHJva2UoKSl9ZnVuY3Rpb24gR2UodCxlLGksbixvLHIpe3ZvaWQgMD09PW8mJihvPUF0LldoaXRlKSx2b2lkIDA9PT1yJiYocj1udWxsKSx0LmJlZ2luUGF0aCgpLHQuYXJjKGUsaSxuLDAsMipNYXRoLlBJKSx0LmNsb3NlUGF0aCgpLHImJih0LmZpbGxTdHlsZT1yLnRvU3RyaW5nKCksdC5maWxsKCkpLG8mJih0LnN0cm9rZVN0eWxlPW8udG9TdHJpbmcoKSx0LnN0cm9rZSgpKX12YXIgVmU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxpKXt0aGlzLl9uYW1lPXQsdGhpcy5fY2F0ZWdvcnk9ZSx0aGlzLl9tYXNrPWl9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcIm5hbWVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX25hbWV9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiY2F0ZWdvcnlcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NhdGVnb3J5fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcIm1hc2tcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21hc2t9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUuY2FuQ29sbGlkZT1mdW5jdGlvbih0KXtyZXR1cm4gMCE9KHRoaXMuY2F0ZWdvcnkmdC5tYXNrKSYmMCE9KHQuY2F0ZWdvcnkmdGhpcy5tYXNrKX0sdC5BbGw9bmV3IHQoXCJDb2xsaWRlIHdpdGggYWxsIGdyb3Vwc1wiLC0xLC0xKSx0fSgpLFhlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLGkpe3RoaXMuY29sbGlkZXJBPWUsdGhpcy5jb2xsaWRlckI9aSx0aGlzLmlkPW51bGwsdGhpcy5jb2xsaXNpb249bnVsbCx0aGlzLmlkPXQuY2FsY3VsYXRlUGFpckhhc2goZSxpKX1yZXR1cm4gdC5jYW5Db2xsaWRlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuISF0Lmdyb3VwLmNhbkNvbGxpZGUoZS5ncm91cCkmJigodC50eXBlIT09Q3QuRml4ZWR8fGUudHlwZSE9PUN0LkZpeGVkKSYmKGUudHlwZSE9PUN0LlByZXZlbnRDb2xsaXNpb24mJnQudHlwZSE9PUN0LlByZXZlbnRDb2xsaXNpb24mJiEoIXQuYWN0aXZlfHwhZS5hY3RpdmUpKSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImNhbkNvbGxpZGVcIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5jb2xsaWRlckEsaT10aGlzLmNvbGxpZGVyQjtyZXR1cm4gdC5jYW5Db2xsaWRlKGUsaSl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUuY29sbGlkZT1mdW5jdGlvbigpe3RoaXMuY29sbGlzaW9uPXRoaXMuY29sbGlkZXJBLmNvbGxpZGUodGhpcy5jb2xsaWRlckIpfSx0LnByb3RvdHlwZS5yZXNvbHZlPWZ1bmN0aW9uKHQpe3RoaXMuY29sbGlzaW9uJiZ0aGlzLmNvbGxpc2lvbi5yZXNvbHZlKHQpfSx0LmNhbGN1bGF0ZVBhaXJIYXNoPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuaWQ8ZS5pZD9cIiNcIit0LmlkK1wiK1wiK2UuaWQ6XCIjXCIrZS5pZCtcIitcIit0LmlkfSx0LnByb3RvdHlwZS5kZWJ1Z0RyYXc9ZnVuY3Rpb24odCl7dGhpcy5jb2xsaXNpb24mJihUdC5zaG93Q29udGFjdHMmJlVlKHQsQXQuUmVkLHRoaXMuY29sbGlzaW9uLnBvaW50KSxUdC5zaG93Q29sbGlzaW9uTm9ybWFscyYmTmUodCxBdC5DeWFuLHRoaXMuY29sbGlzaW9uLnBvaW50LHRoaXMuY29sbGlzaW9uLm5vcm1hbCwzMCkpfSx0fSgpO2Z1bmN0aW9uIEtlKHQpe3JldHVybiB0IGluc3RhbmNlb2YgWWV9dmFyIFllPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt2YXIgZT10LmJvZHksaT10LnR5cGUsbj10Lmdyb3VwLG89dC5zaGFwZSxyPXQub2Zmc2V0LHM9dC51c2VTaGFwZUluZXJ0aWEsYT12b2lkIDA9PT1zfHxzO3RoaXMuX2V2ZW50cz1uZXcgUHQodGhpcyksdGhpcy50eXBlPUN0LlByZXZlbnRDb2xsaXNpb24sdGhpcy5ncm91cD1WZS5BbGwsdGhpcy5tYXNzPTEsdGhpcy5pbmVydGlhPTFlMyx0aGlzLmZyaWN0aW9uPS45OSx0aGlzLmJvdW5jaW5lc3M9LjIsZSYmZS5jb2xsaWRlciYmIW8/dGhpcy5fc2hhcGU9ZS5jb2xsaWRlci5zaGFwZToodGhpcy5fc2hhcGU9byx0aGlzLmJvZHk9ZSksdGhpcy51c2VTaGFwZUluZXJ0aWE9YSx0aGlzLl9zaGFwZS5jb2xsaWRlcj10aGlzLHRoaXMudHlwZT1pfHx0aGlzLnR5cGUsdGhpcy5ncm91cD1ufHx0aGlzLmdyb3VwLHRoaXMub2Zmc2V0PXJ8fEYuWmVyb31yZXR1cm4gdC5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHQoe2JvZHk6bnVsbCx0eXBlOnRoaXMudHlwZSxzaGFwZTp0aGlzLl9zaGFwZS5jbG9uZSgpLGdyb3VwOnRoaXMuZ3JvdXAsb2Zmc2V0OnRoaXMub2Zmc2V0fSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImlkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmJvZHk/dGhpcy5ib2R5LmlkOi0xfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcInNoYXBlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaGFwZX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3NoYXBlPXQsdGhpcy5fc2hhcGUuY29sbGlkZXI9dGhpcyx0aGlzLnVzZVNoYXBlSW5lcnRpYSYmKHRoaXMuaW5lcnRpYT1pc05hTih0aGlzLl9zaGFwZS5pbmVydGlhKT90aGlzLmluZXJ0aWE6dGhpcy5fc2hhcGUuaW5lcnRpYSl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiY2VudGVyXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmJvdW5kcy5jZW50ZXJ9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiYWN0aXZlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmJvZHkuYWN0aXZlfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLmNvbGxpZGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc2hhcGUuY29sbGlkZSh0LnNoYXBlKX0sdC5wcm90b3R5cGUuZ2V0Q2xvc2VzdExpbmVCZXR3ZWVuPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNoYXBlLmdldENsb3Nlc3RMaW5lQmV0d2Vlbih0LnNoYXBlKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwib2Zmc2V0XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNoYXBlLm9mZnNldC5jbG9uZSgpfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5zaGFwZS5vZmZzZXQ9dC5jbG9uZSgpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLnRvdWNoaW5nPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBYZSh0aGlzLHQpO3JldHVybiBlLmNvbGxpZGUoKSwhIWUuY29sbGlzaW9ufSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJib3VuZHNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2hhcGU/dGhpcy5zaGFwZS5ib3VuZHM6dGhpcy5ib2R5PyhuZXcgWXQpLnRyYW5zbGF0ZSh0aGlzLmJvZHkucG9zKTpuZXcgWXR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwibG9jYWxCb3VuZHNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2hhcGU/dGhpcy5zaGFwZS5sb2NhbEJvdW5kczpuZXcgWXR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKCl7dGhpcy5zaGFwZSYmdGhpcy5zaGFwZS5yZWNhbGMoKX0sdC5wcm90b3R5cGUuZW1pdD1mdW5jdGlvbih0LGUpe3RoaXMuX2V2ZW50cy5lbWl0KHQsZSl9LHQucHJvdG90eXBlLm9uPWZ1bmN0aW9uKHQsZSl7dGhpcy5fZXZlbnRzLm9uKHQsZSl9LHQucHJvdG90eXBlLm9mZj1mdW5jdGlvbih0LGUpe3RoaXMuX2V2ZW50cy5vZmYodCxlKX0sdC5wcm90b3R5cGUub25jZT1mdW5jdGlvbih0LGUpe3RoaXMuX2V2ZW50cy5vbmNlKHQsZSl9LHQucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5fZXZlbnRzLmNsZWFyKCl9LHQucHJvdG90eXBlLmRlYnVnRHJhdz1mdW5jdGlvbih0KXtUdC5zaG93TW90aW9uVmVjdG9ycyYmKE5lKHQsQXQuWWVsbG93LHRoaXMuYm9keS5wb3MsdGhpcy5ib2R5LmFjYy5hZGQoVHQuYWNjKSksTmUodCxBdC5SZWQsdGhpcy5ib2R5LnBvcyx0aGlzLmJvZHkudmVsKSxVZSh0LEF0LlJlZCx0aGlzLmJvZHkucG9zKSksVHQuc2hvd0JvdW5kcyYmdGhpcy5ib3VuZHMuZGVidWdEcmF3KHQsQXQuWWVsbG93KSxUdC5zaG93QXJlYSYmdGhpcy5zaGFwZS5kZWJ1Z0RyYXcodCxBdC5HcmVlbil9LHR9KCksWmU9ZnVuY3Rpb24oKXt2YXIgdD1mdW5jdGlvbihlLGkpe3JldHVybih0PU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbih0LGUpe3QuX19wcm90b19fPWV9fHxmdW5jdGlvbih0LGUpe2Zvcih2YXIgaSBpbiBlKWUuaGFzT3duUHJvcGVydHkoaSkmJih0W2ldPWVbaV0pfSkoZSxpKX07cmV0dXJuIGZ1bmN0aW9uKGUsaSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9ZX10KGUsaSksZS5wcm90b3R5cGU9bnVsbD09PWk/T2JqZWN0LmNyZWF0ZShpKToobi5wcm90b3R5cGU9aS5wcm90b3R5cGUsbmV3IG4pfX0oKSxRZT1mdW5jdGlvbih0LGUsaSxuKXt2YXIgbyxyPWFyZ3VtZW50cy5sZW5ndGgscz1yPDM/ZTpudWxsPT09bj9uPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSxpKTpuO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBSZWZsZWN0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBSZWZsZWN0LmRlY29yYXRlKXM9UmVmbGVjdC5kZWNvcmF0ZSh0LGUsaSxuKTtlbHNlIGZvcih2YXIgYT10Lmxlbmd0aC0xO2E+PTA7YS0tKShvPXRbYV0pJiYocz0ocjwzP28ocyk6cj4zP28oZSxpLHMpOm8oZSxpKSl8fHMpO3JldHVybiByPjMmJnMmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkscyksc307ZnVuY3Rpb24gSmUodCl7cmV0dXJuIHQgaW5zdGFuY2VvZiAkZX12YXIgJGU9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLGksbixvLHIpe3JldHVybiB0LmNhbGwodGhpcyxlLGksbixvLHIpfHx0aGlzfXJldHVybiBaZShlLHQpLGV9KGhlKGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoaSxuLG8scixzKXt2YXIgYT10LmNhbGwodGhpcyl8fHRoaXM7YS5pZD1lLm1heElkKyssYS5faGVpZ2h0PTAsYS5fd2lkdGg9MCxhLmlzT2ZmU2NyZWVuPSExLGEudmlzaWJsZT0hMCxhLm9wYWNpdHk9MSxhLnByZXZpb3VzT3BhY2l0eT0xLGEubG9nZ2VyPU50LmdldEluc3RhbmNlKCksYS5zY2VuZT1udWxsLGEucGFyZW50PW51bGwsYS5jaGlsZHJlbj1bXSxhLmNvbGxpc2lvbkdyb3Vwcz1bXSxhLl9jb2xsaXNpb25IYW5kbGVycz17fSxhLl9pc0luaXRpYWxpemVkPSExLGEuZnJhbWVzPXt9LGEuX2VmZmVjdHNEaXJ0eT0hMSxhLmN1cnJlbnREcmF3aW5nPW51bGwsYS50cmFpdHM9W10sYS5lbmFibGVDYXB0dXJlUG9pbnRlcj0hMSxhLmNhcHR1cmVQb2ludGVyPXtjYXB0dXJlTW92ZUV2ZW50czohMSxjYXB0dXJlRHJhZ0V2ZW50czohMX0sYS5fekluZGV4PTAsYS5faXNLaWxsZWQ9ITEsYS5fb3BhY2l0eUZ4PW5ldyB0ZShhLm9wYWNpdHkpLGEuX2NhcHR1cmVQb2ludGVyRXZlbnRzPVtcInBvaW50ZXJ1cFwiLFwicG9pbnRlcmRvd25cIixcInBvaW50ZXJtb3ZlXCIsXCJwb2ludGVyZW50ZXJcIixcInBvaW50ZXJsZWF2ZVwiLFwicG9pbnRlcmRyYWdzdGFydFwiLFwicG9pbnRlcmRyYWdlbmRcIixcInBvaW50ZXJkcmFnbW92ZVwiLFwicG9pbnRlcmRyYWdlbnRlclwiLFwicG9pbnRlcmRyYWdsZWF2ZVwiXSxhLl9jYXB0dXJlTW92ZUV2ZW50cz1bXCJwb2ludGVybW92ZVwiLFwicG9pbnRlcmVudGVyXCIsXCJwb2ludGVybGVhdmVcIixcInBvaW50ZXJkcmFnbW92ZVwiLFwicG9pbnRlcmRyYWdlbnRlclwiLFwicG9pbnRlcmRyYWdsZWF2ZVwiXSxhLl9jYXB0dXJlRHJhZ0V2ZW50cz1bXCJwb2ludGVyZHJhZ3N0YXJ0XCIsXCJwb2ludGVyZHJhZ2VuZFwiLFwicG9pbnRlcmRyYWdtb3ZlXCIsXCJwb2ludGVyZHJhZ2VudGVyXCIsXCJwb2ludGVyZHJhZ2xlYXZlXCJdLGEuX2luaXREZWZhdWx0cygpO3ZhciBoPSEwO2lmKGkmJlwib2JqZWN0XCI9PXR5cGVvZiBpKXt2YXIgYz1pO2k9Yy5wb3M/Yy5wb3MueDpjLngsbj1jLnBvcz9jLnBvcy55OmMueSxvPWMud2lkdGgscj1jLmhlaWdodCxjLmJvZHkmJihoPSExLGEuYm9keT1jLmJvZHkpLGMuYW5jaG9yJiYoYS5hbmNob3I9Yy5hbmNob3IpfXJldHVybiBhLl93aWR0aD1vfHwwLGEuX2hlaWdodD1yfHwwLGgmJihhLmJvZHk9bmV3IGplKHtjb2xsaWRlcjpuZXcgWWUoe3R5cGU6Q3QuUGFzc2l2ZSxzaGFwZTpSZS5Cb3goYS5fd2lkdGgsYS5faGVpZ2h0LGEuYW5jaG9yKX0pfSkpLGEucG9zLng9aXx8MCxhLnBvcy55PW58fDAscyYmKGEuY29sb3I9cyxhLm9wYWNpdHk9cy5hKSxhLnRyYWl0cy5wdXNoKG5ldyBMZSksYS50cmFpdHMucHVzaChuZXcgV2UpLGEudHJhaXRzLnB1c2gobmV3IEhlKSxhLmFjdGlvblF1ZXVlPW5ldyBCZShhKSxhLmFjdGlvbnM9bmV3IGtlKGEpLGF9cmV0dXJuIFplKGUsdCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiYm9keVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYm9keX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2JvZHk9dCx0aGlzLl9ib2R5LmFjdG9yPXRoaXN9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiY29sbGlzaW9uQXJlYVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ib2R5LmNvbGxpZGVyLnNoYXBlfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5ib2R5LmNvbGxpZGVyLnNoYXBlPXR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwieFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ib2R5LnBvcy54fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5ib2R5LnBvcy54PXR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwieVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ib2R5LnBvcy55fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5ib2R5LnBvcy55PXR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwicG9zXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmJvZHkucG9zfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5ib2R5LnBvcy5zZXRUbyh0LngsdC55KX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJvbGRQb3NcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYm9keS5vbGRQb3N9LHNldDpmdW5jdGlvbih0KXt0aGlzLmJvZHkub2xkUG9zLnNldFRvKHQueCx0LnkpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcInZlbFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ib2R5LnZlbH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuYm9keS52ZWwuc2V0VG8odC54LHQueSl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwib2xkVmVsXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmJvZHkub2xkVmVsfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5ib2R5Lm9sZFZlbC5zZXRUbyh0LngsdC55KX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJhY2NcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYm9keS5hY2N9LHNldDpmdW5jdGlvbih0KXt0aGlzLmJvZHkuYWNjLnNldFRvKHQueCx0LnkpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcIm9sZEFjY1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ib2R5Lm9sZEFjY30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuYm9keS5vbGRBY2Muc2V0VG8odC54LHQueSl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwicm90YXRpb25cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYm9keS5yb3RhdGlvbn0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuYm9keS5yb3RhdGlvbj10fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcInJ4XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmJvZHkucnh9LHNldDpmdW5jdGlvbih0KXt0aGlzLmJvZHkucng9dH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJ0b3JxdWVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYm9keS50b3JxdWV9LHNldDpmdW5jdGlvbih0KXt0aGlzLmJvZHkudG9ycXVlPXR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwibWFzc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ib2R5LmNvbGxpZGVyLm1hc3N9LHNldDpmdW5jdGlvbih0KXt0aGlzLmJvZHkuY29sbGlkZXIubWFzcz10fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcIm1vaVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ib2R5LmNvbGxpZGVyLmluZXJ0aWF9LHNldDpmdW5jdGlvbih0KXt0aGlzLmJvZHkuY29sbGlkZXIuaW5lcnRpYT10fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImZyaWN0aW9uXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmJvZHkuY29sbGlkZXIuZnJpY3Rpb259LHNldDpmdW5jdGlvbih0KXt0aGlzLmJvZHkuY29sbGlkZXIuZnJpY3Rpb249dH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJyZXN0aXR1dGlvblwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ib2R5LmNvbGxpZGVyLmJvdW5jaW5lc3N9LHNldDpmdW5jdGlvbih0KXt0aGlzLmJvZHkuY29sbGlkZXIuYm91bmNpbmVzcz10fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcInNjYWxlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmJvZHkuc2NhbGV9LHNldDpmdW5jdGlvbih0KXt0aGlzLmJvZHkuc2NhbGU9dH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJvbGRTY2FsZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ib2R5Lm9sZFNjYWxlfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5ib2R5Lm9sZFNjYWxlPXR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwic3hcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYm9keS5zeH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuYm9keS5zeD10fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcInN5XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmJvZHkuc3l9LHNldDpmdW5jdGlvbih0KXt0aGlzLmJvZHkuc3k9dH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJjb2xsaXNpb25UeXBlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmJvZHkuY29sbGlkZXIudHlwZX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuYm9keS5jb2xsaWRlci50eXBlPXR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiY29sb3JcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbG9yfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fY29sb3I9dC5jbG9uZSgpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLm9uSW5pdGlhbGl6ZT1mdW5jdGlvbih0KXt9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImlzSW5pdGlhbGl6ZWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzSW5pdGlhbGl6ZWR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuX2luaXRpYWxpemU9ZnVuY3Rpb24oZSl7dGhpcy5pc0luaXRpYWxpemVkfHwodGhpcy5vbkluaXRpYWxpemUoZSksdC5wcm90b3R5cGUuZW1pdC5jYWxsKHRoaXMsXCJpbml0aWFsaXplXCIsbmV3IHl0KGUsdGhpcykpLHRoaXMuX2lzSW5pdGlhbGl6ZWQ9ITApO2Zvcih2YXIgaT0wLG49dGhpcy5jaGlsZHJlbjtpPG4ubGVuZ3RoO2krKyl7bltpXS5faW5pdGlhbGl6ZShlKX19LGUucHJvdG90eXBlLl9pbml0RGVmYXVsdHM9ZnVuY3Rpb24oKXt0aGlzLmFuY2hvcj0kZS5kZWZhdWx0cy5hbmNob3IuY2xvbmUoKX0sZS5wcm90b3R5cGUuX2NoZWNrRm9yUG9pbnRlck9wdEluPWZ1bmN0aW9uKHQpe2lmKHQpe3ZhciBlPXQudG9Mb3dlckNhc2UoKTstMSE9PXRoaXMuX2NhcHR1cmVQb2ludGVyRXZlbnRzLmluZGV4T2YoZSkmJih0aGlzLmVuYWJsZUNhcHR1cmVQb2ludGVyPSEwLC0xIT09dGhpcy5fY2FwdHVyZU1vdmVFdmVudHMuaW5kZXhPZihlKSYmKHRoaXMuY2FwdHVyZVBvaW50ZXIuY2FwdHVyZU1vdmVFdmVudHM9ITApLC0xIT09dGhpcy5fY2FwdHVyZURyYWdFdmVudHMuaW5kZXhPZihlKSYmKHRoaXMuY2FwdHVyZVBvaW50ZXIuY2FwdHVyZURyYWdFdmVudHM9ITApKX19LGUucHJvdG90eXBlLm9uPWZ1bmN0aW9uKGUsaSl7dGhpcy5fY2hlY2tGb3JQb2ludGVyT3B0SW4oZSksdC5wcm90b3R5cGUub24uY2FsbCh0aGlzLGUsaSl9LGUucHJvdG90eXBlLm9uY2U9ZnVuY3Rpb24oZSxpKXt0aGlzLl9jaGVja0ZvclBvaW50ZXJPcHRJbihlKSx0LnByb3RvdHlwZS5vbmNlLmNhbGwodGhpcyxlLGkpfSxlLnByb3RvdHlwZS5vZmY9ZnVuY3Rpb24oZSxpKXt0LnByb3RvdHlwZS5vZmYuY2FsbCh0aGlzLGUsaSl9LGUucHJvdG90eXBlLl9wcmVraWxsPWZ1bmN0aW9uKGUpe3QucHJvdG90eXBlLmVtaXQuY2FsbCh0aGlzLFwicHJla2lsbFwiLG5ldyBWKHRoaXMpKSx0aGlzLm9uUHJlS2lsbChlKX0sZS5wcm90b3R5cGUub25QcmVLaWxsPWZ1bmN0aW9uKHQpe30sZS5wcm90b3R5cGUuX3Bvc3RraWxsPWZ1bmN0aW9uKGUpe3QucHJvdG90eXBlLmVtaXQuY2FsbCh0aGlzLFwicG9zdGtpbGxcIixuZXcgWCh0aGlzKSksdGhpcy5vblBvc3RLaWxsKGUpfSxlLnByb3RvdHlwZS5vblBvc3RLaWxsPWZ1bmN0aW9uKHQpe30sZS5wcm90b3R5cGUua2lsbD1mdW5jdGlvbigpe3RoaXMuc2NlbmU/KHRoaXMuX3ByZWtpbGwodGhpcy5zY2VuZSksdGhpcy5lbWl0KFwia2lsbFwiLG5ldyBHKHRoaXMpKSx0aGlzLl9pc0tpbGxlZD0hMCx0aGlzLnNjZW5lLnJlbW92ZSh0aGlzKSx0aGlzLl9wb3N0a2lsbCh0aGlzLnNjZW5lKSk6dGhpcy5sb2dnZXIud2FybihcIkNhbm5vdCBraWxsIGFjdG9yLCBpdCB3YXMgbmV2ZXIgYWRkZWQgdG8gdGhlIFNjZW5lXCIpfSxlLnByb3RvdHlwZS51bmtpbGw9ZnVuY3Rpb24oKXt0aGlzLl9pc0tpbGxlZD0hMX0sZS5wcm90b3R5cGUuaXNLaWxsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNLaWxsZWR9LGUucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0KXt0LmJvZHkuY29sbGlkZXIudHlwZT1DdC5QcmV2ZW50Q29sbGlzaW9uLEEodCx0aGlzLmNoaWxkcmVuKSYmKHQucGFyZW50PXRoaXMpfSxlLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCl7RSh0LHRoaXMuY2hpbGRyZW4pJiYodC5wYXJlbnQ9bnVsbCl9LGUucHJvdG90eXBlLnNldERyYXdpbmc9ZnVuY3Rpb24odCl7dD10LnRvU3RyaW5nKCksdGhpcy5jdXJyZW50RHJhd2luZyE9PXRoaXMuZnJhbWVzW3RdJiYobnVsbCE9dGhpcy5mcmFtZXNbdF0/KHRoaXMuZnJhbWVzW3RdLnJlc2V0KCksdGhpcy5jdXJyZW50RHJhd2luZz10aGlzLmZyYW1lc1t0XSk6TnQuZ2V0SW5zdGFuY2UoKS5lcnJvcihcInRoZSBzcGVjaWZpZWQgZHJhd2luZyBrZXkgXCIrdCtcIiBkb2VzIG5vdCBleGlzdFwiKSl9LGUucHJvdG90eXBlLmFkZERyYXdpbmc9ZnVuY3Rpb24oKXsyPT09YXJndW1lbnRzLmxlbmd0aD8odGhpcy5mcmFtZXNbYXJndW1lbnRzWzBdXT1hcmd1bWVudHNbMV0sdGhpcy5jdXJyZW50RHJhd2luZ3x8KHRoaXMuY3VycmVudERyYXdpbmc9YXJndW1lbnRzWzFdKSx0aGlzLl9lZmZlY3RzRGlydHk9ITApOihhcmd1bWVudHNbMF1pbnN0YW5jZW9mIGxlJiZ0aGlzLmFkZERyYXdpbmcoXCJkZWZhdWx0XCIsYXJndW1lbnRzWzBdKSxhcmd1bWVudHNbMF1pbnN0YW5jZW9mIGRlJiZ0aGlzLmFkZERyYXdpbmcoXCJkZWZhdWx0XCIsYXJndW1lbnRzWzBdLmFzU3ByaXRlKCkpKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwielwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRaSW5kZXgoKX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuc2V0WkluZGV4KHQpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmdldFpJbmRleD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl96SW5kZXh9LGUucHJvdG90eXBlLnNldFpJbmRleD1mdW5jdGlvbih0KXt0aGlzLnNjZW5lLmNsZWFudXBEcmF3VHJlZSh0aGlzKSx0aGlzLl96SW5kZXg9dCx0aGlzLnNjZW5lLnVwZGF0ZURyYXdUcmVlKHRoaXMpfSxlLnByb3RvdHlwZS5hZGRDb2xsaXNpb25Hcm91cD1mdW5jdGlvbih0KXt0aGlzLmNvbGxpc2lvbkdyb3Vwcy5wdXNoKHQpfSxlLnByb3RvdHlwZS5yZW1vdmVDb2xsaXNpb25Hcm91cD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmNvbGxpc2lvbkdyb3Vwcy5pbmRleE9mKHQpOy0xIT09ZSYmdGhpcy5jb2xsaXNpb25Hcm91cHMuc3BsaWNlKGUsMSl9LGUucHJvdG90eXBlLmdldENlbnRlcj1mdW5jdGlvbigpe3JldHVybiBuZXcgRih0aGlzLnBvcy54K3RoaXMud2lkdGgvMi10aGlzLmFuY2hvci54KnRoaXMud2lkdGgsdGhpcy5wb3MueSt0aGlzLmhlaWdodC8yLXRoaXMuYW5jaG9yLnkqdGhpcy5oZWlnaHQpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJjZW50ZXJcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBGKHRoaXMucG9zLngrdGhpcy53aWR0aC8yLXRoaXMuYW5jaG9yLngqdGhpcy53aWR0aCx0aGlzLnBvcy55K3RoaXMuaGVpZ2h0LzItdGhpcy5hbmNob3IueSp0aGlzLmhlaWdodCl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwid2lkdGhcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dpZHRoKnRoaXMuZ2V0R2xvYmFsU2NhbGUoKS54fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fd2lkdGg9dC90aGlzLnNjYWxlLngsdGhpcy5ib2R5LmNvbGxpZGVyLnNoYXBlPVJlLkJveCh0aGlzLl93aWR0aCx0aGlzLl9oZWlnaHQsdGhpcy5hbmNob3IpLHRoaXMuYm9keS5tYXJrQ29sbGlzaW9uU2hhcGVEaXJ0eSgpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmdldFdpZHRoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMud2lkdGh9LGUucHJvdG90eXBlLnNldFdpZHRoPWZ1bmN0aW9uKHQpe3RoaXMud2lkdGg9dH0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiaGVpZ2h0XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9oZWlnaHQqdGhpcy5nZXRHbG9iYWxTY2FsZSgpLnl9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9oZWlnaHQ9dC90aGlzLnNjYWxlLnksdGhpcy5ib2R5LmNvbGxpZGVyLnNoYXBlPVJlLkJveCh0aGlzLl93aWR0aCx0aGlzLl9oZWlnaHQsdGhpcy5hbmNob3IpLHRoaXMuYm9keS5tYXJrQ29sbGlzaW9uU2hhcGVEaXJ0eSgpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmdldEhlaWdodD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhlaWdodH0sZS5wcm90b3R5cGUuc2V0SGVpZ2h0PWZ1bmN0aW9uKHQpe3RoaXMuaGVpZ2h0PXR9LGUucHJvdG90eXBlLmdldExlZnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRCb3VuZHMoKS5sZWZ0fSxlLnByb3RvdHlwZS5nZXRSaWdodD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEJvdW5kcygpLnJpZ2h0fSxlLnByb3RvdHlwZS5nZXRUb3A9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRCb3VuZHMoKS50b3B9LGUucHJvdG90eXBlLmdldEJvdHRvbT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEJvdW5kcygpLmJvdHRvbX0sZS5wcm90b3R5cGUuZ2V0V29ybGRSb3RhdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcmVudD90aGlzLnJvdGF0aW9uK3RoaXMucGFyZW50LmdldFdvcmxkUm90YXRpb24oKTp0aGlzLnJvdGF0aW9ufSxlLnByb3RvdHlwZS5nZXRXb3JsZFBvcz1mdW5jdGlvbigpe2lmKCF0aGlzLnBhcmVudClyZXR1cm4gdGhpcy5wb3MuY2xvbmUoKTt2YXIgdD1bXSxlPXRoaXM7Zm9yKHQucHVzaCh0aGlzKTtlLnBhcmVudDspZT1lLnBhcmVudCx0LnB1c2goZSk7dmFyIGk9dC5yZWR1Y2VSaWdodChmdW5jdGlvbih0LGUpe3JldHVybiBlLnBhcmVudD90K2UucG9zLngqZS5nZXRHbG9iYWxTY2FsZSgpLng6dCtlLnBvcy54fSwwKSxuPXQucmVkdWNlUmlnaHQoZnVuY3Rpb24odCxlKXtyZXR1cm4gZS5wYXJlbnQ/dCtlLnBvcy55KmUuZ2V0R2xvYmFsU2NhbGUoKS55OnQrZS5wb3MueX0sMCksbz1lLmdldFdvcmxkUG9zKCkscj10aGlzLmdldFdvcmxkUm90YXRpb24oKTtyZXR1cm4gbmV3IEYoaSxuKS5yb3RhdGUocixvKX0sZS5wcm90b3R5cGUuZ2V0R2xvYmFsU2NhbGU9ZnVuY3Rpb24oKXtpZighdGhpcy5wYXJlbnQpcmV0dXJuIG5ldyBGKHRoaXMuc2NhbGUueCx0aGlzLnNjYWxlLnkpO3ZhciB0PXRoaXMucGFyZW50LmdldEdsb2JhbFNjYWxlKCk7cmV0dXJuIG5ldyBGKHRoaXMuc2NhbGUueCp0LngsdGhpcy5zY2FsZS55KnQueSl9LGUucHJvdG90eXBlLmdldEJvdW5kcz1mdW5jdGlvbih0KXt2b2lkIDA9PT10JiYodD0hMCk7dmFyIGU9dGhpcy5fZ2V0Q2FsY3VsYXRlZEFuY2hvcigpLGk9dGhpcy5nZXRXb3JsZFBvcygpLG49bmV3IFl0KGkueC1lLngsaS55LWUueSxpLngrdGhpcy53aWR0aC1lLngsaS55K3RoaXMuaGVpZ2h0LWUueSk7cmV0dXJuIHQ/bi5yb3RhdGUodGhpcy5yb3RhdGlvbixpKTpufSxlLnByb3RvdHlwZS5nZXRSZWxhdGl2ZUJvdW5kcz1mdW5jdGlvbih0KXt2b2lkIDA9PT10JiYodD0hMCk7dmFyIGU9dGhpcy5fZ2V0Q2FsY3VsYXRlZEFuY2hvcigpLGk9bmV3IFl0KC1lLngsLWUueSx0aGlzLndpZHRoLWUueCx0aGlzLmhlaWdodC1lLnkpO3JldHVybiB0P2kucm90YXRlKHRoaXMucm90YXRpb24pOml9LGUucHJvdG90eXBlLmdldEdlb21ldHJ5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0Qm91bmRzKCExKS5nZXRQb2ludHMoKX0sZS5wcm90b3R5cGUuZ2V0UmVsYXRpdmVHZW9tZXRyeT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFJlbGF0aXZlQm91bmRzKCExKS5nZXRQb2ludHMoKX0sZS5wcm90b3R5cGUuY29udGFpbnM9ZnVuY3Rpb24odCxlLGkpe3ZvaWQgMD09PWkmJihpPSExKTt2YXIgbj10aGlzLmdldFdvcmxkUG9zKCkuc3ViKHRoaXMucG9zKSxvPXRoaXMuYm9keS5jb2xsaWRlci5ib3VuZHMudHJhbnNsYXRlKG4pLmNvbnRhaW5zKG5ldyBGKHQsZSkpO3JldHVybiBpP298fHRoaXMuY2hpbGRyZW4uc29tZShmdW5jdGlvbihpKXtyZXR1cm4gaS5jb250YWlucyh0LGUsITApfSk6b30sZS5wcm90b3R5cGUuZ2V0U2lkZUZyb21JbnRlcnNlY3Q9ZnVuY3Rpb24odCl7cmV0dXJuIHQ/TWF0aC5hYnModC54KT5NYXRoLmFicyh0LnkpP3QueDwwP3AuUmlnaHQ6cC5MZWZ0OnQueTwwP3AuQm90dG9tOnAuVG9wOnAuTm9uZX0sZS5wcm90b3R5cGUuY29sbGlkZXNXaXRoU2lkZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmNvbGxpZGVzKHQpO3JldHVybiBlP01hdGguYWJzKGUueCk+TWF0aC5hYnMoZS55KT90aGlzLnBvcy54PHQucG9zLng/cC5SaWdodDpwLkxlZnQ6dGhpcy5wb3MueTx0LnBvcy55P3AuQm90dG9tOnAuVG9wOnAuTm9uZX0sZS5wcm90b3R5cGUuY29sbGlkZXM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5ib2R5LmNvbGxpZGVyLmJvdW5kcyxpPXQuYm9keS5jb2xsaWRlci5ib3VuZHM7cmV0dXJuIGUuaW50ZXJzZWN0KGkpfSxlLnByb3RvdHlwZS5vbkNvbGxpZGVzV2l0aD1mdW5jdGlvbih0LGUpe3RoaXMuX2NvbGxpc2lvbkhhbmRsZXJzW3RdfHwodGhpcy5fY29sbGlzaW9uSGFuZGxlcnNbdF09W10pLHRoaXMuX2NvbGxpc2lvbkhhbmRsZXJzW3RdLnB1c2goZSl9LGUucHJvdG90eXBlLmdldENvbGxpc2lvbkhhbmRsZXJzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbGxpc2lvbkhhbmRsZXJzfSxlLnByb3RvdHlwZS5yZW1vdmVDb2xsaWRlc1dpdGg9ZnVuY3Rpb24odCl7dGhpcy5fY29sbGlzaW9uSGFuZGxlcnNbdF09W119LGUucHJvdG90eXBlLndpdGhpbj1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmJvZHkuY29sbGlkZXIuc2hhcGUuZ2V0Q2xvc2VzdExpbmVCZXR3ZWVuKHQuYm9keS5jb2xsaWRlci5zaGFwZSkuZ2V0TGVuZ3RoKCk8PWV9LGUucHJvdG90eXBlLl9nZXRDYWxjdWxhdGVkQW5jaG9yPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBGKHRoaXMud2lkdGgqdGhpcy5hbmNob3IueCx0aGlzLmhlaWdodCp0aGlzLmFuY2hvci55KX0sZS5wcm90b3R5cGUuX3JlYXBwbHlFZmZlY3RzPWZ1bmN0aW9uKHQpe3QucmVtb3ZlRWZmZWN0KHRoaXMuX29wYWNpdHlGeCksdC5hZGRFZmZlY3QodGhpcy5fb3BhY2l0eUZ4KX0sZS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQsZSl7dGhpcy5faW5pdGlhbGl6ZSh0KSx0aGlzLl9wcmV1cGRhdGUodCxlKSx0aGlzLmFjdGlvblF1ZXVlLnVwZGF0ZShlKSx0aGlzLmNvbG9yJiYodGhpcy5jb2xvci5hPXRoaXMub3BhY2l0eSksdGhpcy5wcmV2aW91c09wYWNpdHkhPT10aGlzLm9wYWNpdHkmJih0aGlzLnByZXZpb3VzT3BhY2l0eT10aGlzLm9wYWNpdHksdGhpcy5fb3BhY2l0eUZ4Lm9wYWNpdHk9dGhpcy5vcGFjaXR5LHRoaXMuX2VmZmVjdHNEaXJ0eT0hMCksdGhpcy5ib2R5LmNhcHR1cmVPbGRUcmFuc2Zvcm0oKSx0aGlzLmJvZHkuaW50ZWdyYXRlKGUpO2Zvcih2YXIgaT0wLG49dGhpcy50cmFpdHM7aTxuLmxlbmd0aDtpKyspe25baV0udXBkYXRlKHRoaXMsdCxlKX1mb3IodmFyIG89MDtvPHRoaXMuY2hpbGRyZW4ubGVuZ3RoO28rKyl0aGlzLmNoaWxkcmVuW29dLnVwZGF0ZSh0LGUpO3RoaXMuX3Bvc3R1cGRhdGUodCxlKX0sZS5wcm90b3R5cGUub25QcmVVcGRhdGU9ZnVuY3Rpb24odCxlKXt9LGUucHJvdG90eXBlLm9uUG9zdFVwZGF0ZT1mdW5jdGlvbih0LGUpe30sZS5wcm90b3R5cGUuX3ByZXVwZGF0ZT1mdW5jdGlvbih0LGUpe3RoaXMuZW1pdChcInByZXVwZGF0ZVwiLG5ldyB0dCh0LGUsdGhpcykpLHRoaXMub25QcmVVcGRhdGUodCxlKX0sZS5wcm90b3R5cGUuX3Bvc3R1cGRhdGU9ZnVuY3Rpb24odCxlKXt0aGlzLmVtaXQoXCJwb3N0dXBkYXRlXCIsbmV3IHR0KHQsZSx0aGlzKSksdGhpcy5vblBvc3RVcGRhdGUodCxlKX0sZS5wcm90b3R5cGUuZHJhdz1mdW5jdGlvbih0LGUpe2lmKHQuc2F2ZSgpLHQudHJhbnNsYXRlKHRoaXMucG9zLngsdGhpcy5wb3MueSksdC5yb3RhdGUodGhpcy5yb3RhdGlvbiksdC5zY2FsZSh0aGlzLnNjYWxlLngsdGhpcy5zY2FsZS55KSx0LnNhdmUoKSx0LnRyYW5zbGF0ZSgtdGhpcy5fd2lkdGgqdGhpcy5hbmNob3IueCwtdGhpcy5faGVpZ2h0KnRoaXMuYW5jaG9yLnkpLHRoaXMuX3ByZWRyYXcodCxlKSx0aGlzLmN1cnJlbnREcmF3aW5nKXt2YXIgaT10aGlzLmN1cnJlbnREcmF3aW5nLG49KHRoaXMuX3dpZHRoLWkud2lkdGgqaS5zY2FsZS54KSp0aGlzLmFuY2hvci54LG89KHRoaXMuX2hlaWdodC1pLmhlaWdodCppLnNjYWxlLnkpKnRoaXMuYW5jaG9yLnk7dGhpcy5fZWZmZWN0c0RpcnR5JiYodGhpcy5fcmVhcHBseUVmZmVjdHModGhpcy5jdXJyZW50RHJhd2luZyksdGhpcy5fZWZmZWN0c0RpcnR5PSExKSx0aGlzLmN1cnJlbnREcmF3aW5nLmRyYXcodCxuLG8pfWVsc2UgdGhpcy5jb2xvciYmdGhpcy5ib2R5JiZ0aGlzLmJvZHkuY29sbGlkZXImJnRoaXMuYm9keS5jb2xsaWRlci5zaGFwZSYmdGhpcy5ib2R5LmNvbGxpZGVyLnNoYXBlLmRyYXcodCx0aGlzLmNvbG9yLG5ldyBGKHRoaXMud2lkdGgqdGhpcy5hbmNob3IueCx0aGlzLmhlaWdodCp0aGlzLmFuY2hvci55KSk7dC5yZXN0b3JlKCk7Zm9yKHZhciByPTA7cjx0aGlzLmNoaWxkcmVuLmxlbmd0aDtyKyspdGhpcy5jaGlsZHJlbltyXS52aXNpYmxlJiZ0aGlzLmNoaWxkcmVuW3JdLmRyYXcodCxlKTt0aGlzLl9wb3N0ZHJhdyh0LGUpLHQucmVzdG9yZSgpfSxlLnByb3RvdHlwZS5vblByZURyYXc9ZnVuY3Rpb24odCxlKXt9LGUucHJvdG90eXBlLm9uUG9zdERyYXc9ZnVuY3Rpb24odCxlKXt9LGUucHJvdG90eXBlLl9wcmVkcmF3PWZ1bmN0aW9uKHQsZSl7dGhpcy5lbWl0KFwicHJlZHJhd1wiLG5ldyBaKHQsZSx0aGlzKSksdGhpcy5vblByZURyYXcodCxlKX0sZS5wcm90b3R5cGUuX3Bvc3RkcmF3PWZ1bmN0aW9uKHQsZSl7dGhpcy5lbWl0KFwicG9zdGRyYXdcIixuZXcgWih0LGUsdGhpcykpLHRoaXMub25Qb3N0RHJhdyh0LGUpfSxlLnByb3RvdHlwZS5kZWJ1Z0RyYXc9ZnVuY3Rpb24odCl7dGhpcy5lbWl0KFwicHJlZGVidWdkcmF3XCIsbmV3IEoodCx0aGlzKSksdGhpcy5ib2R5LmNvbGxpZGVyLmRlYnVnRHJhdyh0KTt2YXIgZT10aGlzLmJvZHkuY29sbGlkZXIubG9jYWxCb3VuZHMudHJhbnNsYXRlKHRoaXMuZ2V0V29ybGRQb3MoKSk7ZS5kZWJ1Z0RyYXcodCksdC5maWxsVGV4dChcImlkOiBcIit0aGlzLmlkLGUubGVmdCszLGUudG9wKzEwKSx0LmZpbGxTdHlsZT1BdC5ZZWxsb3cudG9TdHJpbmcoKSx0LmJlZ2luUGF0aCgpLHQuYXJjKHRoaXMuZ2V0V29ybGRQb3MoKS54LHRoaXMuZ2V0V29ybGRQb3MoKS55LDMsMCwyKk1hdGguUEkpLHQuY2xvc2VQYXRoKCksdC5maWxsKCk7Zm9yKHZhciBpPTA7aTx0aGlzLnRyYWl0cy5sZW5ndGg7aSsrKXRoaXMudHJhaXRzW2ldaW5zdGFuY2VvZiBXZSYmdGhpcy50cmFpdHNbaV0uY3VsbGluZ0JveC5kZWJ1Z0RyYXcodCk7dC5zdHJva2VTdHlsZT1BdC5ZZWxsb3cudG9TdHJpbmcoKSx0LmJlZ2luUGF0aCgpO3ZhciBuPU1hdGgubWluKHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpO3QuYXJjKHRoaXMuZ2V0V29ybGRQb3MoKS54LHRoaXMuZ2V0V29ybGRQb3MoKS55LG4sMCwyKk1hdGguUEkpLHQuY2xvc2VQYXRoKCksdC5zdHJva2UoKTt2YXIgbz17XCIwIFBpXCI6MCxcIlBpLzJcIjpNYXRoLlBJLzIsUGk6TWF0aC5QSSxcIjMvMiBQaVwiOjMqTWF0aC5QSS8yfSxyPXQuZm9udDtmb3IodmFyIHMgaW4gbyl0LmZpbGxTdHlsZT1BdC5ZZWxsb3cudG9TdHJpbmcoKSx0LmZvbnQ9XCIxNHB4XCIsdC50ZXh0QWxpZ249XCJjZW50ZXJcIix0LmZpbGxUZXh0KHMsdGhpcy5nZXRXb3JsZFBvcygpLngrTWF0aC5jb3Mob1tzXSkqKG4rMTApLHRoaXMuZ2V0V29ybGRQb3MoKS55K01hdGguc2luKG9bc10pKihuKzEwKSk7dC5mb250PXI7Zm9yKHZhciBhPTA7YTx0aGlzLmNoaWxkcmVuLmxlbmd0aDthKyspdGhpcy5jaGlsZHJlblthXS5kZWJ1Z0RyYXcodCk7dGhpcy5lbWl0KFwicG9zdGRlYnVnZHJhd1wiLG5ldyAkKHQsdGhpcykpfSxlLnByb3RvdHlwZS5nZXRBbmNlc3RvcnM9ZnVuY3Rpb24oKXtmb3IodmFyIHQsZT1bdGhpc10saT10aGlzO3Q9aS5wYXJlbnQ7KWk9dCxlLnB1c2goaSk7cmV0dXJuIGUucmV2ZXJzZSgpfSxlLmRlZmF1bHRzPXthbmNob3I6Ri5IYWxmfSxlLm1heElkPTAsUWUoW1h0KHttZXNzYWdlOlwiQWN0b3IuY29sbGlzaW9uQXJlYSB3aWxsIGJlIHJlbW92ZWQgaW4gdjAuMjQuMFwiLGFsdGVybmF0ZU1ldGhvZDpcIkFjdG9yLmJvZHkuY29sbGlkZXIuc2hhcGVcIn0pXSxlLnByb3RvdHlwZSxcImNvbGxpc2lvbkFyZWFcIixudWxsKSxRZShbWHQoe21lc3NhZ2U6XCJleC5BY3Rvci54IHdpbGwgYmUgcmVtb3ZlZCBpbiB2MC4yNC4wXCIsYWx0ZXJuYXRlTWV0aG9kOlwiZXguQWN0b3IucG9zLngsIG9yIGV4LkFjdG9yLmJvZHkucG9zLnhcIn0pXSxlLnByb3RvdHlwZSxcInhcIixudWxsKSxRZShbWHQoe21lc3NhZ2U6XCJleC5BY3Rvci55IHdpbGwgYmUgcmVtb3ZlZCBpbiB2MC4yNC4wXCIsYWx0ZXJuYXRlTWV0aG9kOlwiZXguQWN0b3IucG9zLnksIG9yIGV4LkFjdG9yLmJvZHkucG9zLnlcIn0pXSxlLnByb3RvdHlwZSxcInlcIixudWxsKSxRZShbWHQoe21lc3NhZ2U6XCJleC5BY3Rvci50b3JxdWUgd2lsbCBiZSByZW1vdmVkIGluIHYwLjI0LjBcIixhbHRlcm5hdGVNZXRob2Q6XCJleC5BY3Rvci5ib2R5LnRvcnF1ZVwifSldLGUucHJvdG90eXBlLFwidG9ycXVlXCIsbnVsbCksUWUoW1h0KHttZXNzYWdlOlwiZXguQWN0b3IubWFzcyB3aWxsIGJlIHJlbW92ZWQgaW4gdjAuMjQuMFwiLGFsdGVybmF0ZU1ldGhvZDpcImV4LkFjdG9yLmJvZHkuY29sbGlkZXIubWFzc1wifSldLGUucHJvdG90eXBlLFwibWFzc1wiLG51bGwpLFFlKFtYdCh7bWVzc2FnZTpcImV4LkFjdG9yLm1vaSB3aWxsIGJlIHJlbW92ZWQgaW4gdjAuMjQuMFwiLGFsdGVybmF0ZU1ldGhvZDpcImV4LkFjdG9yLmJvZHkuY29sbGlkZXIuaW5lcnRpYVwifSldLGUucHJvdG90eXBlLFwibW9pXCIsbnVsbCksUWUoW1h0KHttZXNzYWdlOlwiZXguQWN0b3IuZnJpY3Rpb24gd2lsbCBiZSByZW1vdmVkIGluIHYwLjI0LjBcIixhbHRlcm5hdGVNZXRob2Q6XCJleC5BY3Rvci5ib2R5LmNvbGxpZGVyLmZyaWN0aW9uXCJ9KV0sZS5wcm90b3R5cGUsXCJmcmljdGlvblwiLG51bGwpLFFlKFtYdCh7bWVzc2FnZTpcImV4LkFjdG9yLnJlc3RpdHV0aW9uIHdpbGwgYmUgcmVtb3ZlZCBpbiB2MC4yNC4wXCIsYWx0ZXJuYXRlTWV0aG9kOlwiZXguQWN0b3IuYm9keS5jb2xsaWRlci5ib3VuY2luZXNzXCJ9KV0sZS5wcm90b3R5cGUsXCJyZXN0aXR1dGlvblwiLG51bGwpLFFlKFtYdCh7bWVzc2FnZTpcImV4LkFjdG9yLnN4IHdpbGwgYmUgcmVtb3ZlZCBpbiB2MC4yNC4wXCIsYWx0ZXJuYXRlTWV0aG9kOlwiU2V0IHdpZHRoIGFuZCBoZWlnaHQgZGlyZWN0bHkgaW4gY29uc3RydWN0b3JcIn0pXSxlLnByb3RvdHlwZSxcInN4XCIsbnVsbCksUWUoW1h0KHttZXNzYWdlOlwiZXguQWN0b3Iuc3kgd2lsbCBiZSByZW1vdmVkIGluIHYwLjI0LjBcIixhbHRlcm5hdGVNZXRob2Q6XCJTZXQgd2lkdGggYW5kIGhlaWdodCBkaXJlY3RseSBpbiBjb25zdHJ1Y3RvclwifSldLGUucHJvdG90eXBlLFwic3lcIixudWxsKSxRZShbWHQoe21lc3NhZ2U6XCJleC5BY3Rvci5jb2xsaXNpb25UeXBlIHdpbGwgYmUgcmVtb3ZlZCBpbiB2MC4yNC4wXCIsYWx0ZXJuYXRlTWV0aG9kOlwiZXguQWN0b3IuYm9keS5jb2xsaWRlci50eXBlXCJ9KV0sZS5wcm90b3R5cGUsXCJjb2xsaXNpb25UeXBlXCIsbnVsbCksUWUoW1h0KHttZXNzYWdlOlwiTGVnYWN5IGNvbGxpc2lvbiBncm91cHMgd2lsbCBiZSByZW1vdmVkIGluIHYwLjI0LjBcIixhbHRlcm5hdGVNZXRob2Q6XCJBY3Rvci5ib2R5LmNvbGxpZGVyLmNvbGxpc2lvbkdyb3VwXCJ9KV0sZS5wcm90b3R5cGUsXCJhZGRDb2xsaXNpb25Hcm91cFwiLG51bGwpLFFlKFtYdCh7bWVzc2FnZTpcIkxlZ2FjeSBjb2xsaXNpb24gZ3JvdXBzIHdpbGwgYmUgcmVtb3ZlZCBpbiB2MC4yNC4wXCIsYWx0ZXJuYXRlTWV0aG9kOlwiQWN0b3IuYm9keS5jb2xsaWRlci5jb2xsaXNpb25Hcm91cFwifSldLGUucHJvdG90eXBlLFwicmVtb3ZlQ29sbGlzaW9uR3JvdXBcIixudWxsKSxRZShbWHQoe21lc3NhZ2U6XCJXaWxsIGJlIHJlbW92ZWQgaW4gdjAuMjQuMFwiLGFsdGVybmF0ZU1ldGhvZDpcIkFjdG9yLmNlbnRlclwifSldLGUucHJvdG90eXBlLFwiZ2V0Q2VudGVyXCIsbnVsbCksUWUoW1h0KHttZXNzYWdlOlwiV2lsbCBiZSByZW1vdmVkIGluIHYwLjI0LjBcIixhbHRlcm5hdGVNZXRob2Q6XCJBY3Rvci53aWR0aFwifSldLGUucHJvdG90eXBlLFwiZ2V0V2lkdGhcIixudWxsKSxRZShbWHQoe21lc3NhZ2U6XCJXaWxsIGJlIHJlbW92ZWQgaW4gdjAuMjQuMFwiLGFsdGVybmF0ZU1ldGhvZDpcIkFjdG9yLndpZHRoXCJ9KV0sZS5wcm90b3R5cGUsXCJzZXRXaWR0aFwiLG51bGwpLFFlKFtYdCh7bWVzc2FnZTpcIldpbGwgYmUgcmVtb3ZlZCBpbiB2MC4yNC4wXCIsYWx0ZXJuYXRlTWV0aG9kOlwiQWN0b3IuaGVpZ2h0XCJ9KV0sZS5wcm90b3R5cGUsXCJnZXRIZWlnaHRcIixudWxsKSxRZShbWHQoe21lc3NhZ2U6XCJXaWxsIGJlIHJlbW92ZWQgaW4gdjAuMjQuMFwiLGFsdGVybmF0ZU1ldGhvZDpcIkFjdG9yLmhlaWdodFwifSldLGUucHJvdG90eXBlLFwic2V0SGVpZ2h0XCIsbnVsbCksUWUoW1h0KHttZXNzYWdlOlwiV2lsbCBiZSByZW1vdmVkIGluIHYwLjI0LjBcIixhbHRlcm5hdGVNZXRob2Q6XCJBY3Rvci5ib2R5LmNvbGxpZGVyLmJvdW5kcy5sZWZ0XCJ9KV0sZS5wcm90b3R5cGUsXCJnZXRMZWZ0XCIsbnVsbCksUWUoW1h0KHttZXNzYWdlOlwiV2lsbCBiZSByZW1vdmVkIGluIHYwLjI0LjBcIixhbHRlcm5hdGVNZXRob2Q6XCJBY3Rvci5ib2R5LmNvbGxpZGVyLmJvdW5kcy5yaWdodFwifSldLGUucHJvdG90eXBlLFwiZ2V0UmlnaHRcIixudWxsKSxRZShbWHQoe21lc3NhZ2U6XCJXaWxsIGJlIHJlbW92ZWQgaW4gdjAuMjQuMFwiLGFsdGVybmF0ZU1ldGhvZDpcIkFjdG9yLmJvZHkuY29sbGlkZXIuYm91bmRzLnRvcFwifSldLGUucHJvdG90eXBlLFwiZ2V0VG9wXCIsbnVsbCksUWUoW1h0KHttZXNzYWdlOlwiV2lsbCBiZSByZW1vdmVkIGluIHYwLjI0LjBcIixhbHRlcm5hdGVNZXRob2Q6XCJBY3Rvci5ib2R5LmNvbGxpZGVyLmJvdW5kcy5ib3R0b21cIn0pXSxlLnByb3RvdHlwZSxcImdldEJvdHRvbVwiLG51bGwpLFFlKFtYdCh7bWVzc2FnZTpcIldpbGwgYmUgcmVtb3ZlZCBpbiB2MC4yNC4wXCIsYWx0ZXJuYXRlTWV0aG9kOlwiQWN0b3IuYm9keS5jb2xsaWRlci5ib3VuZHNcIn0pXSxlLnByb3RvdHlwZSxcImdldEJvdW5kc1wiLG51bGwpLFFlKFtYdCh7bWVzc2FnZTpcIldpbGwgYmUgcmVtb3ZlZCBpbiB2MC4yNC4wXCIsYWx0ZXJuYXRlTWV0aG9kOlwiQWN0b3IuYm9keS5jb2xsaWRlci5sb2NhbEJvdW5kc1wifSldLGUucHJvdG90eXBlLFwiZ2V0UmVsYXRpdmVCb3VuZHNcIixudWxsKSxRZShbWHQoe21lc3NhZ2U6XCJXaWxsIGJlIHJlbW92ZWQgaW4gdjAuMjQuMFwiLGFsdGVybmF0ZU1ldGhvZDpcIkFjdG9yLmJvZHkuY29sbGlkZXIuYm91bmRzLmdldFBvaW50cygpXCJ9KV0sZS5wcm90b3R5cGUsXCJnZXRHZW9tZXRyeVwiLG51bGwpLFFlKFtYdCh7bWVzc2FnZTpcIldpbGwgYmUgcmVtb3ZlZCBpbiB2MC4yNC4wXCIsYWx0ZXJuYXRlTWV0aG9kOlwiQWN0b3IuYm9keS5jb2xsaWRlci5sb2NhbEJvdW5kcy5nZXRQb2ludHMoKVwifSldLGUucHJvdG90eXBlLFwiZ2V0UmVsYXRpdmVHZW9tZXRyeVwiLG51bGwpLFFlKFtYdCh7bWVzc2FnZTpcIkFjdG9yLmdldFNpZGVGcm9tSW50ZXJzZWN0IHdpbGwgYmUgcmVtb3ZlZCBpbiB2MC4yNC4wXCIsYWx0ZXJuYXRlTWV0aG9kOlwiQm91bmRpbmdCb3guc2lkZUZyb21JbnRlcnNlY3Rpb25cIn0pXSxlLnByb3RvdHlwZSxcImdldFNpZGVGcm9tSW50ZXJzZWN0XCIsbnVsbCksUWUoW1h0KHttZXNzYWdlOlwiQWN0b3IuY29sbGlkZXNXaXRoU2lkZSB3aWxsIGJlIHJlbW92ZWQgaW4gdjAuMjQuMFwiLGFsdGVybmF0ZU1ldGhvZDpcIkFjdG9yLmJvdW5kcy5pbnRlcnNlY3RXaXRoU2lkZVwifSldLGUucHJvdG90eXBlLFwiY29sbGlkZXNXaXRoU2lkZVwiLG51bGwpLFFlKFtYdCh7bWVzc2FnZTpcIkFjdG9yLmNvbGxpZGVzIHdpbGwgYmUgcmVtb3ZlZCAgaW4gdjAuMjQuMFwiLGFsdGVybmF0ZU1ldGhvZDpcIkFjdG9yLmJvdW5kcy5pbnRlcnNlY3Qgb3IgQWN0b3IuXCJ9KV0sZS5wcm90b3R5cGUsXCJjb2xsaWRlc1wiLG51bGwpLFFlKFtYdCh7bWVzc2FnZTpcIkFjdG9yLm9uQ29sbGlkZXNXSXRoIHdpbGwgYmUgcmVtb3ZlZCAgaW4gdjAuMjQuMFwiLGFsdGVybmF0ZU1ldGhvZDpcIkFjdG9yLmNvbGxpZGVyLmNhbkNvbGxpZGVcIn0pXSxlLnByb3RvdHlwZSxcIm9uQ29sbGlkZXNXaXRoXCIsbnVsbCksUWUoW1h0KHttZXNzYWdlOlwiQWN0b3IuZ2V0Q29sbGlzaW9uSGFuZGxlcnMgd2lsbCBiZSByZW1vdmVkICBpbiB2MC4yNC4wXCJ9KV0sZS5wcm90b3R5cGUsXCJnZXRDb2xsaXNpb25IYW5kbGVyc1wiLG51bGwpLFFlKFtYdCh7bWVzc2FnZTpcIkFjdG9yLmdldENvbGxpc2lvbkhhbmRsZXJzIHdpbGwgYmUgcmVtb3ZlZCAgaW4gdjAuMjQuMFwifSldLGUucHJvdG90eXBlLFwicmVtb3ZlQ29sbGlkZXNXaXRoXCIsbnVsbCksZX0oU3QpKSksdGk9ZnVuY3Rpb24oKXt2YXIgdD1mdW5jdGlvbihlLGkpe3JldHVybih0PU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbih0LGUpe3QuX19wcm90b19fPWV9fHxmdW5jdGlvbih0LGUpe2Zvcih2YXIgaSBpbiBlKWUuaGFzT3duUHJvcGVydHkoaSkmJih0W2ldPWVbaV0pfSkoZSxpKX07cmV0dXJuIGZ1bmN0aW9uKGUsaSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9ZX10KGUsaSksZS5wcm90b3R5cGU9bnVsbD09PWk/T2JqZWN0LmNyZWF0ZShpKToobi5wcm90b3R5cGU9aS5wcm90b3R5cGUsbmV3IG4pfX0oKSxlaT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsaSxuLG8pe3ZhciByPXRoaXM7cmV0dXJuKHI9XCJvYmplY3RcIiE9dHlwZW9mIGU/dC5jYWxsKHRoaXMsZSxpLG4sbyl8fHRoaXM6dC5jYWxsKHRoaXMsZSl8fHRoaXMpLnRyYWl0cz1bXSxyLnRyYWl0cy5wdXNoKG5ldyBIZSksci5hbmNob3Iuc2V0VG8oMCwwKSxyLmJvZHkuY29sbGlkZXIudHlwZT1DdC5QcmV2ZW50Q29sbGlzaW9uLHIuYm9keS5jb2xsaWRlci5zaGFwZT1SZS5Cb3goci53aWR0aCxyLmhlaWdodCxyLmFuY2hvciksci5lbmFibGVDYXB0dXJlUG9pbnRlcj0hMCxyfXJldHVybiB0aShlLHQpLGUucHJvdG90eXBlLl9pbml0aWFsaXplPWZ1bmN0aW9uKGUpe3RoaXMuX2VuZ2luZT1lLHQucHJvdG90eXBlLl9pbml0aWFsaXplLmNhbGwodGhpcyxlKX0sZS5wcm90b3R5cGUuY29udGFpbnM9ZnVuY3Rpb24oZSxpLG4pe2lmKHZvaWQgMD09PW4mJihuPSEwKSxuKXJldHVybiB0LnByb3RvdHlwZS5jb250YWlucy5jYWxsKHRoaXMsZSxpKTt2YXIgbz10aGlzLl9lbmdpbmUud29ybGRUb1NjcmVlbkNvb3JkaW5hdGVzKG5ldyBGKGUsaSkpO3JldHVybiB0LnByb3RvdHlwZS5jb250YWlucy5jYWxsKHRoaXMsby54LG8ueSl9LGV9KCRlKSxpaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxpLG4sbyl7aWYodGhpcy5pZD0wLHRoaXMuaW50ZXJ2YWw9MTAsdGhpcy5mY249ZnVuY3Rpb24oKXt9LHRoaXMucmVwZWF0cz0hMSx0aGlzLm1heE51bWJlck9mUmVwZWF0cz0tMSx0aGlzLl9lbGFwc2VkVGltZT0wLHRoaXMuX3RvdGFsVGltZUFsaXZlPTAsdGhpcy5fcGF1c2VkPSExLHRoaXMuX251bWJlck9mVGlja3M9MCx0aGlzLmNvbXBsZXRlPSExLHRoaXMuc2NlbmU9bnVsbCxvJiZvPj0wJiYodGhpcy5tYXhOdW1iZXJPZlJlcGVhdHM9bywhbikpdGhyb3cgbmV3IEVycm9yKFwicmVwZWF0cyBtdXN0IGJlIHNldCB0byB0cnVlIGlmIG51bWJlck9mUmVwZWF0cyBpcyBzZXRcIik7dGhpcy5pZD10LmlkKyssdGhpcy5pbnRlcnZhbD1pfHx0aGlzLmludGVydmFsLHRoaXMuZmNuPWV8fHRoaXMuZmNuLHRoaXMucmVwZWF0cz1ufHx0aGlzLnJlcGVhdHN9cmV0dXJuIHQucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0KXt0aGlzLl9wYXVzZWR8fCh0aGlzLl90b3RhbFRpbWVBbGl2ZSs9dCx0aGlzLl9lbGFwc2VkVGltZSs9dCx0aGlzLm1heE51bWJlck9mUmVwZWF0cz4tMSYmdGhpcy5fbnVtYmVyT2ZUaWNrcz49dGhpcy5tYXhOdW1iZXJPZlJlcGVhdHMmJih0aGlzLmNvbXBsZXRlPSEwKSwhdGhpcy5jb21wbGV0ZSYmdGhpcy5fZWxhcHNlZFRpbWU+PXRoaXMuaW50ZXJ2YWwmJih0aGlzLmZjbi5jYWxsKHRoaXMpLHRoaXMuX251bWJlck9mVGlja3MrKyx0aGlzLnJlcGVhdHM/dGhpcy5fZWxhcHNlZFRpbWU9MDp0aGlzLmNvbXBsZXRlPSEwKSl9LHQucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKHQsZSl7aWYodCYmdD49MCYmKHRoaXMuaW50ZXJ2YWw9dCksdGhpcy5tYXhOdW1iZXJPZlJlcGVhdHMmJnRoaXMubWF4TnVtYmVyT2ZSZXBlYXRzPj0wJiYodGhpcy5tYXhOdW1iZXJPZlJlcGVhdHM9ZSwhdGhpcy5yZXBlYXRzKSl0aHJvdyBuZXcgRXJyb3IoXCJyZXBlYXRzIG11c3QgYmUgc2V0IHRvIHRydWUgaWYgbnVtYmVyT2ZSZXBlYXRzIGlzIHNldFwiKTt0aGlzLmNvbXBsZXRlPSExLHRoaXMuX2VsYXBzZWRUaW1lPTAsdGhpcy5fbnVtYmVyT2ZUaWNrcz0wfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJ0aW1lc1JlcGVhdGVkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9udW1iZXJPZlRpY2tzfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLmdldFRpbWVSdW5uaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RvdGFsVGltZUFsaXZlfSx0LnByb3RvdHlwZS5wYXVzZT1mdW5jdGlvbigpe3RoaXMuX3BhdXNlZD0hMH0sdC5wcm90b3R5cGUudW5wYXVzZT1mdW5jdGlvbigpe3RoaXMuX3BhdXNlZD0hMX0sdC5wcm90b3R5cGUuY2FuY2VsPWZ1bmN0aW9uKCl7dGhpcy5zY2VuZSYmdGhpcy5zY2VuZS5jYW5jZWxUaW1lcih0aGlzKX0sdC5pZD0wLHR9KCksbmk9ZnVuY3Rpb24oKXt2YXIgdD1mdW5jdGlvbihlLGkpe3JldHVybih0PU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbih0LGUpe3QuX19wcm90b19fPWV9fHxmdW5jdGlvbih0LGUpe2Zvcih2YXIgaSBpbiBlKWUuaGFzT3duUHJvcGVydHkoaSkmJih0W2ldPWVbaV0pfSkoZSxpKX07cmV0dXJuIGZ1bmN0aW9uKGUsaSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9ZX10KGUsaSksZS5wcm90b3R5cGU9bnVsbD09PWk/T2JqZWN0LmNyZWF0ZShpKToobi5wcm90b3R5cGU9aS5wcm90b3R5cGUsbmV3IG4pfX0oKSxvaT1mdW5jdGlvbih0LGUsaSxuKXt2YXIgbyxyPWFyZ3VtZW50cy5sZW5ndGgscz1yPDM/ZTpudWxsPT09bj9uPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSxpKTpuO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBSZWZsZWN0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBSZWZsZWN0LmRlY29yYXRlKXM9UmVmbGVjdC5kZWNvcmF0ZSh0LGUsaSxuKTtlbHNlIGZvcih2YXIgYT10Lmxlbmd0aC0xO2E+PTA7YS0tKShvPXRbYV0pJiYocz0ocjwzP28ocyk6cj4zP28oZSxpLHMpOm8oZSxpKSl8fHMpO3JldHVybiByPjMmJnMmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkscyksc30scmk9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLGksbixvLHIscyl7cmV0dXJuIHQuY2FsbCh0aGlzLGUsaSxuLG8scixzKXx8dGhpc31yZXR1cm4gbmkoZSx0KSxlfShoZShmdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsaSxuLG8scixzKXt2YXIgYT10LmNhbGwodGhpcyl8fHRoaXM7aWYoYS5fY29sbGlkaW5nWD0tMSxhLl9jb2xsaWRpbmdZPS0xLGEuX29uU2NyZWVuWFN0YXJ0PTAsYS5fb25TY3JlZW5YRW5kPTk5OTksYS5fb25TY3JlZW5ZU3RhcnQ9MCxhLl9vblNjcmVlbllFbmQ9OTk5OSxhLl9zcHJpdGVTaGVldHM9e30sYS5sb2dnZXI9TnQuZ2V0SW5zdGFuY2UoKSxhLmRhdGE9W10sZSYmXCJvYmplY3RcIj09dHlwZW9mIGUpe3ZhciBoPWU7ZT1oLngsaT1oLnksbj1oLmNlbGxXaWR0aCxvPWguY2VsbEhlaWdodCxyPWgucm93cyxzPWguY29sc31hLng9ZSxhLnk9aSxhLmNlbGxXaWR0aD1uLGEuY2VsbEhlaWdodD1vLGEucm93cz1yLGEuY29scz1zLGEuZGF0YT1uZXcgQXJyYXkocipzKTtmb3IodmFyIGM9ZnVuY3Rpb24odCl7Zm9yKHZhciBoPWZ1bmN0aW9uKHIpe3ZhciBoO2g9bmV3IGFpKHQqbitlLHIqbytpLG4sbyx0K3IqcyksYS5kYXRhW3QrcipzXT1ofSxjPTA7YzxyO2MrKyloKGMpfSx1PTA7dTxzO3UrKyljKHUpO3JldHVybiBhfXJldHVybiBuaShlLHQpLGUucHJvdG90eXBlLm9uPWZ1bmN0aW9uKGUsaSl7dC5wcm90b3R5cGUub24uY2FsbCh0aGlzLGUsaSl9LGUucHJvdG90eXBlLnJlZ2lzdGVyU3ByaXRlU2hlZXQ9ZnVuY3Rpb24odCxlKXt0aGlzLl9zcHJpdGVTaGVldHNbdF09ZX0sZS5wcm90b3R5cGUuY29sbGlkZXM9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXQucG9zLngrdC53aWR0aCxpPXQucG9zLnkrdC5oZWlnaHQsbj10LmJvZHkuY29sbGlkZXIuYm91bmRzLG89W10scj1uLmxlZnQ7cjw9ZTtyKz1NYXRoLm1pbih0LndpZHRoLzIsdGhpcy5jZWxsV2lkdGgvMikpZm9yKHZhciBzPW4udG9wO3M8PWk7cys9TWF0aC5taW4odC5oZWlnaHQvMix0aGlzLmNlbGxIZWlnaHQvMikpe3ZhciBhPXRoaXMuZ2V0Q2VsbEJ5UG9pbnQocixzKTtpZihhJiZhLnNvbGlkKXt2YXIgaD1uLmludGVyc2VjdChhLmJvdW5kcyksYz10LmNlbnRlci5zdWIoYS5jZW50ZXIpO2gmJmguZG90KGMpPjAmJm8ucHVzaChoKX19cmV0dXJuIDA9PT1vLmxlbmd0aD9udWxsOm8ucmVkdWNlKGZ1bmN0aW9uKHQsZSl7dmFyIGk9dC54LG49dC55O3JldHVybiBNYXRoLmFicyh0LngpPE1hdGguYWJzKGUueCkmJihpPWUueCksTWF0aC5hYnModC55KTxNYXRoLmFicyhlLnkpJiYobj1lLnkpLG5ldyBGKGksbil9KX0sZS5wcm90b3R5cGUuZ2V0Q2VsbEJ5SW5kZXg9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZGF0YVt0XX0sZS5wcm90b3R5cGUuZ2V0Q2VsbD1mdW5jdGlvbih0LGUpe3JldHVybiB0PDB8fGU8MHx8dD49dGhpcy5jb2xzfHxlPj10aGlzLnJvd3M/bnVsbDp0aGlzLmRhdGFbdCtlKnRoaXMuY29sc119LGUucHJvdG90eXBlLmdldENlbGxCeVBvaW50PWZ1bmN0aW9uKHQsZSl7dD1NYXRoLmZsb29yKCh0LXRoaXMueCkvdGhpcy5jZWxsV2lkdGgpLGU9TWF0aC5mbG9vcigoZS10aGlzLnkpL3RoaXMuY2VsbEhlaWdodCk7dmFyIGk9dGhpcy5nZXRDZWxsKHQsZSk7cmV0dXJuIHQ+PTAmJmU+PTAmJnQ8dGhpcy5jb2xzJiZlPHRoaXMucm93cyYmaT9pOm51bGx9LGUucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0LGUpe3RoaXMuZW1pdChcInByZXVwZGF0ZVwiLG5ldyB0dCh0LGUsdGhpcykpO3ZhciBpPXQuc2NyZWVuVG9Xb3JsZENvb3JkaW5hdGVzKG5ldyBGKDAsMCkpLG49dC5zY3JlZW5Ub1dvcmxkQ29vcmRpbmF0ZXMobmV3IEYodC5jYW52YXMuY2xpZW50V2lkdGgsdC5jYW52YXMuY2xpZW50SGVpZ2h0KSk7dGhpcy5fb25TY3JlZW5YU3RhcnQ9TWF0aC5tYXgoTWF0aC5mbG9vcigoaS54LXRoaXMueCkvdGhpcy5jZWxsV2lkdGgpLTIsMCksdGhpcy5fb25TY3JlZW5ZU3RhcnQ9TWF0aC5tYXgoTWF0aC5mbG9vcigoaS55LXRoaXMueSkvdGhpcy5jZWxsSGVpZ2h0KS0yLDApLHRoaXMuX29uU2NyZWVuWEVuZD1NYXRoLm1heChNYXRoLmZsb29yKChuLngtdGhpcy54KS90aGlzLmNlbGxXaWR0aCkrMiwwKSx0aGlzLl9vblNjcmVlbllFbmQ9TWF0aC5tYXgoTWF0aC5mbG9vcigobi55LXRoaXMueSkvdGhpcy5jZWxsSGVpZ2h0KSsyLDApLHRoaXMuZW1pdChcInBvc3R1cGRhdGVcIixuZXcgZXQodCxlLHRoaXMpKX0sZS5wcm90b3R5cGUuZHJhdz1mdW5jdGlvbih0LGUpe3RoaXMuZW1pdChcInByZWRyYXdcIixuZXcgWih0LGUsdGhpcykpLHQuc2F2ZSgpLHQudHJhbnNsYXRlKHRoaXMueCx0aGlzLnkpO2Zvcih2YXIgaSxuLG8scj10aGlzLl9vblNjcmVlblhTdGFydCxzPU1hdGgubWluKHRoaXMuX29uU2NyZWVuWEVuZCx0aGlzLmNvbHMpLGE9dGhpcy5fb25TY3JlZW5ZU3RhcnQsaD1NYXRoLm1pbih0aGlzLl9vblNjcmVlbllFbmQsdGhpcy5yb3dzKTtyPHM7cisrKXtmb3IoO2E8aDthKyspZm9yKG49MCxvPShpPXRoaXMuZ2V0Q2VsbChyLGEpLnNwcml0ZXMuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiB0LnNwcml0ZUlkPi0xfSkpLmxlbmd0aDtuPG87bisrKXt2YXIgYz10aGlzLl9zcHJpdGVTaGVldHNbaVtuXS5zcHJpdGVTaGVldEtleV07aWYoYyl7dmFyIHU9Yy5nZXRTcHJpdGUoaVtuXS5zcHJpdGVJZCk7dT91LmRyYXcodCxyKnRoaXMuY2VsbFdpZHRoLGEqdGhpcy5jZWxsSGVpZ2h0KTp0aGlzLmxvZ2dlci53YXJuKFwiU3ByaXRlIGRvZXMgbm90IGV4aXN0IGZvciBpZFwiLGlbbl0uc3ByaXRlSWQsXCJpbiBzcHJpdGUgc2hlZXRcIixpW25dLnNwcml0ZVNoZWV0S2V5LHUsYyl9ZWxzZSB0aGlzLmxvZ2dlci53YXJuKFwiU3ByaXRlIHNoZWV0XCIsaVtuXS5zcHJpdGVTaGVldEtleSxcImRvZXMgbm90IGV4aXN0XCIsYyl9YT10aGlzLl9vblNjcmVlbllTdGFydH10LnJlc3RvcmUoKSx0aGlzLmVtaXQoXCJwb3N0ZHJhd1wiLG5ldyBRKHQsZSx0aGlzKSl9LGUucHJvdG90eXBlLmRlYnVnRHJhdz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmNvbHMqdGhpcy5jZWxsV2lkdGgsaT10aGlzLnJvd3MqdGhpcy5jZWxsSGVpZ2h0O3Quc2F2ZSgpLHQuc3Ryb2tlU3R5bGU9QXQuUmVkLnRvU3RyaW5nKCk7Zm9yKHZhciBuPTA7bjx0aGlzLmNvbHMrMTtuKyspdC5iZWdpblBhdGgoKSx0Lm1vdmVUbyh0aGlzLngrbip0aGlzLmNlbGxXaWR0aCx0aGlzLnkpLHQubGluZVRvKHRoaXMueCtuKnRoaXMuY2VsbFdpZHRoLHRoaXMueStpKSx0LnN0cm9rZSgpO2Zvcih2YXIgbz0wO288dGhpcy5yb3dzKzE7bysrKXQuYmVnaW5QYXRoKCksdC5tb3ZlVG8odGhpcy54LHRoaXMueStvKnRoaXMuY2VsbEhlaWdodCksdC5saW5lVG8odGhpcy54K2UsdGhpcy55K28qdGhpcy5jZWxsSGVpZ2h0KSx0LnN0cm9rZSgpO3ZhciByPUF0LlJlZDtyLmE9LjMsdGhpcy5kYXRhLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gdC5zb2xpZH0pLmZvckVhY2goZnVuY3Rpb24oZSl7dC5maWxsU3R5bGU9ci50b1N0cmluZygpLHQuZmlsbFJlY3QoZS54LGUueSxlLndpZHRoLGUuaGVpZ2h0KX0pLHRoaXMuX2NvbGxpZGluZ1k+LTEmJnRoaXMuX2NvbGxpZGluZ1g+LTEmJih0LmZpbGxTdHlsZT1BdC5DeWFuLnRvU3RyaW5nKCksdC5maWxsUmVjdCh0aGlzLngrdGhpcy5fY29sbGlkaW5nWCp0aGlzLmNlbGxXaWR0aCx0aGlzLnkrdGhpcy5fY29sbGlkaW5nWSp0aGlzLmNlbGxIZWlnaHQsdGhpcy5jZWxsV2lkdGgsdGhpcy5jZWxsSGVpZ2h0KSksdC5yZXN0b3JlKCl9LGV9KFN0KSkpLHNpPWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7dGhpcy5zcHJpdGVTaGVldEtleT10LHRoaXMuc3ByaXRlSWQ9ZX19KCksYWk9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLGksbixvLHIscyxhKXtyZXR1cm4gdC5jYWxsKHRoaXMsZSxpLG4sbyxyLHMsYSl8fHRoaXN9cmV0dXJuIG5pKGUsdCksZX0oaGUoZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxpLG4sbyxyLHMpe2lmKHZvaWQgMD09PXImJihyPSExKSx2b2lkIDA9PT1zJiYocz1bXSksdGhpcy5zb2xpZD0hMSx0aGlzLnNwcml0ZXM9W10sdCYmXCJvYmplY3RcIj09dHlwZW9mIHQpe3ZhciBhPXQ7dD1hLngsZT1hLnksaT1hLndpZHRoLG49YS5oZWlnaHQsbz1hLmluZGV4LHI9YS5zb2xpZCxzPWEuc3ByaXRlc310aGlzLng9dCx0aGlzLnk9ZSx0aGlzLndpZHRoPWksdGhpcy5oZWlnaHQ9bix0aGlzLmluZGV4PW8sdGhpcy5zb2xpZD1yLHRoaXMuc3ByaXRlcz1zLHRoaXMuX2JvdW5kcz1uZXcgWXQodGhpcy54LHRoaXMueSx0aGlzLngrdGhpcy53aWR0aCx0aGlzLnkrdGhpcy5oZWlnaHQpfXJldHVybiB0LnByb3RvdHlwZS5nZXRCb3VuZHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYm91bmRzfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJib3VuZHNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2JvdW5kc30sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5nZXRDZW50ZXI9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEYodGhpcy54K3RoaXMud2lkdGgvMix0aGlzLnkrdGhpcy5oZWlnaHQvMil9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImNlbnRlclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEYodGhpcy54K3RoaXMud2lkdGgvMix0aGlzLnkrdGhpcy5oZWlnaHQvMil9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUucHVzaFNwcml0ZT1mdW5jdGlvbih0KXt0aGlzLnNwcml0ZXMucHVzaCh0KX0sdC5wcm90b3R5cGUucmVtb3ZlU3ByaXRlPWZ1bmN0aW9uKHQpe3ZhciBlOyhlPXRoaXMuc3ByaXRlcy5pbmRleE9mKHQpKT4tMSYmdGhpcy5zcHJpdGVzLnNwbGljZShlLDEpfSx0LnByb3RvdHlwZS5jbGVhclNwcml0ZXM9ZnVuY3Rpb24oKXt0aGlzLnNwcml0ZXMubGVuZ3RoPTB9LG9pKFtYdCh7bWVzc2FnZTpcIldpbGwgYmUgcmVtb3ZlZCBpbiB2MC4yNC4wXCIsYWx0ZXJuYXRlTWV0aG9kOlwiQm91bmRpbmdCb3guYm91bmRzXCJ9KV0sdC5wcm90b3R5cGUsXCJnZXRCb3VuZHNcIixudWxsKSxvaShbWHQoe21lc3NhZ2U6XCJXaWxsIGJlIHJlbW92ZWQgaW4gdjAuMjQuMFwiLGFsdGVybmF0ZU1ldGhvZDpcIkJvdW5kaW5nQm94LmNlbnRlclwifSldLHQucHJvdG90eXBlLFwiZ2V0Q2VudGVyXCIsbnVsbCksdH0oKSkpLGhpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5jcmVhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fSU5TVEFOQ0V8fCh3aW5kb3cuQXVkaW9Db250ZXh0fHx3aW5kb3cud2Via2l0QXVkaW9Db250ZXh0KSYmKHRoaXMuX0lOU1RBTkNFPW5ldyB3aW5kb3cuQXVkaW9Db250ZXh0KSx0aGlzLl9JTlNUQU5DRX0sdC5fSU5TVEFOQ0U9bnVsbCx0fSgpO3ZhciBjaSx1aT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQudW5sb2NrPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IGQ7aWYodC5fdW5sb2NrZWR8fCFoaS5jcmVhdGUoKSlyZXR1cm4gZS5yZXNvbHZlKCEwKTt2YXIgaT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7TnQuZ2V0SW5zdGFuY2UoKS53YXJuKFwiRXhjYWxpYnVyIHdhcyB1bmFibGUgdG8gdW5sb2NrIHRoZSBhdWRpbyBjb250ZXh0LCBhdWRpbyBwcm9iYWJseSB3aWxsIG5vdCBwbGF5IGluIHRoaXMgYnJvd3Nlci5cIiksZS5yZXNvbHZlKCl9LDIwMCksbj1oaS5jcmVhdGUoKTtyZXR1cm4gbi5yZXN1bWUoKS50aGVuKGZ1bmN0aW9uKCl7dmFyIG89bi5jcmVhdGVCdWZmZXIoMSwxLDIyMDUwKSxyPW4uY3JlYXRlQnVmZmVyU291cmNlKCkscz0hMTtyLmJ1ZmZlcj1vLHIuY29ubmVjdChuLmRlc3RpbmF0aW9uKSxyLm9uZW5kZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gcz0hMH0sci5ub3RlT24/ci5ub3RlT24oMCk6ci5zdGFydCgwKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7IWZ1bmN0aW9uKHQpe3JldHVybiEhdC5wbGF5YmFja1N0YXRlfShyKT8obi5jdXJyZW50VGltZT4wfHxzKSYmKHQuX3VubG9ja2VkPSEwKTpyLnBsYXliYWNrU3RhdGUhPT1yLlBMQVlJTkdfU1RBVEUmJnIucGxheWJhY2tTdGF0ZSE9PXIuRklOSVNIRURfU1RBVEV8fCh0Ll91bmxvY2tlZD0hMCl9LDApLGNsZWFyVGltZW91dChpKSxlLnN0YXRlKCk9PT1jLlBlbmRpbmcmJmUucmVzb2x2ZSgpfSxmdW5jdGlvbigpe2Uuc3RhdGUoKT09PWMuUGVuZGluZyYmZS5yZWplY3QoITEpfSksZX0sdC5pc1VubG9ja2VkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3VubG9ja2VkfSx0Ll91bmxvY2tlZD0hMSx0fSgpLGxpPWkoMSkscGk9aS5uKGxpKSxkaT1pKDIpLGZpPWkubihkaSksZ2k9ZnVuY3Rpb24oKXt2YXIgdD1mdW5jdGlvbihlLGkpe3JldHVybih0PU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbih0LGUpe3QuX19wcm90b19fPWV9fHxmdW5jdGlvbih0LGUpe2Zvcih2YXIgaSBpbiBlKWUuaGFzT3duUHJvcGVydHkoaSkmJih0W2ldPWVbaV0pfSkoZSxpKX07cmV0dXJuIGZ1bmN0aW9uKGUsaSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9ZX10KGUsaSksZS5wcm90b3R5cGU9bnVsbD09PWk/T2JqZWN0LmNyZWF0ZShpKToobi5wcm90b3R5cGU9aS5wcm90b3R5cGUsbmV3IG4pfX0oKSx5aT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3ZhciBpPXQuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gaS5fcmVzb3VyY2VMaXN0PVtdLGkuX2luZGV4PTAsaS5fcGxheUJ1dHRvblNob3duPSExLGkuX3Jlc291cmNlQ291bnQ9MCxpLl9udW1Mb2FkZWQ9MCxpLl9wcm9ncmVzc0NvdW50cz17fSxpLl90b3RhbENvdW50cz17fSxpLmxvZ289cGkuYSxpLmxvZ29XaWR0aD00NjgsaS5sb2dvSGVpZ2h0PTExOCxpLmJhY2tncm91bmRDb2xvcj1cIiMxNzZCQUFcIixpLnN1cHByZXNzUGxheUJ1dHRvbj0hMSxpLl9wbGF5QnV0dG9uU3R5bGVzPWZpLmEudG9TdHJpbmcoKSxpLnBsYXlCdXR0b25UZXh0PVwiUGxheSBnYW1lXCIsaS5zdGFydEJ1dHRvbkZhY3Rvcnk9ZnVuY3Rpb24oKXt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO3JldHVybiB0LmlkPVwiZXhjYWxpYnVyLXBsYXlcIix0LnRleHRDb250ZW50PWkucGxheUJ1dHRvblRleHQsdC5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLHR9LGkuZ2V0RGF0YT1mdW5jdGlvbigpe30saS5zZXREYXRhPWZ1bmN0aW9uKCl7fSxpLnByb2Nlc3NEYXRhPWZ1bmN0aW9uKCl7fSxpLm9ucHJvZ3Jlc3M9ZnVuY3Rpb24odCl7TnQuZ2V0SW5zdGFuY2UoKS5kZWJ1ZyhcIltleC5Mb2FkZXJdIExvYWRpbmcgXCIrKDEwMCp0LmxvYWRlZC90LnRvdGFsKS50b0ZpeGVkKDApKX0saS5vbmNvbXBsZXRlPWZ1bmN0aW9uKCl7fSxpLm9uZXJyb3I9ZnVuY3Rpb24oKXt9LGUmJmkuYWRkUmVzb3VyY2VzKGUpLGl9cmV0dXJuIGdpKGUsdCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiX2ltYWdlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbWFnZUVsZW1lbnR8fCh0aGlzLl9pbWFnZUVsZW1lbnQ9bmV3IEltYWdlLHRoaXMuX2ltYWdlRWxlbWVudC5zcmM9dGhpcy5sb2dvKSx0aGlzLl9pbWFnZUVsZW1lbnR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiX3BsYXlCdXR0b25cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BsYXlCdXR0b25Sb290RWxlbWVudHx8KHRoaXMuX3BsYXlCdXR0b25Sb290RWxlbWVudD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMuX3BsYXlCdXR0b25Sb290RWxlbWVudC5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLl9wbGF5QnV0dG9uUm9vdEVsZW1lbnQpKSx0aGlzLl9zdHlsZUJsb2NrfHwodGhpcy5fc3R5bGVCbG9jaz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIiksdGhpcy5fc3R5bGVCbG9jay50ZXh0Q29udGVudD10aGlzLl9wbGF5QnV0dG9uU3R5bGVzLGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQodGhpcy5fc3R5bGVCbG9jaykpLHRoaXMuX3BsYXlCdXR0b25FbGVtZW50fHwodGhpcy5fcGxheUJ1dHRvbkVsZW1lbnQ9dGhpcy5zdGFydEJ1dHRvbkZhY3RvcnkoKSx0aGlzLl9wbGF5QnV0dG9uUm9vdEVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5fcGxheUJ1dHRvbkVsZW1lbnQpKSx0aGlzLl9wbGF5QnV0dG9uRWxlbWVudH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS53aXJlRW5naW5lPWZ1bmN0aW9uKHQpe3RoaXMuX2VuZ2luZT10fSxlLnByb3RvdHlwZS5hZGRSZXNvdXJjZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9pbmRleCsrO3RoaXMuX3Jlc291cmNlTGlzdC5wdXNoKHQpLHRoaXMuX3Byb2dyZXNzQ291bnRzW2VdPTAsdGhpcy5fdG90YWxDb3VudHNbZV09MSx0aGlzLl9yZXNvdXJjZUNvdW50Kyt9LGUucHJvdG90eXBlLmFkZFJlc291cmNlcz1mdW5jdGlvbih0KXtmb3IodmFyIGU9MCxpPXQubGVuZ3RoO2U8aTtlKyspdGhpcy5hZGRSZXNvdXJjZSh0W2VdKX0sZS5wcm90b3R5cGUuaXNMb2FkZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbnVtTG9hZGVkPT09dGhpcy5fcmVzb3VyY2VDb3VudH0sZS5wcm90b3R5cGUuc2hvd1BsYXlCdXR0b249ZnVuY3Rpb24oKXtpZih0aGlzLnN1cHByZXNzUGxheUJ1dHRvbilyZXR1cm4gZC5yZXNvbHZlKCk7dGhpcy5fcGxheUJ1dHRvblNob3duPSEwLHRoaXMuX3BsYXlCdXR0b24uc3R5bGUuZGlzcGxheT1cImJsb2NrXCI7dmFyIHQ9bmV3IGQ7cmV0dXJuIHRoaXMuX3BsYXlCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24oKXtyZXR1cm4gdC5zdGF0ZSgpPT09Yy5QZW5kaW5nP3QucmVzb2x2ZSgpOnR9KSx0aGlzLl9wbGF5QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLGZ1bmN0aW9uKCl7cmV0dXJuIHQuc3RhdGUoKT09PWMuUGVuZGluZz90LnJlc29sdmUoKTp0fSksdGhpcy5fcGxheUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwicG9pbnRlcnVwXCIsZnVuY3Rpb24oKXtyZXR1cm4gdC5zdGF0ZSgpPT09Yy5QZW5kaW5nP3QucmVzb2x2ZSgpOnR9KSx0fSxlLnByb3RvdHlwZS5oaWRlUGxheUJ1dHRvbj1mdW5jdGlvbigpe3RoaXMuX3BsYXlCdXR0b25TaG93bj0hMSx0aGlzLl9wbGF5QnV0dG9uLnN0eWxlLmRpc3BsYXk9XCJub25lXCJ9LGUucHJvdG90eXBlLmxvYWQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9bmV3IGQsaT10aGlzO2lmKDA9PT10aGlzLl9yZXNvdXJjZUxpc3QubGVuZ3RoKXJldHVybiBpLnNob3dQbGF5QnV0dG9uKCkudGhlbihmdW5jdGlvbigpe3VpLnVubG9jaygpLnRoZW4oZnVuY3Rpb24oKXtpLmhpZGVQbGF5QnV0dG9uKCksaS5vbmNvbXBsZXRlLmNhbGwoaSksZS5yZXNvbHZlKCl9KX0pLGU7dmFyIG49bmV3IEFycmF5KHRoaXMuX3Jlc291cmNlTGlzdC5sZW5ndGgpLG89dGhpcy5fcmVzb3VyY2VMaXN0Lmxlbmd0aDtyZXR1cm4gdGhpcy5fcmVzb3VyY2VMaXN0LmZvckVhY2goZnVuY3Rpb24ocixzKXt0Ll9lbmdpbmUmJnIud2lyZUVuZ2luZSh0Ll9lbmdpbmUpLHIub25wcm9ncmVzcz1mdW5jdGlvbih0KXt2YXIgZT10LnRvdGFsLHI9dC5sb2FkZWQ7bltzXT17bG9hZGVkOnIvZSooMTAwL28pLHRvdGFsOjEwMH07dmFyIGE9bi5yZWR1Y2UoZnVuY3Rpb24odCxlKXtyZXR1cm57bG9hZGVkOnQubG9hZGVkK2UubG9hZGVkLHRvdGFsOjEwMH19LHtsb2FkZWQ6MCx0b3RhbDoxMDB9KTtpLm9ucHJvZ3Jlc3MuY2FsbChpLGEpfSxyLm9uY29tcGxldGU9ci5vbmVycm9yPWZ1bmN0aW9uKCl7aS5fbnVtTG9hZGVkKyssaS5fbnVtTG9hZGVkPT09aS5fcmVzb3VyY2VDb3VudCYmc2V0VGltZW91dChmdW5jdGlvbigpe2kuc2hvd1BsYXlCdXR0b24oKS50aGVuKGZ1bmN0aW9uKCl7dWkudW5sb2NrKCkudGhlbihmdW5jdGlvbigpe2kuaGlkZVBsYXlCdXR0b24oKSxpLm9uY29tcGxldGUuY2FsbChpKSxlLnJlc29sdmUoKX0pfSl9LDIwMCl9fSksZnVuY3Rpb24gdChlLGkpe2VbaV0mJmVbaV0ubG9hZCgpLnRoZW4oZnVuY3Rpb24oKXt0KGUsaSsxKX0pfSh0aGlzLl9yZXNvdXJjZUxpc3QsMCksZX0sZS5wcm90b3R5cGUuZHJhdz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9lbmdpbmUuY2FudmFzSGVpZ2h0L3RoaXMuX2VuZ2luZS5waXhlbFJhdGlvLGk9dGhpcy5fZW5naW5lLmNhbnZhc1dpZHRoL3RoaXMuX2VuZ2luZS5waXhlbFJhdGlvO2lmKHRoaXMuX3BsYXlCdXR0b25Sb290RWxlbWVudCl7dmFyIG49dC5jYW52YXMub2Zmc2V0TGVmdCxvPXQuY2FudmFzLm9mZnNldFRvcCxyPXRoaXMuX3BsYXlCdXR0b24uY2xpZW50V2lkdGgscz10aGlzLl9wbGF5QnV0dG9uLmNsaWVudEhlaWdodDt0aGlzLl9wbGF5QnV0dG9uUm9vdEVsZW1lbnQuc3R5bGUubGVmdD1uK2kvMi1yLzIrXCJweFwiLHRoaXMuX3BsYXlCdXR0b25Sb290RWxlbWVudC5zdHlsZS50b3A9bytlLzItcy8yKzEwMCtcInB4XCJ9dC5maWxsU3R5bGU9dGhpcy5iYWNrZ3JvdW5kQ29sb3IsdC5maWxsUmVjdCgwLDAsaSxlKTt2YXIgYT1lLzIsaD1NYXRoLm1pbih0aGlzLmxvZ29XaWR0aCwuNzUqaSksYz1pLzItaC8yLHU9TWF0aC5mbG9vcihoKih0aGlzLmxvZ29IZWlnaHQvdGhpcy5sb2dvV2lkdGgpKSxsPXRoaXMuX2VuZ2luZS5nZXRBbnRpYWxpYXNpbmcoKTtpZih0aGlzLl9lbmdpbmUuc2V0QW50aWFsaWFzaW5nKCEwKSx0LmRyYXdJbWFnZSh0aGlzLl9pbWFnZSwwLDAsdGhpcy5sb2dvV2lkdGgsdGhpcy5sb2dvSGVpZ2h0LGMsYS11LTIwLGgsdSksdGhpcy5zdXBwcmVzc1BsYXlCdXR0b258fCF0aGlzLl9wbGF5QnV0dG9uU2hvd24pe3QubGluZVdpZHRoPTIscWUodCxjLGEsaCwyMCwxMCk7dmFyIHA9aCoodGhpcy5fbnVtTG9hZGVkL3RoaXMuX3Jlc291cmNlQ291bnQpLTEwO3FlKHQsYys1LGErNSxwPjA/cDowLDEwLDUsbnVsbCxBdC5XaGl0ZSksdGhpcy5fZW5naW5lLnNldEFudGlhbGlhc2luZyhsKX1lbHNlIHRoaXMuX2VuZ2luZS5zZXRBbnRpYWxpYXNpbmcobCl9LGUucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0LGUpe30sZX0oU3QpLF9pPXt3ZWJnbDpcIldlYkdMXCIsd2ViYXVkaW86XCJXZWJBdWRpb1wiLGdhbWVwYWRhcGk6XCJHYW1lcGFkIEFQSVwifSx2aT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLl9mZWF0dXJlcz1udWxsLHRoaXMuZmFpbGVkVGVzdHM9W10sdGhpcy5fY3JpdGljYWxUZXN0cz17Y2FudmFzU3VwcG9ydDpmdW5jdGlvbigpe3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7cmV0dXJuISghdC5nZXRDb250ZXh0fHwhdC5nZXRDb250ZXh0KFwiMmRcIikpfSxhcnJheUJ1ZmZlclN1cHBvcnQ6ZnVuY3Rpb24oKXt2YXIgdD1uZXcgWE1MSHR0cFJlcXVlc3Q7dC5vcGVuKFwiR0VUXCIsXCIvXCIpO3RyeXt0LnJlc3BvbnNlVHlwZT1cImFycmF5YnVmZmVyXCJ9Y2F0Y2godCl7cmV0dXJuITF9cmV0dXJuXCJhcnJheWJ1ZmZlclwiPT09dC5yZXNwb25zZVR5cGV9LGRhdGFVcmxTdXBwb3J0OmZ1bmN0aW9uKCl7cmV0dXJuIDA9PT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpLnRvRGF0YVVSTChcImltYWdlL3BuZ1wiKS5pbmRleE9mKFwiZGF0YTppbWFnZS9wbmdcIil9LG9iamVjdFVybFN1cHBvcnQ6ZnVuY3Rpb24oKXtyZXR1cm5cIlVSTFwiaW4gd2luZG93JiZcInJldm9rZU9iamVjdFVSTFwiaW4gVVJMJiZcImNyZWF0ZU9iamVjdFVSTFwiaW4gVVJMfSxyZ2JhU3VwcG9ydDpmdW5jdGlvbigpe3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpLnN0eWxlO3JldHVybiB0LmNzc1RleHQ9XCJiYWNrZ3JvdW5kLWNvbG9yOnJnYmEoMTUwLDI1NSwxNTAsLjUpXCIsKFwiXCIrdC5iYWNrZ3JvdW5kQ29sb3IpLmluZGV4T2YoXCJyZ2JhXCIpPi0xfX0sdGhpcy5fd2FybmluZ1Rlc3Q9e3dlYkF1ZGlvU3VwcG9ydDpmdW5jdGlvbigpe3JldHVybiEhKHdpbmRvdy5BdWRpb0NvbnRleHR8fHdpbmRvdy53ZWJraXRBdWRpb0NvbnRleHR8fHdpbmRvdy5tb3pBdWRpb0NvbnRleHR8fHdpbmRvdy5tc0F1ZGlvQ29udGV4dHx8d2luZG93Lm9BdWRpb0NvbnRleHQpfSx3ZWJnbFN1cHBvcnQ6ZnVuY3Rpb24oKXt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO3JldHVybiEoIXQuZ2V0Q29udGV4dHx8IXQuZ2V0Q29udGV4dChcIndlYmdsXCIpKX19LHRoaXMuX2ZlYXR1cmVzPXRoaXMuX2xvYWRCcm93c2VyRmVhdHVyZXMoKX1yZXR1cm4gdC5wcm90b3R5cGUuZ2V0QnJvd3NlckZlYXR1cmVzPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PT10aGlzLl9mZWF0dXJlcyYmKHRoaXMuX2ZlYXR1cmVzPXRoaXMuX2xvYWRCcm93c2VyRmVhdHVyZXMoKSksdGhpcy5fZmVhdHVyZXN9LHQucHJvdG90eXBlLmxvZ0Jyb3dzZXJGZWF0dXJlcz1mdW5jdGlvbigpe2Zvcih2YXIgdD1cIiVjU1VQUE9SVEVEIEJST1dTRVIgRkVBVFVSRVNcXG49PT09PT09PT09PT09PT09PT09PT09PT09PSVjXFxuXCIsZT1bXCJmb250LXdlaWdodDogYm9sZDsgY29sb3I6IG5hdnlcIixcImZvbnQtd2VpZ2h0OiBub3JtYWw7IGNvbG9yOiBpbmhlcml0XCJdLGk9dGhpcy5nZXRCcm93c2VyRmVhdHVyZXMoKSxuPTAsbz1PYmplY3Qua2V5cyhfaSk7bjxvLmxlbmd0aDtuKyspe3ZhciByPW9bbl07aVtyXT8odCs9XCIoJWPinJMlYylcIixlLnB1c2goXCJmb250LXdlaWdodDogYm9sZDsgY29sb3I6IGdyZWVuXCIpLGUucHVzaChcImZvbnQtd2VpZ2h0OiBub3JtYWw7IGNvbG9yOiBpbmhlcml0XCIpKToodCs9XCIoJWPinJclYylcIixlLnB1c2goXCJmb250LXdlaWdodDogYm9sZDsgY29sb3I6IHJlZFwiKSxlLnB1c2goXCJmb250LXdlaWdodDogbm9ybWFsOyBjb2xvcjogaW5oZXJpdFwiKSksdCs9XCIgXCIrX2lbcl0rXCJcXG5cIn1lLnVuc2hpZnQodCksY29uc29sZS5sb2cuYXBwbHkoY29uc29sZSxlKX0sdC5wcm90b3R5cGUuX2xvYWRCcm93c2VyRmVhdHVyZXM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybntjYW52YXM6dC5fY3JpdGljYWxUZXN0cy5jYW52YXNTdXBwb3J0KCksYXJyYXlidWZmZXI6dC5fY3JpdGljYWxUZXN0cy5hcnJheUJ1ZmZlclN1cHBvcnQoKSxkYXRhdXJsOnQuX2NyaXRpY2FsVGVzdHMuZGF0YVVybFN1cHBvcnQoKSxvYmplY3R1cmw6dC5fY3JpdGljYWxUZXN0cy5vYmplY3RVcmxTdXBwb3J0KCkscmdiYTp0Ll9jcml0aWNhbFRlc3RzLnJnYmFTdXBwb3J0KCksd2ViYXVkaW86dC5fd2FybmluZ1Rlc3Qud2ViQXVkaW9TdXBwb3J0KCksd2ViZ2w6dC5fd2FybmluZ1Rlc3Qud2ViZ2xTdXBwb3J0KCksZ2FtZXBhZGFwaTohIW5hdmlnYXRvci5nZXRHYW1lcGFkc319LHQucHJvdG90eXBlLnRlc3Q9ZnVuY3Rpb24oKXt2YXIgdD0hMTtmb3IodmFyIGUgaW4gdGhpcy5fY3JpdGljYWxUZXN0cyl0aGlzLl9jcml0aWNhbFRlc3RzW2VdLmNhbGwodGhpcyl8fCh0aGlzLmZhaWxlZFRlc3RzLnB1c2goZSksTnQuZ2V0SW5zdGFuY2UoKS5lcnJvcihcIkNyaXRpY2FsIGJyb3dzZXIgZmVhdHVyZSBtaXNzaW5nLCBFeGNhbGlidXIgcmVxdWlyZXM6XCIsZSksdD0hMCk7aWYodClyZXR1cm4hMTtmb3IodmFyIGkgaW4gdGhpcy5fd2FybmluZ1Rlc3QpdGhpcy5fd2FybmluZ1Rlc3RbaV0oKXx8TnQuZ2V0SW5zdGFuY2UoKS53YXJuKFwiV2FybmluZyBicm93c2VyIGZlYXR1cmUgbWlzc2luZywgRXhjYWxpYnVyIHdpbGwgaGF2ZSByZWR1Y2VkIHBlcmZvcm1hbmNlOlwiLGkpO3JldHVybiEwfSx0fSgpLG1pPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLnBhcmVudD10LHRoaXMucGFyZW50PXR8fG51bGwsdGhpcy5ib2R5PW51bGwsdGhpcy5ib3VuZHM9bmV3IFl0LHRoaXMubGVmdD1udWxsLHRoaXMucmlnaHQ9bnVsbCx0aGlzLmhlaWdodD0wfXJldHVybiB0LnByb3RvdHlwZS5pc0xlYWY9ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5sZWZ0JiYhdGhpcy5yaWdodH0sdH0oKSxiaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dm9pZCAwPT09dCYmKHQ9bmV3IFl0KC1OdW1iZXIuTUFYX1ZBTFVFLC1OdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSkpLHRoaXMud29ybGRCb3VuZHM9dCx0aGlzLnJvb3Q9bnVsbCx0aGlzLm5vZGVzPXt9fXJldHVybiB0LnByb3RvdHlwZS5faW5zZXJ0PWZ1bmN0aW9uKHQpe2lmKG51bGw9PT10aGlzLnJvb3QpcmV0dXJuIHRoaXMucm9vdD10LHZvaWQodGhpcy5yb290LnBhcmVudD1udWxsKTtmb3IodmFyIGU9dC5ib3VuZHMsaT10aGlzLnJvb3Q7IWkuaXNMZWFmKCk7KXt2YXIgbj1pLmxlZnQsbz1pLnJpZ2h0LHI9aS5ib3VuZHMuZ2V0UGVyaW1ldGVyKCkscz1pLmJvdW5kcy5jb21iaW5lKGUpLmdldFBlcmltZXRlcigpLGE9MipzLGg9Mioocy1yKSxjPTAsdT1lLmNvbWJpbmUobi5ib3VuZHMpLGw9dm9pZCAwO24uaXNMZWFmKCk/Yz11LmdldFBlcmltZXRlcigpK2g6KGw9bi5ib3VuZHMuZ2V0UGVyaW1ldGVyKCksYz11LmdldFBlcmltZXRlcigpLWwraCk7dmFyIHA9MCxkPWUuY29tYmluZShvLmJvdW5kcyk7aWYoby5pc0xlYWYoKT9wPWQuZ2V0UGVyaW1ldGVyKCkraDoobD1vLmJvdW5kcy5nZXRQZXJpbWV0ZXIoKSxwPWQuZ2V0UGVyaW1ldGVyKCktbCtoKSxhPGMmJmE8cClicmVhaztpPWM8cD9uOm99dmFyIGY9aS5wYXJlbnQsZz1uZXcgbWkoZik7Zy5ib3VuZHM9ZS5jb21iaW5lKGkuYm91bmRzKSxnLmhlaWdodD1pLmhlaWdodCsxLG51bGwhPT1mPyhmLmxlZnQ9PT1pP2YubGVmdD1nOmYucmlnaHQ9ZyxnLmxlZnQ9aSxnLnJpZ2h0PXQsaS5wYXJlbnQ9Zyx0LnBhcmVudD1nKTooZy5sZWZ0PWksZy5yaWdodD10LGkucGFyZW50PWcsdC5wYXJlbnQ9Zyx0aGlzLnJvb3Q9Zyk7Zm9yKHZhciB5PXQucGFyZW50O3k7KXtpZighKHk9dGhpcy5fYmFsYW5jZSh5KSkubGVmdCl0aHJvdyBuZXcgRXJyb3IoXCJQYXJlbnQgb2YgY3VycmVudCBsZWFmIGNhbm5vdCBoYXZlIGEgbnVsbCBsZWZ0IGNoaWxkXCIreSk7aWYoIXkucmlnaHQpdGhyb3cgbmV3IEVycm9yKFwiUGFyZW50IG9mIGN1cnJlbnQgbGVhZiBjYW5ub3QgaGF2ZSBhIG51bGwgcmlnaHQgY2hpbGRcIit5KTt5LmhlaWdodD0xK01hdGgubWF4KHkubGVmdC5oZWlnaHQseS5yaWdodC5oZWlnaHQpLHkuYm91bmRzPXkubGVmdC5ib3VuZHMuY29tYmluZSh5LnJpZ2h0LmJvdW5kcykseT15LnBhcmVudH19LHQucHJvdG90eXBlLl9yZW1vdmU9ZnVuY3Rpb24odCl7aWYodCE9PXRoaXMucm9vdCl7dmFyIGUsaT10LnBhcmVudCxuPWkucGFyZW50O2lmKGU9aS5sZWZ0PT09dD9pLnJpZ2h0OmkubGVmdCxuKXtuLmxlZnQ9PT1pP24ubGVmdD1lOm4ucmlnaHQ9ZSxlLnBhcmVudD1uO2Zvcih2YXIgbz1uO287KShvPXRoaXMuX2JhbGFuY2UobykpLmJvdW5kcz1vLmxlZnQuYm91bmRzLmNvbWJpbmUoby5yaWdodC5ib3VuZHMpLG8uaGVpZ2h0PTErTWF0aC5tYXgoby5sZWZ0LmhlaWdodCxvLnJpZ2h0LmhlaWdodCksbz1vLnBhcmVudH1lbHNlIHRoaXMucm9vdD1lLGUucGFyZW50PW51bGx9ZWxzZSB0aGlzLnJvb3Q9bnVsbH0sdC5wcm90b3R5cGUudHJhY2tCb2R5PWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBtaTtlLmJvZHk9dCxlLmJvdW5kcz10LmNvbGxpZGVyLmJvdW5kcyxlLmJvdW5kcy5sZWZ0LT0yLGUuYm91bmRzLnRvcC09MixlLmJvdW5kcy5yaWdodCs9MixlLmJvdW5kcy5ib3R0b20rPTIsdGhpcy5ub2Rlc1t0LmlkXT1lLHRoaXMuX2luc2VydChlKX0sdC5wcm90b3R5cGUudXBkYXRlQm9keT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLm5vZGVzW3QuaWRdO2lmKCFlKXJldHVybiExO3ZhciBpPXQuY29sbGlkZXIuYm91bmRzO2lmKCF0aGlzLndvcmxkQm91bmRzLmNvbnRhaW5zKGkpKXJldHVybiBOdC5nZXRJbnN0YW5jZSgpLndhcm4oXCJDb2xsaWRlciB3aXRoIGlkIFwiK3QuaWQrXCIgaXMgb3V0c2lkZSB0aGUgd29ybGQgYm91bmRzIGFuZCB3aWxsIG5vIGxvbmdlciBiZSB0cmFja2VkIGZvciBwaHlzaWNzXCIpLHRoaXMudW50cmFja0JvZHkodCksITE7aWYoZS5ib3VuZHMuY29udGFpbnMoaSkpcmV0dXJuITE7dGhpcy5fcmVtb3ZlKGUpLGkubGVmdC09VHQuYm91bmRzUGFkZGluZyxpLnRvcC09VHQuYm91bmRzUGFkZGluZyxpLnJpZ2h0Kz1UdC5ib3VuZHNQYWRkaW5nLGkuYm90dG9tKz1UdC5ib3VuZHNQYWRkaW5nO3ZhciBuPXQudmVsLngqVHQuZHluYW1pY1RyZWVWZWxvY2l0eU11bHRpcGx5ZXIsbz10LnZlbC55KlR0LmR5bmFtaWNUcmVlVmVsb2NpdHlNdWx0aXBseWVyO3JldHVybiBuPDA/aS5sZWZ0Kz1uOmkucmlnaHQrPW4sbzwwP2kudG9wKz1vOmkuYm90dG9tKz1vLGUuYm91bmRzPWksdGhpcy5faW5zZXJ0KGUpLCEwfSx0LnByb3RvdHlwZS51bnRyYWNrQm9keT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLm5vZGVzW3QuY29sbGlkZXIuaWRdO2UmJih0aGlzLl9yZW1vdmUoZSksdGhpcy5ub2Rlc1t0LmNvbGxpZGVyLmlkXT1udWxsLGRlbGV0ZSB0aGlzLm5vZGVzW3QuY29sbGlkZXIuaWRdKX0sdC5wcm90b3R5cGUuX2JhbGFuY2U9ZnVuY3Rpb24odCl7aWYobnVsbD09PXQpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGJhbGFuY2UgYXQgbnVsbCBub2RlXCIpO2lmKHQuaXNMZWFmKCl8fHQuaGVpZ2h0PDIpcmV0dXJuIHQ7dmFyIGU9dC5sZWZ0LGk9dC5yaWdodCxuPXQsbz1lLHI9aSxzPWUubGVmdCxhPWUucmlnaHQsaD1pLmxlZnQsYz1pLnJpZ2h0LHU9ci5oZWlnaHQtby5oZWlnaHQ7aWYodT4xKXJldHVybiByLmxlZnQ9bixyLnBhcmVudD1uLnBhcmVudCxuLnBhcmVudD1yLHIucGFyZW50P3IucGFyZW50LmxlZnQ9PT1uP3IucGFyZW50LmxlZnQ9cjpyLnBhcmVudC5yaWdodD1yOnRoaXMucm9vdD1yLGguaGVpZ2h0PmMuaGVpZ2h0PyhyLnJpZ2h0PWgsbi5yaWdodD1jLGMucGFyZW50PW4sbi5ib3VuZHM9by5ib3VuZHMuY29tYmluZShjLmJvdW5kcyksci5ib3VuZHM9bi5ib3VuZHMuY29tYmluZShoLmJvdW5kcyksbi5oZWlnaHQ9MStNYXRoLm1heChvLmhlaWdodCxjLmhlaWdodCksci5oZWlnaHQ9MStNYXRoLm1heChuLmhlaWdodCxoLmhlaWdodCkpOihyLnJpZ2h0PWMsbi5yaWdodD1oLGgucGFyZW50PW4sbi5ib3VuZHM9by5ib3VuZHMuY29tYmluZShoLmJvdW5kcyksci5ib3VuZHM9bi5ib3VuZHMuY29tYmluZShjLmJvdW5kcyksbi5oZWlnaHQ9MStNYXRoLm1heChvLmhlaWdodCxoLmhlaWdodCksci5oZWlnaHQ9MStNYXRoLm1heChuLmhlaWdodCxjLmhlaWdodCkpLHI7aWYodTwtMSl7aWYoby5sZWZ0PW4sby5wYXJlbnQ9bi5wYXJlbnQsbi5wYXJlbnQ9byxvLnBhcmVudClpZihvLnBhcmVudC5sZWZ0PT09bilvLnBhcmVudC5sZWZ0PW87ZWxzZXtpZihvLnBhcmVudC5yaWdodCE9PW4pdGhyb3dcIkVycm9yIHJvdGF0aW5nIER5bmFtaWMgVHJlZVwiO28ucGFyZW50LnJpZ2h0PW99ZWxzZSB0aGlzLnJvb3Q9bztyZXR1cm4gcy5oZWlnaHQ+YS5oZWlnaHQ/KG8ucmlnaHQ9cyxuLmxlZnQ9YSxhLnBhcmVudD1uLG4uYm91bmRzPXIuYm91bmRzLmNvbWJpbmUoYS5ib3VuZHMpLG8uYm91bmRzPW4uYm91bmRzLmNvbWJpbmUocy5ib3VuZHMpLG4uaGVpZ2h0PTErTWF0aC5tYXgoci5oZWlnaHQsYS5oZWlnaHQpLG8uaGVpZ2h0PTErTWF0aC5tYXgobi5oZWlnaHQscy5oZWlnaHQpKTooby5yaWdodD1hLG4ubGVmdD1zLHMucGFyZW50PW4sbi5ib3VuZHM9ci5ib3VuZHMuY29tYmluZShzLmJvdW5kcyksby5ib3VuZHM9bi5ib3VuZHMuY29tYmluZShhLmJvdW5kcyksbi5oZWlnaHQ9MStNYXRoLm1heChyLmhlaWdodCxzLmhlaWdodCksby5oZWlnaHQ9MStNYXRoLm1heChuLmhlaWdodCxhLmhlaWdodCkpLG99cmV0dXJuIHR9LHQucHJvdG90eXBlLmdldEhlaWdodD1mdW5jdGlvbigpe3JldHVybiBudWxsPT09dGhpcy5yb290PzA6dGhpcy5yb290LmhlaWdodH0sdC5wcm90b3R5cGUucXVlcnk9ZnVuY3Rpb24odCxlKXt2YXIgaT10LmNvbGxpZGVyLmJvdW5kcyxuPWZ1bmN0aW9uKG8pe2lmKG8mJm8uYm91bmRzLmludGVyc2VjdChpKSl7aWYoIW8uaXNMZWFmKCl8fG8uYm9keT09PXQpcmV0dXJuIG4oby5sZWZ0KXx8bihvLnJpZ2h0KTtpZihlLmNhbGwodCxvLmJvZHkpKXJldHVybiEwfXJldHVybiExfTtuKHRoaXMucm9vdCl9LHQucHJvdG90eXBlLnJheUNhc3RRdWVyeT1mdW5jdGlvbih0LGUsaSl7dm9pZCAwPT09ZSYmKGU9MS8wKTt2YXIgbj1mdW5jdGlvbihvKXtpZihvJiZvLmJvdW5kcy5yYXlDYXN0KHQsZSkpe2lmKCFvLmlzTGVhZigpKXJldHVybiBuKG8ubGVmdCl8fG4oby5yaWdodCk7aWYoaS5jYWxsKHQsby5ib2R5KSlyZXR1cm4hMH1yZXR1cm4hMX07bih0aGlzLnJvb3QpfSx0LnByb3RvdHlwZS5nZXROb2Rlcz1mdW5jdGlvbigpe3ZhciB0PWZ1bmN0aW9uKGUpe3JldHVybiBlP1tlXS5jb25jYXQodChlLmxlZnQpLHQoZS5yaWdodCkpOltdfTtyZXR1cm4gdCh0aGlzLnJvb3QpfSx0LnByb3RvdHlwZS5kZWJ1Z0RyYXc9ZnVuY3Rpb24odCl7dmFyIGU9ZnVuY3Rpb24oaSl7aSYmKGkuaXNMZWFmKCk/KHQubGluZVdpZHRoPTEsdC5zdHJva2VTdHlsZT1cImdyZWVuXCIpOih0LmxpbmVXaWR0aD0xLHQuc3Ryb2tlU3R5bGU9XCJ3aGl0ZVwiKSxpLmJvdW5kcy5kZWJ1Z0RyYXcodCksaS5sZWZ0JiZlKGkubGVmdCksaS5yaWdodCYmZShpLnJpZ2h0KSl9O2UodGhpcy5yb290KX0sdH0oKSx3aT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLl9keW5hbWljQ29sbGlzaW9uVHJlZT1uZXcgYmksdGhpcy5fY29sbGlzaW9uSGFzaD17fSx0aGlzLl9jb2xsaXNpb25QYWlyQ2FjaGU9W10sdGhpcy5fbGFzdEZyYW1lUGFpcnM9W10sdGhpcy5fbGFzdEZyYW1lUGFpcnNIYXNoPXt9fXJldHVybiB0LnByb3RvdHlwZS50cmFjaz1mdW5jdGlvbih0KXt0P3RoaXMuX2R5bmFtaWNDb2xsaXNpb25UcmVlLnRyYWNrQm9keSh0KTpOdC5nZXRJbnN0YW5jZSgpLndhcm4oXCJDYW5ub3QgdHJhY2sgbnVsbCBwaHlzaWNzIGJvZHlcIil9LHQucHJvdG90eXBlLnVudHJhY2s9ZnVuY3Rpb24odCl7dD90aGlzLl9keW5hbWljQ29sbGlzaW9uVHJlZS51bnRyYWNrQm9keSh0KTpOdC5nZXRJbnN0YW5jZSgpLndhcm4oXCJDYW5ub3QgdW50cmFjayBhIG51bGwgcGh5c2ljcyBib2R5XCIpfSx0LnByb3RvdHlwZS5fc2hvdWxkR2VuZXJhdGVDb2xsaXNpb25QYWlyPWZ1bmN0aW9uKHQsZSl7dmFyIGk9WGUuY2FsY3VsYXRlUGFpckhhc2godCxlKTtyZXR1cm4hdGhpcy5fY29sbGlzaW9uSGFzaFtpXSYmWGUuY2FuQ29sbGlkZSh0LGUpfSx0LnByb3RvdHlwZS5icm9hZHBoYXNlPWZ1bmN0aW9uKHQsZSxpKXt2YXIgbixvPXRoaXMscj1lLzFlMyxzPXQubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0LmNvbGxpZGVyfSkuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiB0LmFjdGl2ZSYmdC50eXBlIT09Q3QuUHJldmVudENvbGxpc2lvbn0pO3RoaXMuX2NvbGxpc2lvblBhaXJDYWNoZT1bXSx0aGlzLl9jb2xsaXNpb25IYXNoPXt9O2Zvcih2YXIgYT0wLGg9cy5sZW5ndGg7YTxoO2ErKyluPXNbYV0sdGhpcy5fZHluYW1pY0NvbGxpc2lvblRyZWUucXVlcnkobi5ib2R5LGZ1bmN0aW9uKHQpe2lmKG8uX3Nob3VsZEdlbmVyYXRlQ29sbGlzaW9uUGFpcihuLHQuY29sbGlkZXIpKXt2YXIgZT1uZXcgWGUobix0LmNvbGxpZGVyKTtvLl9jb2xsaXNpb25IYXNoW2UuaWRdPSEwLG8uX2NvbGxpc2lvblBhaXJDYWNoZS5wdXNoKGUpfXJldHVybiExfSk7aWYoaSYmKGkucGh5c2ljcy5wYWlycz10aGlzLl9jb2xsaXNpb25QYWlyQ2FjaGUubGVuZ3RoKSxUdC5jaGVja0ZvckZhc3RCb2RpZXMpZm9yKHZhciBjPWZ1bmN0aW9uKHQpe2lmKHQudHlwZSE9PUN0LkFjdGl2ZSlyZXR1cm5cImNvbnRpbnVlXCI7dmFyIGU9dC5ib2R5LnZlbC5tYWduaXR1ZGUoKSpyKy41KnQuYm9keS5hY2MubWFnbml0dWRlKCkqcipyLG49TWF0aC5taW4odC5ib3VuZHMuaGVpZ2h0LHQuYm91bmRzLndpZHRoKTtpZihUdC5kaXNhYmxlTWluaW11bVNwZWVkRm9yRmFzdEJvZHl8fGU+bi8yKXtpJiZpLnBoeXNpY3MuZmFzdEJvZGllcysrO3ZhciBvLHM9dC5ib2R5LnBvcy5zdWIodC5ib2R5Lm9sZFBvcyksYT10LnNoYXBlLmNlbnRlcixoPXQuc2hhcGUuZ2V0RnVydGhlc3RQb2ludCh0LmJvZHkudmVsKSxjPWguc3ViKHMpLGw9bmV3IGooYyx0LmJvZHkudmVsKTtsLnBvcz1sLnBvcy5hZGQobC5kaXIuc2NhbGUoLTIqVHQuc3VyZmFjZUVwc2lsb24pKTt2YXIgcD1uZXcgRigxLzAsMS8wKTtpZih1Ll9keW5hbWljQ29sbGlzaW9uVHJlZS5yYXlDYXN0UXVlcnkobCxlKzIqVHQuc3VyZmFjZUVwc2lsb24sZnVuY3Rpb24oaSl7aWYodC5ib2R5IT09aSYmaS5jb2xsaWRlci5zaGFwZSYmWGUuY2FuQ29sbGlkZSh0LGkuY29sbGlkZXIpKXt2YXIgbj1pLmNvbGxpZGVyLnNoYXBlLnJheUNhc3QobCxlKzEwKlR0LnN1cmZhY2VFcHNpbG9uKTtpZihuKXt2YXIgcj1uLnN1YihjKTtyLm1hZ25pdHVkZSgpPHAubWFnbml0dWRlKCkmJihwPXIsbz1pKX19cmV0dXJuITF9KSxvJiZGLmlzVmFsaWQocCkpe3ZhciBkPW5ldyBYZSh0LG8uY29sbGlkZXIpO3UuX2NvbGxpc2lvbkhhc2hbZC5pZF18fCh1Ll9jb2xsaXNpb25IYXNoW2QuaWRdPSEwLHUuX2NvbGxpc2lvblBhaXJDYWNoZS5wdXNoKGQpKTt2YXIgZj1hLnN1YihoKTt0LmJvZHkucG9zPWMuYWRkKGYpLmFkZChwKS5hZGQobC5kaXIuc2NhbGUoMipUdC5zdXJmYWNlRXBzaWxvbikpLHQuc2hhcGUucmVjYWxjKCksaSYmaS5waHlzaWNzLmZhc3RCb2R5Q29sbGlzaW9ucysrfX19LHU9dGhpcyxsPTAscD1zO2w8cC5sZW5ndGg7bCsrKXtjKHBbbF0pfXJldHVybiB0aGlzLl9jb2xsaXNpb25QYWlyQ2FjaGV9LHQucHJvdG90eXBlLm5hcnJvd3BoYXNlPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpPTA7aTx0Lmxlbmd0aDtpKyspdFtpXS5jb2xsaWRlKCksZSYmdFtpXS5jb2xsaXNpb24mJihlLnBoeXNpY3MuY29sbGlzaW9ucysrLGUucGh5c2ljcy5jb2xsaWRlcnNIYXNoW3RbaV0uaWRdPXRbaV0pO3JldHVybiB0LmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gdC5jb2xsaXNpb259KX0sdC5wcm90b3R5cGUucmVzb2x2ZT1mdW5jdGlvbih0LGUsaSl7Zm9yKHZhciBuPTAsbz10O248by5sZW5ndGg7bisrKXt2YXIgcj1vW25dO3IucmVzb2x2ZShpKSxyLmNvbGxpc2lvbiYmKHIuY29sbGlkZXJBLmJvZHkuYXBwbHlNdHYoKSxyLmNvbGxpZGVyQi5ib2R5LmFwcGx5TXR2KCksci5jb2xsaWRlckEuYm9keS5pbnRlZ3JhdGUoZSpUdC5jb2xsaXNpb25TaGlmdCksci5jb2xsaWRlckIuYm9keS5pbnRlZ3JhdGUoZSpUdC5jb2xsaXNpb25TaGlmdCkpfXJldHVybiB0LmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gdC5jYW5Db2xsaWRlfSl9LHQucHJvdG90eXBlLnJ1bkNvbGxpc2lvblN0YXJ0RW5kPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT17fSxpPTAsbj10O2k8bi5sZW5ndGg7aSsrKXtpZihlWyhoPW5baV0pLmlkXT1oLCF0aGlzLl9sYXN0RnJhbWVQYWlyc0hhc2hbaC5pZF0pe3ZhciBvPWguY29sbGlkZXJBLHI9aC5jb2xsaWRlckI7by5lbWl0KFwiY29sbGlzaW9uc3RhcnRcIixuZXcgZnQobyxyLGgpKSxyLmVtaXQoXCJjb2xsaXNpb25zdGFydFwiLG5ldyBmdChyLG8saCkpfX1mb3IodmFyIHM9MCxhPXRoaXMuX2xhc3RGcmFtZVBhaXJzO3M8YS5sZW5ndGg7cysrKXt2YXIgaDtpZighZVsoaD1hW3NdKS5pZF0pe289aC5jb2xsaWRlckEscj1oLmNvbGxpZGVyQjtvLmVtaXQoXCJjb2xsaXNpb25lbmRcIixuZXcgZ3QobyxyKSksci5lbWl0KFwiY29sbGlzaW9uZW5kXCIsbmV3IGd0KHIsbykpfX10aGlzLl9sYXN0RnJhbWVQYWlycz10LHRoaXMuX2xhc3RGcmFtZVBhaXJzSGFzaD1lfSx0LnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsaT10Lmxlbmd0aCxuPTA7bjxpO24rKyl0aGlzLl9keW5hbWljQ29sbGlzaW9uVHJlZS51cGRhdGVCb2R5KHRbbl0pJiZlKys7cmV0dXJuIGV9LHQucHJvdG90eXBlLmRlYnVnRHJhdz1mdW5jdGlvbih0KXtpZihUdC5icm9hZHBoYXNlRGVidWcmJnRoaXMuX2R5bmFtaWNDb2xsaXNpb25UcmVlLmRlYnVnRHJhdyh0KSxUdC5zaG93Q29udGFjdHN8fFR0LnNob3dDb2xsaXNpb25Ob3JtYWxzKWZvcih2YXIgZT0wLGk9dGhpcy5fY29sbGlzaW9uUGFpckNhY2hlO2U8aS5sZW5ndGg7ZSsrKXtpW2VdLmRlYnVnRHJhdyh0KX19LHR9KCkseGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuX2dldENvbXBhcmFibGU9dH1yZXR1cm4gdC5wcm90b3R5cGUuZmluZD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZmluZCh0aGlzLl9yb290LHQpfSx0LnByb3RvdHlwZS5fZmluZD1mdW5jdGlvbih0LGUpe3JldHVybiBudWxsIT10JiYodGhpcy5fZ2V0Q29tcGFyYWJsZS5jYWxsKGUpPT09dC5nZXRLZXkoKT90LmdldERhdGEoKS5pbmRleE9mKGUpPi0xOnRoaXMuX2dldENvbXBhcmFibGUuY2FsbChlKTx0LmdldEtleSgpP3RoaXMuX2ZpbmQodC5nZXRMZWZ0KCksZSk6dGhpcy5fZmluZCh0LmdldFJpZ2h0KCksZSkpfSx0LnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2dldCh0aGlzLl9yb290LHQpfSx0LnByb3RvdHlwZS5fZ2V0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG51bGw9PXQ/W106ZT09PXQuZ2V0S2V5KCk/dC5nZXREYXRhKCk6ZTx0LmdldEtleSgpP3RoaXMuX2dldCh0LmdldExlZnQoKSxlKTp0aGlzLl9nZXQodC5nZXRSaWdodCgpLGUpfSx0LnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCl7cmV0dXJuIG51bGw9PXRoaXMuX3Jvb3Q/KHRoaXMuX3Jvb3Q9bmV3IFBpKHRoaXMuX2dldENvbXBhcmFibGUuY2FsbCh0KSxbdF0sbnVsbCxudWxsKSwhMCk6dGhpcy5faW5zZXJ0KHRoaXMuX3Jvb3QsdCl9LHQucHJvdG90eXBlLl9pbnNlcnQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbnVsbCE9dCYmKHRoaXMuX2dldENvbXBhcmFibGUuY2FsbChlKT09PXQuZ2V0S2V5KCk/ISh0LmdldERhdGEoKS5pbmRleE9mKGUpPi0xKSYmKHQuZ2V0RGF0YSgpLnB1c2goZSksITApOnRoaXMuX2dldENvbXBhcmFibGUuY2FsbChlKTx0LmdldEtleSgpP251bGw9PXQuZ2V0TGVmdCgpPyh0LnNldExlZnQobmV3IFBpKHRoaXMuX2dldENvbXBhcmFibGUuY2FsbChlKSxbZV0sbnVsbCxudWxsKSksITApOnRoaXMuX2luc2VydCh0LmdldExlZnQoKSxlKTpudWxsPT10LmdldFJpZ2h0KCk/KHQuc2V0UmlnaHQobmV3IFBpKHRoaXMuX2dldENvbXBhcmFibGUuY2FsbChlKSxbZV0sbnVsbCxudWxsKSksITApOnRoaXMuX2luc2VydCh0LmdldFJpZ2h0KCksZSkpfSx0LnByb3RvdHlwZS5yZW1vdmVCeUNvbXBhcmFibGU9ZnVuY3Rpb24odCl7dGhpcy5fcm9vdD10aGlzLl9yZW1vdmUodGhpcy5fcm9vdCx0KX0sdC5wcm90b3R5cGUuX3JlbW92ZT1mdW5jdGlvbih0LGUpe2lmKG51bGw9PXQpcmV0dXJuIG51bGw7aWYodGhpcy5fZ2V0Q29tcGFyYWJsZS5jYWxsKGUpIT09dC5nZXRLZXkoKSlyZXR1cm4gdGhpcy5fZ2V0Q29tcGFyYWJsZS5jYWxsKGUpPHQuZ2V0S2V5KCk/KHQuc2V0TGVmdCh0aGlzLl9yZW1vdmUodC5nZXRMZWZ0KCksZSkpLHQpOih0LnNldFJpZ2h0KHRoaXMuX3JlbW92ZSh0LmdldFJpZ2h0KCksZSkpLHQpO3ZhciBpPXQuZ2V0RGF0YSgpLmluZGV4T2YoZSk7aWYoaT4tMSl7aWYodC5nZXREYXRhKCkuc3BsaWNlKGksMSksMD09PXQuZ2V0RGF0YSgpLmxlbmd0aCl7aWYobnVsbD09dC5nZXRMZWZ0KCkmJm51bGw9PXQuZ2V0UmlnaHQoKSlyZXR1cm4gbnVsbDtpZihudWxsPT10LmdldExlZnQoKSlyZXR1cm4gdC5nZXRSaWdodCgpO2lmKG51bGw9PXQuZ2V0UmlnaHQoKSlyZXR1cm4gdC5nZXRMZWZ0KCk7dmFyIG49dGhpcy5fZmluZE1pbk5vZGUodC5nZXRSaWdodCgpKTtyZXR1cm4gdC5zZXRLZXkobi5nZXRLZXkoKSksdC5zZXREYXRhKG4uZ2V0RGF0YSgpKSx0LnNldFJpZ2h0KHRoaXMuX2NsZWFudXAodC5nZXRSaWdodCgpLG4pKSx0fXJldHVybiB0fXJldHVybiBudWxsfSx0LnByb3RvdHlwZS5fY2xlYW51cD1mdW5jdGlvbih0LGUpe3ZhciBpPWUuZ2V0S2V5KCk7aWYobnVsbD09dClyZXR1cm4gbnVsbDtpZihpPT09dC5nZXRLZXkoKSl7aWYobnVsbD09dC5nZXRMZWZ0KCkmJm51bGw9PXQuZ2V0UmlnaHQoKSlyZXR1cm4gbnVsbDtpZihudWxsPT10LmdldExlZnQoKSlyZXR1cm4gdC5nZXRSaWdodCgpO2lmKG51bGw9PXQuZ2V0UmlnaHQoKSlyZXR1cm4gdC5nZXRMZWZ0KCk7dmFyIG49dGhpcy5fZmluZE1pbk5vZGUodC5nZXRSaWdodCgpKTtyZXR1cm4gdC5zZXRLZXkobi5nZXRLZXkoKSksdC5zZXREYXRhKG4uZ2V0RGF0YSgpKSx0LnNldFJpZ2h0KHRoaXMuX2NsZWFudXAodC5nZXRSaWdodCgpLG4pKSx0fXJldHVybiB0aGlzLl9nZXRDb21wYXJhYmxlLmNhbGwoZSk8dC5nZXRLZXkoKT8odC5zZXRMZWZ0KHRoaXMuX2NsZWFudXAodC5nZXRMZWZ0KCksZSkpLHQpOih0LnNldFJpZ2h0KHRoaXMuX2NsZWFudXAodC5nZXRSaWdodCgpLGUpKSx0KX0sdC5wcm90b3R5cGUuX2ZpbmRNaW5Ob2RlPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10O251bGwhPWUuZ2V0TGVmdCgpOyllPWUuZ2V0TGVmdCgpO3JldHVybiBlfSx0LnByb3RvdHlwZS5saXN0PWZ1bmN0aW9uKCl7dmFyIHQ9bmV3IEFycmF5O3JldHVybiB0aGlzLl9saXN0KHRoaXMuX3Jvb3QsdCksdH0sdC5wcm90b3R5cGUuX2xpc3Q9ZnVuY3Rpb24odCxlKXtudWxsIT10JiYodGhpcy5fbGlzdCh0LmdldExlZnQoKSxlKSx0LmdldERhdGEoKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2UucHVzaCh0KX0pLHRoaXMuX2xpc3QodC5nZXRSaWdodCgpLGUpKX0sdH0oKSxQaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLGksbil7dGhpcy5fa2V5PXQsdGhpcy5fZGF0YT1lLHRoaXMuX2xlZnQ9aSx0aGlzLl9yaWdodD1ufXJldHVybiB0LnByb3RvdHlwZS5nZXRLZXk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fa2V5fSx0LnByb3RvdHlwZS5zZXRLZXk9ZnVuY3Rpb24odCl7dGhpcy5fa2V5PXR9LHQucHJvdG90eXBlLmdldERhdGE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YX0sdC5wcm90b3R5cGUuc2V0RGF0YT1mdW5jdGlvbih0KXt0aGlzLl9kYXRhPXR9LHQucHJvdG90eXBlLmdldExlZnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbGVmdH0sdC5wcm90b3R5cGUuc2V0TGVmdD1mdW5jdGlvbih0KXt0aGlzLl9sZWZ0PXR9LHQucHJvdG90eXBlLmdldFJpZ2h0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JpZ2h0fSx0LnByb3RvdHlwZS5zZXRSaWdodD1mdW5jdGlvbih0KXt0aGlzLl9yaWdodD10fSx0fSgpLFNpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl9rZXk9MCx0aGlzLl9rZXk9dH1yZXR1cm4gdC5wcm90b3R5cGUuZ2V0VGhlS2V5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2tleX0sdC5wcm90b3R5cGUuc2V0S2V5PWZ1bmN0aW9uKHQpe3RoaXMuX2tleT10fSx0fSgpLEFpPWZ1bmN0aW9uKCl7dmFyIHQ9ZnVuY3Rpb24oZSxpKXtyZXR1cm4odD1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24odCxlKXt0Ll9fcHJvdG9fXz1lfXx8ZnVuY3Rpb24odCxlKXtmb3IodmFyIGkgaW4gZSllLmhhc093blByb3BlcnR5KGkpJiYodFtpXT1lW2ldKX0pKGUsaSl9O3JldHVybiBmdW5jdGlvbihlLGkpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPWV9dChlLGkpLGUucHJvdG90eXBlPW51bGw9PT1pP09iamVjdC5jcmVhdGUoaSk6KG4ucHJvdG90eXBlPWkucHJvdG90eXBlLG5ldyBuKX19KCksRWk9ZnVuY3Rpb24odCxlLGksbil7dmFyIG8scj1hcmd1bWVudHMubGVuZ3RoLHM9cjwzP2U6bnVsbD09PW4/bj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsaSk6bjtpZihcIm9iamVjdFwiPT10eXBlb2YgUmVmbGVjdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSlzPVJlZmxlY3QuZGVjb3JhdGUodCxlLGksbik7ZWxzZSBmb3IodmFyIGE9dC5sZW5ndGgtMTthPj0wO2EtLSkobz10W2FdKSYmKHM9KHI8Mz9vKHMpOnI+Mz9vKGUsaSxzKTpvKGUsaSkpfHxzKTtyZXR1cm4gcj4zJiZzJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxpLHMpLHN9LENpPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxpKXt2YXIgbj10LmNhbGwodGhpcyl8fHRoaXM7KG4ubmFtZT1lLG4uc2NlbmU9aSxuLl9sb2dnZXI9TnQuZ2V0SW5zdGFuY2UoKSxuLl9tZW1iZXJzPVtdLG4uYWN0aW9ucz1uZXcga2UsbnVsbD09aSk/bi5fbG9nZ2VyLmVycm9yKFwiSW52YWxpZCBjb25zdHJ1Y3RvciBhcmd1bWVudHMgcGFzc2VkIHRvIEdyb3VwOiBcIixlLFwiLCBzY2VuZSBtdXN0IG5vdCBiZSBudWxsIVwiKTooaS5ncm91cHNbZV0mJm4uX2xvZ2dlci53YXJuKFwiR3JvdXAgd2l0aCBuYW1lXCIsZSxcImFscmVhZHkgZXhpc3RzLiBUaGlzIG5ldyBncm91cCB3aWxsIHJlcGxhY2UgaXQuXCIpLGkuZ3JvdXBzW2VdPW4pO3JldHVybiBufXJldHVybiBBaShlLHQpLGUucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0KXt0IGluc3RhbmNlb2YgJGUmJih0PVtdLmNvbmNhdCh0KSk7Zm9yKHZhciBlPXQubGVuZ3RoLGk9MDtpPGU7aSsrKS0xPT09dGhpcy5nZXRNZW1iZXJzKCkuaW5kZXhPZih0W2ldKSYmKHRoaXMuX21lbWJlcnMucHVzaCh0W2ldKSx0aGlzLnNjZW5lLmFkZCh0W2ldKSx0aGlzLmFjdGlvbnMuYWRkQWN0b3JUb0NvbnRleHQodFtpXSksdGhpcy5ldmVudERpc3BhdGNoZXIud2lyZSh0W2ldLmV2ZW50RGlzcGF0Y2hlcikpfSxlLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fbWVtYmVycy5pbmRleE9mKHQpO2U+LTEmJih0aGlzLl9tZW1iZXJzLnNwbGljZShlLDEpLHRoaXMuYWN0aW9ucy5yZW1vdmVBY3RvckZyb21Db250ZXh0KHQpLHRoaXMuZXZlbnREaXNwYXRjaGVyLnVud2lyZSh0LmV2ZW50RGlzcGF0Y2hlcikpfSxlLnByb3RvdHlwZS5tb3ZlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0TWVtYmVycygpLGk9ZS5sZW5ndGg7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgmJnQgaW5zdGFuY2VvZiBGKWZvcih2YXIgbj0wO248aTtuKyspZVtuXS5wb3MueCs9dC54LGVbbl0ucG9zLnkrPXQueTtlbHNlIGlmKFwibnVtYmVyXCI9PXR5cGVvZiBhcmd1bWVudHNbMF0mJlwibnVtYmVyXCI9PXR5cGVvZiBhcmd1bWVudHNbMV0pe3ZhciBvPWFyZ3VtZW50c1swXSxyPWFyZ3VtZW50c1sxXTtmb3Iobj0wO248aTtuKyspZVtuXS5wb3MueCs9byxlW25dLnBvcy55Kz1yfWVsc2UgdGhpcy5fbG9nZ2VyLmVycm9yKFwiSW52YWxpZCBhcmd1bWVudHMgcGFzc2VkIHRvIGdyb3VwIG1vdmVcIix0aGlzLm5hbWUsXCJhcmdzOlwiLGFyZ3VtZW50cyl9LGUucHJvdG90eXBlLnJvdGF0ZT1mdW5jdGlvbih0KXtpZihcIm51bWJlclwiPT10eXBlb2YgdClmb3IodmFyIGU9MCxpPXRoaXMuZ2V0TWVtYmVycygpO2U8aS5sZW5ndGg7ZSsrKXtpW2VdLnJvdGF0aW9uKz10fWVsc2UgdGhpcy5fbG9nZ2VyLmVycm9yKFwiSW52YWxpZCBhcmd1bWVudHMgcGFzc2VkIHRvIGdyb3VwIHJvdGF0ZVwiLHRoaXMubmFtZSxcImFyZ3M6XCIsYXJndW1lbnRzKX0sZS5wcm90b3R5cGUub249ZnVuY3Rpb24odCxlKXt0aGlzLmV2ZW50RGlzcGF0Y2hlci5vbih0LGUpfSxlLnByb3RvdHlwZS5vZmY9ZnVuY3Rpb24odCxlKXt0aGlzLmV2ZW50RGlzcGF0Y2hlci5vZmYodCxlKX0sZS5wcm90b3R5cGUuZW1pdD1mdW5jdGlvbih0LGUpe3RoaXMuZXZlbnREaXNwYXRjaGVyLmVtaXQodCxlKX0sZS5wcm90b3R5cGUuY29udGFpbnM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZ2V0TWVtYmVycygpLmluZGV4T2YodCk+LTF9LGUucHJvdG90eXBlLmdldE1lbWJlcnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWVtYmVyc30sZS5wcm90b3R5cGUuZ2V0UmFuZG9tTWVtYmVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21lbWJlcnNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKnRoaXMuX21lbWJlcnMubGVuZ3RoKV19LGUucHJvdG90eXBlLmdldEJvdW5kcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldE1lbWJlcnMoKS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQuZ2V0Qm91bmRzKCl9KS5yZWR1Y2UoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5jb21iaW5lKGUpfSl9LGU9RWkoW1h0KHttZXNzYWdlOlwiZXguR3JvdXAgd2lsbCBiZSBkZXByZWNhdGVkIGluIHYwLjI0LjBcIixhbHRlcm5hdGVNZXRob2Q6XCJVc2UgZXguQ29sbGlzaW9uR3JvdXBNYW5hZ2VyXCJ9KV0sZSl9KFN0KSxUaT1mdW5jdGlvbigpe3ZhciB0PWZ1bmN0aW9uKGUsaSl7cmV0dXJuKHQ9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKHQsZSl7dC5fX3Byb3RvX189ZX18fGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShpKSYmKHRbaV09ZVtpXSl9KShlLGkpfTtyZXR1cm4gZnVuY3Rpb24oZSxpKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfXQoZSxpKSxlLnByb3RvdHlwZT1udWxsPT09aT9PYmplY3QuY3JlYXRlKGkpOihuLnByb3RvdHlwZT1pLnByb3RvdHlwZSxuZXcgbil9fSgpLE1pPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLmNhbWVyYT10fXJldHVybiB0LnByb3RvdHlwZS5sb2NrVG9BY3Rvcj1mdW5jdGlvbih0KXt0aGlzLmNhbWVyYS5hZGRTdHJhdGVneShuZXcgUmkodCkpfSx0LnByb3RvdHlwZS5sb2NrVG9BY3RvckF4aXM9ZnVuY3Rpb24odCxlKXt0aGlzLmNhbWVyYS5hZGRTdHJhdGVneShuZXcgRmkodCxlKSl9LHQucHJvdG90eXBlLmVsYXN0aWNUb0FjdG9yPWZ1bmN0aW9uKHQsZSxpKXt0aGlzLmNhbWVyYS5hZGRTdHJhdGVneShuZXcgamkodCxlLGkpKX0sdC5wcm90b3R5cGUucmFkaXVzQXJvdW5kQWN0b3I9ZnVuY3Rpb24odCxlKXt0aGlzLmNhbWVyYS5hZGRTdHJhdGVneShuZXcgTGkodCxlKSl9LHR9KCk7IWZ1bmN0aW9uKHQpe3RbdC5YPTBdPVwiWFwiLHRbdC5ZPTFdPVwiWVwifShjaXx8KGNpPXt9KSk7dmFyIE9pLEJpLERpLGtpLFJpPWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQpe3RoaXMudGFyZ2V0PXQsdGhpcy5hY3Rpb249ZnVuY3Rpb24odCxlLGksbil7cmV0dXJuIHQuY2VudGVyfX19KCksRmk9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzO3RoaXMudGFyZ2V0PXQsdGhpcy5heGlzPWUsdGhpcy5hY3Rpb249ZnVuY3Rpb24odCxlLG4sbyl7dmFyIHI9dC5jZW50ZXIscz1lLmdldEZvY3VzKCk7cmV0dXJuIGkuYXhpcz09PWNpLlg/bmV3IEYoci54LHMueSk6bmV3IEYocy54LHIueSl9fX0oKSxqaT1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbih0LGUsaSl7dmFyIG49dGhpczt0aGlzLnRhcmdldD10LHRoaXMuY2FtZXJhRWxhc3RpY2l0eT1lLHRoaXMuY2FtZXJhRnJpY3Rpb249aSx0aGlzLmFjdGlvbj1mdW5jdGlvbih0LGUsaSxvKXt2YXIgcj10LmNlbnRlcixzPWUuZ2V0Rm9jdXMoKSxhPW5ldyBGKGUuZHgsZS5keSksaD1yLnN1YihzKS5zY2FsZShuLmNhbWVyYUVsYXN0aWNpdHkpLGM9KGE9YS5hZGQoaCkpLnNjYWxlKC0xKS5zY2FsZShuLmNhbWVyYUZyaWN0aW9uKTtyZXR1cm4gYT1hLmFkZChjKSxzPXMuYWRkKGEpfX19KCksTGk9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzO3RoaXMudGFyZ2V0PXQsdGhpcy5yYWRpdXM9ZSx0aGlzLmFjdGlvbj1mdW5jdGlvbih0LGUsbixvKXt2YXIgcj10LmNlbnRlcixzPWUuZ2V0Rm9jdXMoKSxhPXIuc3ViKHMpLGg9YS5tYWduaXR1ZGUoKTtpZihoPj1pLnJhZGl1cyl7dmFyIGM9aC1pLnJhZGl1cztyZXR1cm4gcy5hZGQoYS5ub3JtYWxpemUoKS5zY2FsZShjKSl9cmV0dXJuIHN9fX0oKSxJaT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIGU9bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBlLl9jYW1lcmFTdHJhdGVnaWVzPVtdLGUuc3RyYXRlZ3k9bmV3IE1pKGUpLGUuej0xLGUuZHg9MCxlLmR5PTAsZS5kej0wLGUuYXg9MCxlLmF5PTAsZS5hej0wLGUucm90YXRpb249MCxlLnJ4PTAsZS5feD0wLGUuX3k9MCxlLl9jYW1lcmFNb3Zpbmc9ITEsZS5fY3VycmVudExlcnBUaW1lPTAsZS5fbGVycER1cmF0aW9uPTFlMyxlLl9sZXJwU3RhcnQ9bnVsbCxlLl9sZXJwRW5kPW51bGwsZS5faXNTaGFraW5nPSExLGUuX3NoYWtlTWFnbml0dWRlWD0wLGUuX3NoYWtlTWFnbml0dWRlWT0wLGUuX3NoYWtlRHVyYXRpb249MCxlLl9lbGFwc2VkU2hha2VUaW1lPTAsZS5feFNoYWtlPTAsZS5feVNoYWtlPTAsZS5faXNab29taW5nPSExLGUuX3pvb21TdGFydD0xLGUuX3pvb21FbmQ9MSxlLl9jdXJyZW50Wm9vbVRpbWU9MCxlLl96b29tRHVyYXRpb249MCxlLl96b29tRWFzaW5nPURlLkVhc2VJbk91dEN1YmljLGUuX2Vhc2luZz1EZS5FYXNlSW5PdXRDdWJpYyxlLl9pc0luaXRpYWxpemVkPSExLGV9cmV0dXJuIFRpKGUsdCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwieFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5feH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2ZvbGxvd3x8dGhpcy5fY2FtZXJhTW92aW5nfHwodGhpcy5feD10KX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJ5XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl95fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fZm9sbG93fHx0aGlzLl9jYW1lcmFNb3Zpbmd8fCh0aGlzLl95PXQpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcInBvc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEYodGhpcy54LHRoaXMueSl9LHNldDpmdW5jdGlvbih0KXt0aGlzLng9dC54LHRoaXMueT10Lnl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwidmVsXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBuZXcgRih0aGlzLmR4LHRoaXMuZHkpfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5keD10LngsdGhpcy5keT10Lnl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuZ2V0Rm9jdXM9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEYodGhpcy54LHRoaXMueSl9LGUucHJvdG90eXBlLm1vdmU9ZnVuY3Rpb24odCxlLGkpe2lmKHZvaWQgMD09PWkmJihpPURlLkVhc2VJbk91dEN1YmljKSxcImZ1bmN0aW9uXCIhPXR5cGVvZiBpKXRocm93XCJQbGVhc2Ugc3BlY2lmeSBhbiBFYXNpbmdGdW5jdGlvblwiO3JldHVybiB0aGlzLl9mb2xsb3c/KG5ldyBkKS5yZWplY3QodCk6KHRoaXMuX2xlcnBQcm9taXNlJiZ0aGlzLl9sZXJwUHJvbWlzZS5zdGF0ZSgpPT09Yy5QZW5kaW5nJiZ0aGlzLl9sZXJwUHJvbWlzZS5yZXNvbHZlKHQpLHRoaXMuX2xlcnBQcm9taXNlPW5ldyBkLHRoaXMuX2xlcnBTdGFydD10aGlzLmdldEZvY3VzKCkuY2xvbmUoKSx0aGlzLl9sZXJwRHVyYXRpb249ZSx0aGlzLl9sZXJwRW5kPXQsdGhpcy5fY3VycmVudExlcnBUaW1lPTAsdGhpcy5fY2FtZXJhTW92aW5nPSEwLHRoaXMuX2Vhc2luZz1pLHRoaXMuX2xlcnBQcm9taXNlKX0sZS5wcm90b3R5cGUuc2hha2U9ZnVuY3Rpb24odCxlLGkpe3RoaXMuX2lzU2hha2luZz0hMCx0aGlzLl9zaGFrZU1hZ25pdHVkZVg9dCx0aGlzLl9zaGFrZU1hZ25pdHVkZVk9ZSx0aGlzLl9zaGFrZUR1cmF0aW9uPWl9LGUucHJvdG90eXBlLnpvb209ZnVuY3Rpb24odCxlLGkpe3JldHVybiB2b2lkIDA9PT1lJiYoZT0wKSx2b2lkIDA9PT1pJiYoaT1EZS5FYXNlSW5PdXRDdWJpYyksdGhpcy5fem9vbVByb21pc2U9bmV3IGQsZT8odGhpcy5faXNab29taW5nPSEwLHRoaXMuX3pvb21FYXNpbmc9aSx0aGlzLl9jdXJyZW50Wm9vbVRpbWU9MCx0aGlzLl96b29tRHVyYXRpb249ZSx0aGlzLl96b29tU3RhcnQ9dGhpcy56LHRoaXMuX3pvb21FbmQ9dCk6KHRoaXMuX2lzWm9vbWluZz0hMSx0aGlzLno9dCx0aGlzLl96b29tUHJvbWlzZS5yZXNvbHZlKCEwKSksdGhpcy5fem9vbVByb21pc2V9LGUucHJvdG90eXBlLmdldFpvb209ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy56fSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJ2aWV3cG9ydFwiLHtnZXQ6ZnVuY3Rpb24oKXtpZih0aGlzLl9lbmdpbmUpe3ZhciB0PXRoaXMuX2VuZ2luZS5oYWxmRHJhd1dpZHRoLGU9dGhpcy5fZW5naW5lLmhhbGZEcmF3SGVpZ2h0O3JldHVybiBuZXcgWXQodGhpcy54LXQsdGhpcy55LWUsdGhpcy54K3QsdGhpcy55K2UpfXJldHVybiBuZXcgWXQoMCwwLDAsMCl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuYWRkU3RyYXRlZ3k9ZnVuY3Rpb24odCl7dGhpcy5fY2FtZXJhU3RyYXRlZ2llcy5wdXNoKHQpfSxlLnByb3RvdHlwZS5yZW1vdmVTdHJhdGVneT1mdW5jdGlvbih0KXtFKHQsdGhpcy5fY2FtZXJhU3RyYXRlZ2llcyl9LGUucHJvdG90eXBlLmNsZWFyQWxsU3RyYXRlZ2llcz1mdW5jdGlvbigpe3RoaXMuX2NhbWVyYVN0cmF0ZWdpZXMubGVuZ3RoPTB9LGUucHJvdG90eXBlLl9wcmV1cGRhdGU9ZnVuY3Rpb24odCxlKXt0aGlzLmVtaXQoXCJwcmV1cGRhdGVcIixuZXcgdHQodCxlLHRoaXMpKSx0aGlzLm9uUHJlVXBkYXRlKHQsZSl9LGUucHJvdG90eXBlLm9uUHJlVXBkYXRlPWZ1bmN0aW9uKHQsZSl7fSxlLnByb3RvdHlwZS5fcG9zdHVwZGF0ZT1mdW5jdGlvbih0LGUpe3RoaXMuZW1pdChcInBvc3R1cGRhdGVcIixuZXcgZXQodCxlLHRoaXMpKSx0aGlzLm9uUG9zdFVwZGF0ZSh0LGUpfSxlLnByb3RvdHlwZS5vblBvc3RVcGRhdGU9ZnVuY3Rpb24odCxlKXt9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImlzSW5pdGlhbGl6ZWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzSW5pdGlhbGl6ZWR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuX2luaXRpYWxpemU9ZnVuY3Rpb24oZSl7dGhpcy5pc0luaXRpYWxpemVkfHwodGhpcy5vbkluaXRpYWxpemUoZSksdC5wcm90b3R5cGUuZW1pdC5jYWxsKHRoaXMsXCJpbml0aWFsaXplXCIsbmV3IHl0KGUsdGhpcykpLHRoaXMuX2lzSW5pdGlhbGl6ZWQ9ITAsdGhpcy5fZW5naW5lPWUpfSxlLnByb3RvdHlwZS5vbkluaXRpYWxpemU9ZnVuY3Rpb24odCl7fSxlLnByb3RvdHlwZS5vbj1mdW5jdGlvbihlLGkpe3QucHJvdG90eXBlLm9uLmNhbGwodGhpcyxlLGkpfSxlLnByb3RvdHlwZS5vZmY9ZnVuY3Rpb24oZSxpKXt0LnByb3RvdHlwZS5vZmYuY2FsbCh0aGlzLGUsaSl9LGUucHJvdG90eXBlLm9uY2U9ZnVuY3Rpb24oZSxpKXt0LnByb3RvdHlwZS5vbmNlLmNhbGwodGhpcyxlLGkpfSxlLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCxlKXtpZih0aGlzLl9pbml0aWFsaXplKHQpLHRoaXMuX3ByZXVwZGF0ZSh0LGUpLHRoaXMuX3grPXRoaXMuZHgqZS8xZTMsdGhpcy5feSs9dGhpcy5keSplLzFlMyx0aGlzLnorPXRoaXMuZHoqZS8xZTMsdGhpcy5keCs9dGhpcy5heCplLzFlMyx0aGlzLmR5Kz10aGlzLmF5KmUvMWUzLHRoaXMuZHorPXRoaXMuYXoqZS8xZTMsdGhpcy5yb3RhdGlvbis9dGhpcy5yeCplLzFlMyx0aGlzLl9pc1pvb21pbmcpaWYodGhpcy5fY3VycmVudFpvb21UaW1lPHRoaXMuX3pvb21EdXJhdGlvbil7dmFyIGk9KDAsdGhpcy5fem9vbUVhc2luZykodGhpcy5fY3VycmVudFpvb21UaW1lLHRoaXMuX3pvb21TdGFydCx0aGlzLl96b29tRW5kLHRoaXMuX3pvb21EdXJhdGlvbik7dGhpcy56PWksdGhpcy5fY3VycmVudFpvb21UaW1lKz1lfWVsc2UgdGhpcy5faXNab29taW5nPSExLHRoaXMuej10aGlzLl96b29tRW5kLHRoaXMuX2N1cnJlbnRab29tVGltZT0wLHRoaXMuX3pvb21Qcm9taXNlLnJlc29sdmUoITApO2lmKHRoaXMuX2NhbWVyYU1vdmluZylpZih0aGlzLl9jdXJyZW50TGVycFRpbWU8dGhpcy5fbGVycER1cmF0aW9uKXt2YXIgbj1EZS5DcmVhdGVWZWN0b3JFYXNpbmdGdW5jdGlvbih0aGlzLl9lYXNpbmcpKHRoaXMuX2N1cnJlbnRMZXJwVGltZSx0aGlzLl9sZXJwU3RhcnQsdGhpcy5fbGVycEVuZCx0aGlzLl9sZXJwRHVyYXRpb24pO3RoaXMuX3g9bi54LHRoaXMuX3k9bi55LHRoaXMuX2N1cnJlbnRMZXJwVGltZSs9ZX1lbHNle3RoaXMuX3g9dGhpcy5fbGVycEVuZC54LHRoaXMuX3k9dGhpcy5fbGVycEVuZC55O3ZhciBvPXRoaXMuX2xlcnBFbmQuY2xvbmUoKTt0aGlzLl9sZXJwU3RhcnQ9bnVsbCx0aGlzLl9sZXJwRW5kPW51bGwsdGhpcy5fY3VycmVudExlcnBUaW1lPTAsdGhpcy5fY2FtZXJhTW92aW5nPSExLHRoaXMuX2xlcnBQcm9taXNlLnJlc29sdmUobyl9dGhpcy5faXNEb25lU2hha2luZygpPyh0aGlzLl9pc1NoYWtpbmc9ITEsdGhpcy5fZWxhcHNlZFNoYWtlVGltZT0wLHRoaXMuX3NoYWtlTWFnbml0dWRlWD0wLHRoaXMuX3NoYWtlTWFnbml0dWRlWT0wLHRoaXMuX3NoYWtlRHVyYXRpb249MCx0aGlzLl94U2hha2U9MCx0aGlzLl95U2hha2U9MCk6KHRoaXMuX2VsYXBzZWRTaGFrZVRpbWUrPWUsdGhpcy5feFNoYWtlPTErKE1hdGgucmFuZG9tKCkqdGhpcy5fc2hha2VNYWduaXR1ZGVYfDApLHRoaXMuX3lTaGFrZT0xKyhNYXRoLnJhbmRvbSgpKnRoaXMuX3NoYWtlTWFnbml0dWRlWXwwKSk7Zm9yKHZhciByPTAscz10aGlzLl9jYW1lcmFTdHJhdGVnaWVzO3I8cy5sZW5ndGg7cisrKXt2YXIgYT1zW3JdO3RoaXMucG9zPWEuYWN0aW9uLmNhbGwoYSxhLnRhcmdldCx0aGlzLHQsZSl9dGhpcy5fcG9zdHVwZGF0ZSh0LGUpfSxlLnByb3RvdHlwZS5kcmF3PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0Rm9jdXMoKSxpPXQuY2FudmFzLndpZHRoLG49dC5jYW52YXMuaGVpZ2h0LG89dGhpcy5fZW5naW5lP3RoaXMuX2VuZ2luZS5waXhlbFJhdGlvOndpbmRvdy5kZXZpY2VQaXhlbFJhdGlvLHI9dGhpcy5nZXRab29tKCkscz1pL3IvbyxhPW4vci9vO3Quc2NhbGUocixyKSx0LnRyYW5zbGF0ZSgtZS54K3MvMit0aGlzLl94U2hha2UsLWUueSthLzIrdGhpcy5feVNoYWtlKX0sZS5wcm90b3R5cGUuZGVidWdEcmF3PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0Rm9jdXMoKTt0LmZpbGxTdHlsZT1cInJlZFwiLHQuc3Ryb2tlU3R5bGU9XCJ3aGl0ZVwiLHQubGluZVdpZHRoPTMsdC5iZWdpblBhdGgoKSx0LmFyYyhlLngsZS55LDE1LDAsMipNYXRoLlBJKSx0LmNsb3NlUGF0aCgpLHQuc3Ryb2tlKCksdC5iZWdpblBhdGgoKSx0LmFyYyhlLngsZS55LDUsMCwyKk1hdGguUEkpLHQuY2xvc2VQYXRoKCksdC5zdHJva2UoKSx0LmJlZ2luUGF0aCgpLHQuc2V0TGluZURhc2goWzUsMTVdKSx0LmxpbmVXaWR0aD01LHQuc3Ryb2tlU3R5bGU9XCJ3aGl0ZVwiLHQuc3Ryb2tlUmVjdCh0aGlzLnZpZXdwb3J0LmxlZnQsdGhpcy52aWV3cG9ydC50b3AsdGhpcy52aWV3cG9ydC53aWR0aCx0aGlzLnZpZXdwb3J0LmhlaWdodCksdC5jbG9zZVBhdGgoKX0sZS5wcm90b3R5cGUuX2lzRG9uZVNoYWtpbmc9ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5faXNTaGFraW5nfHx0aGlzLl9lbGFwc2VkU2hha2VUaW1lPj10aGlzLl9zaGFrZUR1cmF0aW9ufSxlfShTdCksV2k9ZnVuY3Rpb24oKXt2YXIgdD1mdW5jdGlvbihlLGkpe3JldHVybih0PU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbih0LGUpe3QuX19wcm90b19fPWV9fHxmdW5jdGlvbih0LGUpe2Zvcih2YXIgaSBpbiBlKWUuaGFzT3duUHJvcGVydHkoaSkmJih0W2ldPWVbaV0pfSkoZSxpKX07cmV0dXJuIGZ1bmN0aW9uKGUsaSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9ZX10KGUsaSksZS5wcm90b3R5cGU9bnVsbD09PWk/T2JqZWN0LmNyZWF0ZShpKToobi5wcm90b3R5cGU9aS5wcm90b3R5cGUsbmV3IG4pfX0oKTshZnVuY3Rpb24odCl7dFt0LkVtPTBdPVwiRW1cIix0W3QuUmVtPTFdPVwiUmVtXCIsdFt0LlB4PTJdPVwiUHhcIix0W3QuUHQ9M109XCJQdFwiLHRbdC5QZXJjZW50PTRdPVwiUGVyY2VudFwifShPaXx8KE9pPXt9KSksZnVuY3Rpb24odCl7dFt0LkxlZnQ9MF09XCJMZWZ0XCIsdFt0LlJpZ2h0PTFdPVwiUmlnaHRcIix0W3QuQ2VudGVyPTJdPVwiQ2VudGVyXCIsdFt0LlN0YXJ0PTNdPVwiU3RhcnRcIix0W3QuRW5kPTRdPVwiRW5kXCJ9KEJpfHwoQmk9e30pKSxmdW5jdGlvbih0KXt0W3QuVG9wPTBdPVwiVG9wXCIsdFt0Lkhhbmdpbmc9MV09XCJIYW5naW5nXCIsdFt0Lk1pZGRsZT0yXT1cIk1pZGRsZVwiLHRbdC5BbHBoYWJldGljPTNdPVwiQWxwaGFiZXRpY1wiLHRbdC5JZGVvZ3JhcGhpYz00XT1cIklkZW9ncmFwaGljXCIsdFt0LkJvdHRvbT01XT1cIkJvdHRvbVwifShEaXx8KERpPXt9KSksZnVuY3Rpb24odCl7dFt0Lk5vcm1hbD0wXT1cIk5vcm1hbFwiLHRbdC5JdGFsaWM9MV09XCJJdGFsaWNcIix0W3QuT2JsaXF1ZT0yXT1cIk9ibGlxdWVcIn0oa2l8fChraT17fSkpO3ZhciBIaT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsaSxuLG8scil7cmV0dXJuIHQuY2FsbCh0aGlzLGUsaSxuLG8scil8fHRoaXN9cmV0dXJuIFdpKGUsdCksZX0oaGUoZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLGksbixvLHIpe3ZhciBzPXQuY2FsbCh0aGlzLGUmJlwib2JqZWN0XCI9PXR5cGVvZiBlP3t4OmUueCx5OmUueX06e3g6aSx5Om59KXx8dGhpcztzLmJvbGQ9ITEscy5mb250U2l6ZT0xMCxzLmZvbnRTdHlsZT1raS5Ob3JtYWwscy5mb250VW5pdD1PaS5QeCxzLnRleHRBbGlnbj1CaS5MZWZ0LHMuYmFzZUFsaWduPURpLkJvdHRvbSxzLmxldHRlclNwYWNpbmc9MCxzLmNhc2VJbnNlbnNpdGl2ZT0hMDt2YXIgYT1cIlwiO3JldHVybiBlJiZcIm9iamVjdFwiPT10eXBlb2YgZT8obz1lLmZvbnRGYW1pbHkscj1lLnNwcml0ZUZvbnQsYT1lLnRleHQpOmE9ZSxzLnRleHQ9YXx8XCJcIixzLmNvbG9yPUF0LkJsYWNrLHMuc3ByaXRlRm9udD1yLHMuYm9keS5jb2xsaWRlci50eXBlPUN0LlByZXZlbnRDb2xsaXNpb24scy5mb250RmFtaWx5PW98fFwic2Fucy1zZXJpZlwiLHMuX3RleHRTaGFkb3dPbj0hMSxzLl9zaGFkb3dPZmZzZXRYPTAscy5fc2hhZG93T2Zmc2V0WT0wLHN9cmV0dXJuIFdpKGUsdCksZS5wcm90b3R5cGUuZ2V0VGV4dFdpZHRoPWZ1bmN0aW9uKHQpe3ZhciBlPXQuZm9udDt0LmZvbnQ9dGhpcy5fZm9udFN0cmluZzt2YXIgaT10Lm1lYXN1cmVUZXh0KHRoaXMudGV4dCkud2lkdGg7cmV0dXJuIHQuZm9udD1lLGl9LGUucHJvdG90eXBlLl9sb29rdXBGb250VW5pdD1mdW5jdGlvbih0KXtzd2l0Y2godCl7Y2FzZSBPaS5FbTpyZXR1cm5cImVtXCI7Y2FzZSBPaS5SZW06cmV0dXJuXCJyZW1cIjtjYXNlIE9pLlB0OnJldHVyblwicHRcIjtjYXNlIE9pLlB4OnJldHVyblwicHhcIjtjYXNlIE9pLlBlcmNlbnQ6cmV0dXJuXCIlXCI7ZGVmYXVsdDpyZXR1cm5cInB4XCJ9fSxlLnByb3RvdHlwZS5fbG9va3VwVGV4dEFsaWduPWZ1bmN0aW9uKHQpe3N3aXRjaCh0KXtjYXNlIEJpLkxlZnQ6cmV0dXJuXCJsZWZ0XCI7Y2FzZSBCaS5SaWdodDpyZXR1cm5cInJpZ2h0XCI7Y2FzZSBCaS5DZW50ZXI6cmV0dXJuXCJjZW50ZXJcIjtjYXNlIEJpLkVuZDpyZXR1cm5cImVuZFwiO2Nhc2UgQmkuU3RhcnQ6ZGVmYXVsdDpyZXR1cm5cInN0YXJ0XCJ9fSxlLnByb3RvdHlwZS5fbG9va3VwQmFzZUFsaWduPWZ1bmN0aW9uKHQpe3N3aXRjaCh0KXtjYXNlIERpLkFscGhhYmV0aWM6cmV0dXJuXCJhbHBoYWJldGljXCI7Y2FzZSBEaS5Cb3R0b206cmV0dXJuXCJib3R0b21cIjtjYXNlIERpLkhhbmdpbmc6cmV0dXJuXCJoYW5naW5nXCI7Y2FzZSBEaS5JZGVvZ3JhcGhpYzpyZXR1cm5cImlkZW9ncmFwaGljXCI7Y2FzZSBEaS5NaWRkbGU6cmV0dXJuXCJtaWRkbGVcIjtjYXNlIERpLlRvcDpyZXR1cm5cInRvcFwiO2RlZmF1bHQ6cmV0dXJuXCJhbHBoYWJldGljXCJ9fSxlLnByb3RvdHlwZS5fbG9va3VwRm9udFN0eWxlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuYm9sZD9cIiBib2xkXCI6XCJcIjtzd2l0Y2godCl7Y2FzZSBraS5JdGFsaWM6cmV0dXJuXCJpdGFsaWNcIitlO2Nhc2Uga2kuTm9ybWFsOnJldHVyblwibm9ybWFsXCIrZTtjYXNlIGtpLk9ibGlxdWU6cmV0dXJuXCJvYmxpcXVlXCIrZTtkZWZhdWx0OnJldHVyblwibm9ybWFsXCIrZX19LGUucHJvdG90eXBlLnNldFRleHRTaGFkb3c9ZnVuY3Rpb24odCxlLGkpe3RoaXMuc3ByaXRlRm9udC5zZXRUZXh0U2hhZG93KHQsZSxpKX0sZS5wcm90b3R5cGUudXNlVGV4dFNoYWRvdz1mdW5jdGlvbih0KXt0aGlzLnNwcml0ZUZvbnQudXNlVGV4dFNoYWRvdyh0KX0sZS5wcm90b3R5cGUuY2xlYXJUZXh0U2hhZG93PWZ1bmN0aW9uKCl7dGhpcy5fdGV4dFNoYWRvd09uPSExLHRoaXMuX3NoYWRvd09mZnNldFg9MCx0aGlzLl9zaGFkb3dPZmZzZXRZPTB9LGUucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbihlLGkpe3QucHJvdG90eXBlLnVwZGF0ZS5jYWxsKHRoaXMsZSxpKX0sZS5wcm90b3R5cGUuZHJhdz1mdW5jdGlvbihlLGkpe2Uuc2F2ZSgpLGUudHJhbnNsYXRlKHRoaXMucG9zLngsdGhpcy5wb3MueSksZS5zY2FsZSh0aGlzLnNjYWxlLngsdGhpcy5zY2FsZS55KSxlLnJvdGF0ZSh0aGlzLnJvdGF0aW9uKSx0aGlzLl90ZXh0U2hhZG93T24mJihlLnNhdmUoKSxlLnRyYW5zbGF0ZSh0aGlzLl9zaGFkb3dPZmZzZXRYLHRoaXMuX3NoYWRvd09mZnNldFkpLHRoaXMuX2ZvbnREcmF3KGUpLGUucmVzdG9yZSgpKSx0aGlzLl9mb250RHJhdyhlKSx0LnByb3RvdHlwZS5kcmF3LmNhbGwodGhpcyxlLGkpLGUucmVzdG9yZSgpfSxlLnByb3RvdHlwZS5fZm9udERyYXc9ZnVuY3Rpb24odCl7aWYodGhpcy5zcHJpdGVGb250KXRoaXMuc3ByaXRlRm9udC5kcmF3KHQsdGhpcy50ZXh0LDAsMCx7Y29sb3I6dGhpcy5jb2xvci5jbG9uZSgpLGJhc2VBbGlnbjp0aGlzLmJhc2VBbGlnbix0ZXh0QWxpZ246dGhpcy50ZXh0QWxpZ24sZm9udFNpemU6dGhpcy5mb250U2l6ZSxsZXR0ZXJTcGFjaW5nOnRoaXMubGV0dGVyU3BhY2luZyxvcGFjaXR5OnRoaXMub3BhY2l0eX0pO2Vsc2V7dmFyIGU9dC50ZXh0QWxpZ24saT10LnRleHRCYXNlbGluZTt0LnRleHRBbGlnbj10aGlzLl9sb29rdXBUZXh0QWxpZ24odGhpcy50ZXh0QWxpZ24pLHQudGV4dEJhc2VsaW5lPXRoaXMuX2xvb2t1cEJhc2VBbGlnbih0aGlzLmJhc2VBbGlnbiksdGhpcy5jb2xvciYmKHRoaXMuY29sb3IuYT10aGlzLm9wYWNpdHkpLHQuZmlsbFN0eWxlPXRoaXMuY29sb3IudG9TdHJpbmcoKSx0LmZvbnQ9dGhpcy5fZm9udFN0cmluZyx0aGlzLm1heFdpZHRoP3QuZmlsbFRleHQodGhpcy50ZXh0LDAsMCx0aGlzLm1heFdpZHRoKTp0LmZpbGxUZXh0KHRoaXMudGV4dCwwLDApLHQudGV4dEFsaWduPWUsdC50ZXh0QmFzZWxpbmU9aX19LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcIl9mb250U3RyaW5nXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9sb29rdXBGb250U3R5bGUodGhpcy5mb250U3R5bGUpK1wiIFwiK3RoaXMuZm9udFNpemUrdGhpcy5fbG9va3VwRm9udFVuaXQodGhpcy5mb250VW5pdCkrXCIgXCIrdGhpcy5mb250RmFtaWx5fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmRlYnVnRHJhdz1mdW5jdGlvbihlKXt0LnByb3RvdHlwZS5kZWJ1Z0RyYXcuY2FsbCh0aGlzLGUpfSxlfSgkZSkpKSx6aT1mdW5jdGlvbigpe3ZhciB0PWZ1bmN0aW9uKGUsaSl7cmV0dXJuKHQ9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKHQsZSl7dC5fX3Byb3RvX189ZX18fGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShpKSYmKHRbaV09ZVtpXSl9KShlLGkpfTtyZXR1cm4gZnVuY3Rpb24oZSxpKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfXQoZSxpKSxlLnByb3RvdHlwZT1udWxsPT09aT9PYmplY3QuY3JlYXRlKGkpOihuLnByb3RvdHlwZT1pLnByb3RvdHlwZSxuZXcgbil9fSgpLFVpPXtwb3M6Ri5aZXJvLHdpZHRoOjEwLGhlaWdodDoxMCx2aXNpYmxlOiExLGFjdGlvbjpmdW5jdGlvbigpe30sZmlsdGVyOmZ1bmN0aW9uKCl7cmV0dXJuITB9LHJlcGVhdDotMX0sTmk9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt2YXIgaT10LmNhbGwodGhpcyxlLnBvcy54LGUucG9zLnksZS53aWR0aCxlLmhlaWdodCl8fHRoaXM7cmV0dXJuIGkuYWN0aW9uPWZ1bmN0aW9uKCl7fSxpLmZpbHRlcj1mdW5jdGlvbigpe3JldHVybiEwfSxpLnJlcGVhdD0tMSxlPXkoe30sVWksZSksaS5maWx0ZXI9ZS5maWx0ZXJ8fGkuZmlsdGVyLGkucmVwZWF0PWUucmVwZWF0fHxpLnJlcGVhdCxpLmFjdGlvbj1lLmFjdGlvbnx8aS5hY3Rpb24sZS50YXJnZXQmJihpLnRhcmdldD1lLnRhcmdldCksaS52aXNpYmxlPWUudmlzaWJsZSxpLmJvZHkuY29sbGlkZXIudHlwZT1DdC5QYXNzaXZlLGkuZXZlbnREaXNwYXRjaGVyPW5ldyBQdChpKSxpLmFjdGlvblF1ZXVlPW5ldyBCZShpKSxpLm9uKFwiY29sbGlzaW9uc3RhcnRcIixmdW5jdGlvbih0KXtKZSh0Lm90aGVyKSYmaS5maWx0ZXIodC5vdGhlcikmJihpLmVtaXQoXCJlbnRlclwiLG5ldyB3dChpLHQub3RoZXIpKSxpLl9kaXNwYXRjaEFjdGlvbigpLDA9PT1pLnJlcGVhdCYmaS5raWxsKCkpfSksaS5vbihcImNvbGxpc2lvbmVuZFwiLGZ1bmN0aW9uKHQpe0plKHQub3RoZXIpJiZpLmZpbHRlcih0Lm90aGVyKSYmaS5lbWl0KFwiZXhpdFwiLG5ldyB4dChpLHQub3RoZXIpKX0pLGl9cmV0dXJuIHppKGUsdCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwidGFyZ2V0XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90YXJnZXR9LHNldDpmdW5jdGlvbih0KXt0aGlzLl90YXJnZXQ9dCx0aGlzLmZpbHRlcj1mdW5jdGlvbihlKXtyZXR1cm4gZT09PXR9fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLl9pbml0aWFsaXplPWZ1bmN0aW9uKGUpe3QucHJvdG90eXBlLl9pbml0aWFsaXplLmNhbGwodGhpcyxlKX0sZS5wcm90b3R5cGUuX2Rpc3BhdGNoQWN0aW9uPWZ1bmN0aW9uKCl7dGhpcy5hY3Rpb24uY2FsbCh0aGlzKSx0aGlzLnJlcGVhdC0tfSxlLnByb3RvdHlwZS5kZWJ1Z0RyYXc9ZnVuY3Rpb24oZSl7dC5wcm90b3R5cGUuZGVidWdEcmF3LmNhbGwodGhpcyxlKSxlLnNhdmUoKSxlLnRyYW5zbGF0ZSh0aGlzLnBvcy54LHRoaXMucG9zLnkpO3ZhciBpPXRoaXMuYm9keS5jb2xsaWRlci5ib3VuZHMsbj10aGlzLmdldFdvcmxkUG9zKCk7aS5sZWZ0PWkubGVmdC1uLngsaS5yaWdodD1pLnJpZ2h0LW4ueCxpLnRvcD1pLnRvcC1uLnksaS5ib3R0b209aS5ib3R0b20tbi55LGUuZmlsbFN0eWxlPUF0LlZpb2xldC50b1N0cmluZygpLGUuc3Ryb2tlU3R5bGU9QXQuVmlvbGV0LnRvU3RyaW5nKCksZS5maWxsVGV4dChcIlRyaWdnZXJcIiwxMCwxMCksaS5kZWJ1Z0RyYXcoZSksZS5yZXN0b3JlKCl9LGV9KCRlKTtmdW5jdGlvbiBxaSh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIGVpfXZhciBHaSxWaT1mdW5jdGlvbigpe3ZhciB0PWZ1bmN0aW9uKGUsaSl7cmV0dXJuKHQ9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKHQsZSl7dC5fX3Byb3RvX189ZX18fGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShpKSYmKHRbaV09ZVtpXSl9KShlLGkpfTtyZXR1cm4gZnVuY3Rpb24oZSxpKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfXQoZSxpKSxlLnByb3RvdHlwZT1udWxsPT09aT9PYmplY3QuY3JlYXRlKGkpOihuLnByb3RvdHlwZT1pLnByb3RvdHlwZSxuZXcgbil9fSgpLFhpPWZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBvLHI9YXJndW1lbnRzLmxlbmd0aCxzPXI8Mz9lOm51bGw9PT1uP249T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLGkpOm47aWYoXCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUpcz1SZWZsZWN0LmRlY29yYXRlKHQsZSxpLG4pO2Vsc2UgZm9yKHZhciBhPXQubGVuZ3RoLTE7YT49MDthLS0pKG89dFthXSkmJihzPShyPDM/byhzKTpyPjM/byhlLGkscyk6byhlLGkpKXx8cyk7cmV0dXJuIHI+MyYmcyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaSxzKSxzfSxLaT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3ZhciBpPXQuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gaS5hY3RvcnM9W10saS5fYm9kaWVzPVtdLGkudHJpZ2dlcnM9W10saS50aWxlTWFwcz1bXSxpLl9ncm91cHM9e30saS51aUFjdG9ycz1bXSxpLl9pc0luaXRpYWxpemVkPSExLGkuX3NvcnRlZERyYXdpbmdUcmVlPW5ldyB4aSgkZS5wcm90b3R5cGUuZ2V0WkluZGV4KSxpLl9icm9hZHBoYXNlPW5ldyB3aSxpLl9raWxsUXVldWU9W10saS5fdHJpZ2dlcktpbGxRdWV1ZT1bXSxpLl90aW1lcnM9W10saS5fY2FuY2VsUXVldWU9W10saS5fbG9nZ2VyPU50LmdldEluc3RhbmNlKCksaS5jYW1lcmE9bmV3IElpLGkuX2VuZ2luZT1lLGUmJihpLmNhbWVyYS54PWUuaGFsZkRyYXdXaWR0aCxpLmNhbWVyYS55PWUuaGFsZkRyYXdIZWlnaHQpLGl9cmV0dXJuIFZpKGUsdCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiZ3JvdXBzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9ncm91cHN9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9ncm91cHM9dH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5vbj1mdW5jdGlvbihlLGkpe3QucHJvdG90eXBlLm9uLmNhbGwodGhpcyxlLGkpfSxlLnByb3RvdHlwZS5vbmNlPWZ1bmN0aW9uKGUsaSl7dC5wcm90b3R5cGUub25jZS5jYWxsKHRoaXMsZSxpKX0sZS5wcm90b3R5cGUub2ZmPWZ1bmN0aW9uKGUsaSl7dC5wcm90b3R5cGUub2ZmLmNhbGwodGhpcyxlLGkpfSxlLnByb3RvdHlwZS5vbkluaXRpYWxpemU9ZnVuY3Rpb24odCl7fSxlLnByb3RvdHlwZS5vbkFjdGl2YXRlPWZ1bmN0aW9uKHQsZSl7fSxlLnByb3RvdHlwZS5vbkRlYWN0aXZhdGU9ZnVuY3Rpb24odCxlKXt9LGUucHJvdG90eXBlLm9uUHJlVXBkYXRlPWZ1bmN0aW9uKHQsZSl7fSxlLnByb3RvdHlwZS5vblBvc3RVcGRhdGU9ZnVuY3Rpb24odCxlKXt9LGUucHJvdG90eXBlLm9uUHJlRHJhdz1mdW5jdGlvbih0LGUpe30sZS5wcm90b3R5cGUub25Qb3N0RHJhdz1mdW5jdGlvbih0LGUpe30sZS5wcm90b3R5cGUuX2luaXRpYWxpemVDaGlsZHJlbj1mdW5jdGlvbigpe2Zvcih2YXIgdD0wLGU9dGhpcy5hY3RvcnM7dDxlLmxlbmd0aDt0Kyspe2VbdF0uX2luaXRpYWxpemUodGhpcy5fZW5naW5lKX19LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImlzSW5pdGlhbGl6ZWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzSW5pdGlhbGl6ZWR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuX2luaXRpYWxpemU9ZnVuY3Rpb24odCl7dGhpcy5pc0luaXRpYWxpemVkfHwodGhpcy5fZW5naW5lPXQsdGhpcy5jYW1lcmEmJih0aGlzLmNhbWVyYS54PXQuaGFsZkRyYXdXaWR0aCx0aGlzLmNhbWVyYS55PXQuaGFsZkRyYXdIZWlnaHQpLHRoaXMuX2luaXRpYWxpemVDaGlsZHJlbigpLHRoaXMuX2xvZ2dlci5kZWJ1ZyhcIlNjZW5lLm9uSW5pdGlhbGl6ZVwiLHRoaXMsdCksdGhpcy5ldmVudERpc3BhdGNoZXIuZW1pdChcImluaXRpYWxpemVcIixuZXcgeXQodCx0aGlzKSksdGhpcy5vbkluaXRpYWxpemUuY2FsbCh0aGlzLHQpLHRoaXMuX2lzSW5pdGlhbGl6ZWQ9ITApfSxlLnByb3RvdHlwZS5fYWN0aXZhdGU9ZnVuY3Rpb24odCxlKXt0aGlzLl9sb2dnZXIuZGVidWcoXCJTY2VuZS5vbkFjdGl2YXRlXCIsdGhpcyksdGhpcy5vbkFjdGl2YXRlKHQsZSl9LGUucHJvdG90eXBlLl9kZWFjdGl2YXRlPWZ1bmN0aW9uKHQsZSl7dGhpcy5fbG9nZ2VyLmRlYnVnKFwiU2NlbmUub25EZWN0aXZhdGVcIix0aGlzKSx0aGlzLm9uRGVhY3RpdmF0ZSh0LGUpfSxlLnByb3RvdHlwZS5fcHJldXBkYXRlPWZ1bmN0aW9uKHQsZSl7dGhpcy5lbWl0KFwicHJldXBkYXRlXCIsbmV3IHR0KHQsZSx0aGlzKSksdGhpcy5vblByZVVwZGF0ZSh0LGUpfSxlLnByb3RvdHlwZS5fcG9zdHVwZGF0ZT1mdW5jdGlvbih0LGUpe3RoaXMuZW1pdChcInBvc3R1cGRhdGVcIixuZXcgZXQodCxlLHRoaXMpKSx0aGlzLm9uUG9zdFVwZGF0ZSh0LGUpfSxlLnByb3RvdHlwZS5fcHJlZHJhdz1mdW5jdGlvbih0LGUpe3RoaXMuZW1pdChcInByZWRyYXdcIixuZXcgWih0LGUsdGhpcykpLHRoaXMub25QcmVEcmF3KHQsZSl9LGUucHJvdG90eXBlLl9wb3N0ZHJhdz1mdW5jdGlvbih0LGUpe3RoaXMuZW1pdChcInBvc3RkcmF3XCIsbmV3IFEodCxlLHRoaXMpKSx0aGlzLm9uUG9zdERyYXcodCxlKX0sZS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQsZSl7dmFyIGksbjtmb3IodGhpcy5fcHJldXBkYXRlKHQsZSksdGhpcy5jYW1lcmEmJnRoaXMuY2FtZXJhLnVwZGF0ZSh0LGUpLGk9MCxuPXRoaXMuX2NhbmNlbFF1ZXVlLmxlbmd0aDtpPG47aSsrKXRoaXMucmVtb3ZlVGltZXIodGhpcy5fY2FuY2VsUXVldWVbaV0pO3RoaXMuX2NhbmNlbFF1ZXVlLmxlbmd0aD0wO2Zvcih2YXIgbz0wLHI9dGhpcy5fdGltZXJzO288ci5sZW5ndGg7bysrKXtyW29dLnVwZGF0ZShlKX1mb3IoaT0wLG49dGhpcy51aUFjdG9ycy5sZW5ndGg7aTxuO2krKyl0aGlzLnVpQWN0b3JzW2ldLnVwZGF0ZSh0LGUpO2ZvcihpPTAsbj10aGlzLnRpbGVNYXBzLmxlbmd0aDtpPG47aSsrKXRoaXMudGlsZU1hcHNbaV0udXBkYXRlKHQsZSk7Zm9yKGk9MCxuPXRoaXMuYWN0b3JzLmxlbmd0aDtpPG47aSsrKXRoaXMuYWN0b3JzW2ldLnVwZGF0ZSh0LGUpLHRoaXMuX2JvZGllc1tpXT10aGlzLmFjdG9yc1tpXS5ib2R5O2ZvcihpPTAsbj10aGlzLnRyaWdnZXJzLmxlbmd0aDtpPG47aSsrKXRoaXMudHJpZ2dlcnNbaV0udXBkYXRlKHQsZSk7aWYodGhpcy5fY29sbGVjdEFjdG9yU3RhdHModCksdC5pbnB1dC5wb2ludGVycy5wcm9wYWdhdGUoKSx0aGlzLl9icm9hZHBoYXNlJiZUdC5lbmFibGVkKXt2YXIgcz1EYXRlLm5vdygpO3RoaXMuX2Jyb2FkcGhhc2UudXBkYXRlKHRoaXMuX2JvZGllcyxlKTtmb3IodmFyIGE9dGhpcy5fYnJvYWRwaGFzZS5icm9hZHBoYXNlKHRoaXMuX2JvZGllcyxlLHQuc3RhdHMuY3VyckZyYW1lKSxoPURhdGUubm93KCksYz1EYXRlLm5vdygpLHU9VHQuY29sbGlzaW9uUGFzc2VzLGw9ZS91O3U+MDspYT10aGlzLl9icm9hZHBoYXNlLm5hcnJvd3BoYXNlKGEsdC5zdGF0cy5jdXJyRnJhbWUpLGE9dGhpcy5fYnJvYWRwaGFzZS5yZXNvbHZlKGEsbCxUdC5jb2xsaXNpb25SZXNvbHV0aW9uU3RyYXRlZ3kpLHRoaXMuX2Jyb2FkcGhhc2UucnVuQ29sbGlzaW9uU3RhcnRFbmQoYSksdS0tO3ZhciBwPURhdGUubm93KCk7dC5zdGF0cy5jdXJyRnJhbWUucGh5c2ljcy5icm9hZHBoYXNlPWgtcyx0LnN0YXRzLmN1cnJGcmFtZS5waHlzaWNzLm5hcnJvd3BoYXNlPXAtY310LnN0YXRzLmN1cnJGcmFtZS5hY3RvcnMua2lsbGVkPXRoaXMuX2tpbGxRdWV1ZS5sZW5ndGgrdGhpcy5fdHJpZ2dlcktpbGxRdWV1ZS5sZW5ndGgsdGhpcy5fcHJvY2Vzc0tpbGxRdWV1ZSh0aGlzLl9raWxsUXVldWUsdGhpcy5hY3RvcnMpLHRoaXMuX3Byb2Nlc3NLaWxsUXVldWUodGhpcy5fdHJpZ2dlcktpbGxRdWV1ZSx0aGlzLnRyaWdnZXJzKSx0aGlzLl9wb3N0dXBkYXRlKHQsZSl9LGUucHJvdG90eXBlLl9wcm9jZXNzS2lsbFF1ZXVlPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpLG49MCxvPXQ7bjxvLmxlbmd0aDtuKyspe3ZhciByPW9bbl07ci5pc0tpbGxlZCgpJiYoaT1lLmluZGV4T2YocikpPi0xJiYodGhpcy5fc29ydGVkRHJhd2luZ1RyZWUucmVtb3ZlQnlDb21wYXJhYmxlKHIpLGUuc3BsaWNlKGksMSkpfXQubGVuZ3RoPTB9LGUucHJvdG90eXBlLmRyYXc9ZnVuY3Rpb24odCxlKXt2YXIgaSxuO2Zvcih0aGlzLl9wcmVkcmF3KHQsZSksdC5zYXZlKCksdGhpcy5jYW1lcmEmJnRoaXMuY2FtZXJhLmRyYXcodCksaT0wLG49dGhpcy50aWxlTWFwcy5sZW5ndGg7aTxuO2krKyl0aGlzLnRpbGVNYXBzW2ldLmRyYXcodCxlKTt2YXIgbz10aGlzLl9zb3J0ZWREcmF3aW5nVHJlZS5saXN0KCk7Zm9yKGk9MCxuPW8ubGVuZ3RoO2k8bjtpKyspb1tpXS52aXNpYmxlJiYhb1tpXS5pc09mZlNjcmVlbiYmb1tpXS5kcmF3KHQsZSk7Zm9yKHRoaXMuX2VuZ2luZSYmdGhpcy5fZW5naW5lLmlzRGVidWcmJih0LnN0cm9rZVN0eWxlPVwieWVsbG93XCIsdGhpcy5kZWJ1Z0RyYXcodCkpLHQucmVzdG9yZSgpLGk9MCxuPXRoaXMudWlBY3RvcnMubGVuZ3RoO2k8bjtpKyspdGhpcy51aUFjdG9yc1tpXS52aXNpYmxlJiZ0aGlzLnVpQWN0b3JzW2ldLmRyYXcodCxlKTtpZih0aGlzLl9lbmdpbmUmJnRoaXMuX2VuZ2luZS5pc0RlYnVnKWZvcihpPTAsbj10aGlzLnVpQWN0b3JzLmxlbmd0aDtpPG47aSsrKXRoaXMudWlBY3RvcnNbaV0uZGVidWdEcmF3KHQpO3RoaXMuX3Bvc3RkcmF3KHQsZSl9LGUucHJvdG90eXBlLmRlYnVnRHJhdz1mdW5jdGlvbih0KXt2YXIgZSxpO2Zvcih0aGlzLmVtaXQoXCJwcmVkZWJ1Z2RyYXdcIixuZXcgSih0LHRoaXMpKSxlPTAsaT10aGlzLnRpbGVNYXBzLmxlbmd0aDtlPGk7ZSsrKXRoaXMudGlsZU1hcHNbZV0uZGVidWdEcmF3KHQpO2ZvcihlPTAsaT10aGlzLmFjdG9ycy5sZW5ndGg7ZTxpO2UrKyl0aGlzLmFjdG9yc1tlXS5kZWJ1Z0RyYXcodCk7Zm9yKGU9MCxpPXRoaXMudHJpZ2dlcnMubGVuZ3RoO2U8aTtlKyspdGhpcy50cmlnZ2Vyc1tlXS5kZWJ1Z0RyYXcodCk7dGhpcy5fYnJvYWRwaGFzZS5kZWJ1Z0RyYXcodCwyMCksdGhpcy5jYW1lcmEuZGVidWdEcmF3KHQpLHRoaXMuZW1pdChcInBvc3RkZWJ1Z2RyYXdcIixuZXcgJCh0LHRoaXMpKX0sZS5wcm90b3R5cGUuY29udGFpbnM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuYWN0b3JzLmluZGV4T2YodCk+LTF9LGUucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0KXt0IGluc3RhbmNlb2YgJGUmJnQudW5raWxsKCksdCBpbnN0YW5jZW9mIGVpP0ModGhpcy51aUFjdG9ycyx0KXx8dGhpcy5hZGRVSUFjdG9yKHQpOnQgaW5zdGFuY2VvZiAkZT9DKHRoaXMuYWN0b3JzLHQpfHx0aGlzLl9hZGRDaGlsZCh0KTp0IGluc3RhbmNlb2YgaWk/Qyh0aGlzLl90aW1lcnMsdCl8fHRoaXMuYWRkVGltZXIodCk6dCBpbnN0YW5jZW9mIHJpJiYoQyh0aGlzLnRpbGVNYXBzLHQpfHx0aGlzLmFkZFRpbGVNYXAodCkpfSxlLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCl7dCBpbnN0YW5jZW9mIGVpP3RoaXMucmVtb3ZlVUlBY3Rvcih0KToodCBpbnN0YW5jZW9mICRlJiZ0aGlzLl9yZW1vdmVDaGlsZCh0KSx0IGluc3RhbmNlb2YgaWkmJnRoaXMucmVtb3ZlVGltZXIodCksdCBpbnN0YW5jZW9mIHJpJiZ0aGlzLnJlbW92ZVRpbGVNYXAodCkpfSxlLnByb3RvdHlwZS5hZGRVSUFjdG9yPWZ1bmN0aW9uKHQpe3RoaXMudWlBY3RvcnMucHVzaCh0KSx0LnNjZW5lPXRoaXN9LGUucHJvdG90eXBlLnJlbW92ZVVJQWN0b3I9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy51aUFjdG9ycy5pbmRleE9mKHQpO2U+LTEmJnRoaXMudWlBY3RvcnMuc3BsaWNlKGUsMSl9LGUucHJvdG90eXBlLl9hZGRDaGlsZD1mdW5jdGlvbih0KXt0aGlzLl9icm9hZHBoYXNlLnRyYWNrKHQuYm9keSksdC5zY2VuZT10aGlzLHQgaW5zdGFuY2VvZiBOaT90aGlzLnRyaWdnZXJzLnB1c2godCk6dGhpcy5hY3RvcnMucHVzaCh0KSx0aGlzLl9zb3J0ZWREcmF3aW5nVHJlZS5hZGQodCl9LGUucHJvdG90eXBlLmFkZFRpbGVNYXA9ZnVuY3Rpb24odCl7dGhpcy50aWxlTWFwcy5wdXNoKHQpfSxlLnByb3RvdHlwZS5yZW1vdmVUaWxlTWFwPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMudGlsZU1hcHMuaW5kZXhPZih0KTtlPi0xJiZ0aGlzLnRpbGVNYXBzLnNwbGljZShlLDEpfSxlLnByb3RvdHlwZS5fcmVtb3ZlQ2hpbGQ9ZnVuY3Rpb24odCl7Qyh0aGlzLmFjdG9ycyx0KSYmKHRoaXMuX2Jyb2FkcGhhc2UudW50cmFjayh0LmJvZHkpLHQgaW5zdGFuY2VvZiBOaT90aGlzLl90cmlnZ2VyS2lsbFF1ZXVlLnB1c2godCk6KHQuaXNLaWxsZWQoKXx8dC5raWxsKCksdGhpcy5fa2lsbFF1ZXVlLnB1c2godCkpLHQucGFyZW50PW51bGwpfSxlLnByb3RvdHlwZS5hZGRUaW1lcj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fdGltZXJzLnB1c2godCksdC5zY2VuZT10aGlzLHR9LGUucHJvdG90eXBlLnJlbW92ZVRpbWVyPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3RpbWVycy5pbmRleE9mKHQpO3JldHVybi0xIT09ZSYmdGhpcy5fdGltZXJzLnNwbGljZShlLDEpLHR9LGUucHJvdG90eXBlLmNhbmNlbFRpbWVyPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9jYW5jZWxRdWV1ZS5wdXNoKHQpLHR9LGUucHJvdG90eXBlLmlzVGltZXJBY3RpdmU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3RpbWVycy5pbmRleE9mKHQpPi0xJiYhdC5jb21wbGV0ZX0sZS5wcm90b3R5cGUuY3JlYXRlR3JvdXA9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBDaSh0LHRoaXMpfSxlLnByb3RvdHlwZS5nZXRHcm91cD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5ncm91cHNbdF19LGUucHJvdG90eXBlLnJlbW92ZUdyb3VwPWZ1bmN0aW9uKHQpe1wic3RyaW5nXCI9PXR5cGVvZiB0P2RlbGV0ZSB0aGlzLmdyb3Vwc1t0XTp0IGluc3RhbmNlb2YgQ2k/ZGVsZXRlIHRoaXMuZ3JvdXBzW3QubmFtZV06dGhpcy5fbG9nZ2VyLmVycm9yKFwiSW52YWxpZCBhcmd1bWVudHMgdG8gcmVtb3ZlR3JvdXBcIix0KX0sZS5wcm90b3R5cGUuY2xlYW51cERyYXdUcmVlPWZ1bmN0aW9uKHQpe3RoaXMuX3NvcnRlZERyYXdpbmdUcmVlLnJlbW92ZUJ5Q29tcGFyYWJsZSh0KX0sZS5wcm90b3R5cGUudXBkYXRlRHJhd1RyZWU9ZnVuY3Rpb24odCl7dGhpcy5fc29ydGVkRHJhd2luZ1RyZWUuYWRkKHQpfSxlLnByb3RvdHlwZS5pc0FjdG9ySW5EcmF3VHJlZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fc29ydGVkRHJhd2luZ1RyZWUuZmluZCh0KX0sZS5wcm90b3R5cGUuaXNDdXJyZW50U2NlbmU9ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuX2VuZ2luZSYmdGhpcy5fZW5naW5lLmN1cnJlbnRTY2VuZT09PXRoaXN9LGUucHJvdG90eXBlLl9jb2xsZWN0QWN0b3JTdGF0cz1mdW5jdGlvbih0KXtmb3IodmFyIGU9MCxpPXRoaXMudWlBY3RvcnM7ZTxpLmxlbmd0aDtlKyspe2lbZV07dC5zdGF0cy5jdXJyRnJhbWUuYWN0b3JzLnVpKyt9Zm9yKHZhciBuPTAsbz10aGlzLmFjdG9ycztuPG8ubGVuZ3RoO24rKyl7dmFyIHI9b1tuXTt0LnN0YXRzLmN1cnJGcmFtZS5hY3RvcnMuYWxpdmUrKztmb3IodmFyIHM9MCxhPXIuY2hpbGRyZW47czxhLmxlbmd0aDtzKyspe3FpKGFbc10pP3Quc3RhdHMuY3VyckZyYW1lLmFjdG9ycy51aSsrOnQuc3RhdHMuY3VyckZyYW1lLmFjdG9ycy5hbGl2ZSsrfX19LFhpKFtYdCh7bWVzc2FnZTpcImV4Lkdyb3VwIHdpbGwgYmUgZGVwcmVjYXRlZCBpbiB2MC4yNC4wXCJ9KV0sZS5wcm90b3R5cGUsXCJncm91cHNcIixudWxsKSxYaShbWHQoe21lc3NhZ2U6XCJleC5Hcm91cCB3aWxsIGJlIGRlcHJlY2F0ZWQgaW4gdjAuMjQuMFwifSldLGUucHJvdG90eXBlLFwiY3JlYXRlR3JvdXBcIixudWxsKSxYaShbWHQoe21lc3NhZ2U6XCJleC5Hcm91cCB3aWxsIGJlIGRlcHJlY2F0ZWQgaW4gdjAuMjQuMFwifSldLGUucHJvdG90eXBlLFwiZ2V0R3JvdXBcIixudWxsKSxYaShbWHQoe21lc3NhZ2U6XCJleC5Hcm91cCB3aWxsIGJlIGRlcHJlY2F0ZWQgaW4gdjAuMjQuMFwifSldLGUucHJvdG90eXBlLFwicmVtb3ZlR3JvdXBcIixudWxsKSxlfShTdCksWWk9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0aGlzLnN0YXRzPXtjdXJyRnJhbWU6bmV3IFppLHByZXZGcmFtZTpuZXcgWml9fX0oKSxaaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLl9pZD0wLHRoaXMuX2RlbHRhPTAsdGhpcy5fZnBzPTAsdGhpcy5fYWN0b3JTdGF0cz17YWxpdmU6MCxraWxsZWQ6MCx1aTowLGdldCByZW1haW5pbmcoKXtyZXR1cm4gdGhpcy5hbGl2ZS10aGlzLmtpbGxlZH0sZ2V0IHRvdGFsKCl7cmV0dXJuIHRoaXMucmVtYWluaW5nK3RoaXMudWl9fSx0aGlzLl9kdXJhdGlvblN0YXRzPXt1cGRhdGU6MCxkcmF3OjAsZ2V0IHRvdGFsKCl7cmV0dXJuIHRoaXMudXBkYXRlK3RoaXMuZHJhd319LHRoaXMuX3BoeXNpY3NTdGF0cz1uZXcgUWl9cmV0dXJuIHQucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKHQpe3Q/KHRoaXMuaWQ9dC5pZCx0aGlzLmRlbHRhPXQuZGVsdGEsdGhpcy5mcHM9dC5mcHMsdGhpcy5hY3RvcnMuYWxpdmU9dC5hY3RvcnMuYWxpdmUsdGhpcy5hY3RvcnMua2lsbGVkPXQuYWN0b3JzLmtpbGxlZCx0aGlzLmFjdG9ycy51aT10LmFjdG9ycy51aSx0aGlzLmR1cmF0aW9uLnVwZGF0ZT10LmR1cmF0aW9uLnVwZGF0ZSx0aGlzLmR1cmF0aW9uLmRyYXc9dC5kdXJhdGlvbi5kcmF3LHRoaXMuX3BoeXNpY3NTdGF0cy5yZXNldCh0LnBoeXNpY3MpKToodGhpcy5pZD10aGlzLmRlbHRhPXRoaXMuZnBzPTAsdGhpcy5hY3RvcnMuYWxpdmU9dGhpcy5hY3RvcnMua2lsbGVkPXRoaXMuYWN0b3JzLnVpPTAsdGhpcy5kdXJhdGlvbi51cGRhdGU9dGhpcy5kdXJhdGlvbi5kcmF3PTAsdGhpcy5fcGh5c2ljc1N0YXRzLnJlc2V0KCkpfSx0LnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBlPW5ldyB0O3JldHVybiBlLnJlc2V0KHRoaXMpLGV9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImlkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pZH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2lkPXR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiZGVsdGFcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RlbHRhfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fZGVsdGE9dH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJmcHNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Zwc30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2Zwcz10fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImFjdG9yc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYWN0b3JTdGF0c30sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJkdXJhdGlvblwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZHVyYXRpb25TdGF0c30sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJwaHlzaWNzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9waHlzaWNzU3RhdHN9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdH0oKSxRaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLl9wYWlycz0wLHRoaXMuX2NvbGxpc2lvbnM9MCx0aGlzLl9jb2xsaWRlcnNIYXNoPXt9LHRoaXMuX2Zhc3RCb2RpZXM9MCx0aGlzLl9mYXN0Qm9keUNvbGxpc2lvbnM9MCx0aGlzLl9icm9hZHBoYXNlPTAsdGhpcy5fbmFycm93cGhhc2U9MH1yZXR1cm4gdC5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24odCl7dD8odGhpcy5wYWlycz10LnBhaXJzLHRoaXMuY29sbGlzaW9ucz10LmNvbGxpc2lvbnMsdGhpcy5jb2xsaWRlcnNIYXNoPXQuY29sbGlkZXJzSGFzaCx0aGlzLmZhc3RCb2RpZXM9dC5mYXN0Qm9kaWVzLHRoaXMuZmFzdEJvZHlDb2xsaXNpb25zPXQuZmFzdEJvZHlDb2xsaXNpb25zLHRoaXMuYnJvYWRwaGFzZT10LmJyb2FkcGhhc2UsdGhpcy5uYXJyb3dwaGFzZT10Lm5hcnJvd3BoYXNlKToodGhpcy5wYWlycz10aGlzLmNvbGxpc2lvbnM9dGhpcy5mYXN0Qm9kaWVzPTAsdGhpcy5mYXN0Qm9keUNvbGxpc2lvbnM9dGhpcy5icm9hZHBoYXNlPXRoaXMubmFycm93cGhhc2U9MCx0aGlzLmNvbGxpZGVyc0hhc2g9e30pfSx0LnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBlPW5ldyB0O3JldHVybiBlLnJlc2V0KHRoaXMpLGV9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcInBhaXJzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wYWlyc30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3BhaXJzPXR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiY29sbGlzaW9uc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29sbGlzaW9uc30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2NvbGxpc2lvbnM9dH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJjb2xsaWRlcnNIYXNoXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb2xsaWRlcnNIYXNofSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fY29sbGlkZXJzSGFzaD10fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImZhc3RCb2RpZXNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Zhc3RCb2RpZXN9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9mYXN0Qm9kaWVzPXR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiZmFzdEJvZHlDb2xsaXNpb25zXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9mYXN0Qm9keUNvbGxpc2lvbnN9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9mYXN0Qm9keUNvbGxpc2lvbnM9dH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJicm9hZHBoYXNlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9icm9hZHBoYXNlfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fYnJvYWRwaGFzZT10fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcIm5hcnJvd3BoYXNlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9uYXJyb3dwaGFzZX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX25hcnJvd3BoYXNlPXR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdH0oKSxKaT1mdW5jdGlvbigpe3ZhciB0PWZ1bmN0aW9uKGUsaSl7cmV0dXJuKHQ9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKHQsZSl7dC5fX3Byb3RvX189ZX18fGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShpKSYmKHRbaV09ZVtpXSl9KShlLGkpfTtyZXR1cm4gZnVuY3Rpb24oZSxpKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfXQoZSxpKSxlLnByb3RvdHlwZT1udWxsPT09aT9PYmplY3QuY3JlYXRlKGkpOihuLnByb3RvdHlwZT1pLnByb3RvdHlwZSxuZXcgbil9fSgpOyFmdW5jdGlvbih0KXt0W3QuTnVtMT05N109XCJOdW0xXCIsdFt0Lk51bTI9OThdPVwiTnVtMlwiLHRbdC5OdW0zPTk5XT1cIk51bTNcIix0W3QuTnVtND0xMDBdPVwiTnVtNFwiLHRbdC5OdW01PTEwMV09XCJOdW01XCIsdFt0Lk51bTY9MTAyXT1cIk51bTZcIix0W3QuTnVtNz0xMDNdPVwiTnVtN1wiLHRbdC5OdW04PTEwNF09XCJOdW04XCIsdFt0Lk51bTk9MTA1XT1cIk51bTlcIix0W3QuTnVtMD05Nl09XCJOdW0wXCIsdFt0Lk51bWxvY2s9MTQ0XT1cIk51bWxvY2tcIix0W3QuU2VtaWNvbG9uPTE4Nl09XCJTZW1pY29sb25cIix0W3QuQT02NV09XCJBXCIsdFt0LkI9NjZdPVwiQlwiLHRbdC5DPTY3XT1cIkNcIix0W3QuRD02OF09XCJEXCIsdFt0LkU9NjldPVwiRVwiLHRbdC5GPTcwXT1cIkZcIix0W3QuRz03MV09XCJHXCIsdFt0Lkg9NzJdPVwiSFwiLHRbdC5JPTczXT1cIklcIix0W3QuSj03NF09XCJKXCIsdFt0Lks9NzVdPVwiS1wiLHRbdC5MPTc2XT1cIkxcIix0W3QuTT03N109XCJNXCIsdFt0Lk49NzhdPVwiTlwiLHRbdC5PPTc5XT1cIk9cIix0W3QuUD04MF09XCJQXCIsdFt0LlE9ODFdPVwiUVwiLHRbdC5SPTgyXT1cIlJcIix0W3QuUz04M109XCJTXCIsdFt0LlQ9ODRdPVwiVFwiLHRbdC5VPTg1XT1cIlVcIix0W3QuVj04Nl09XCJWXCIsdFt0Llc9ODddPVwiV1wiLHRbdC5YPTg4XT1cIlhcIix0W3QuWT04OV09XCJZXCIsdFt0Llo9OTBdPVwiWlwiLHRbdC5TaGlmdD0xNl09XCJTaGlmdFwiLHRbdC5BbHQ9MThdPVwiQWx0XCIsdFt0LlVwPTM4XT1cIlVwXCIsdFt0LkRvd249NDBdPVwiRG93blwiLHRbdC5MZWZ0PTM3XT1cIkxlZnRcIix0W3QuUmlnaHQ9MzldPVwiUmlnaHRcIix0W3QuU3BhY2U9MzJdPVwiU3BhY2VcIix0W3QuRXNjPTI3XT1cIkVzY1wifShHaXx8KEdpPXt9KSk7dmFyICRpLHRuLGVuLG5uLG9uLHJuPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dmFyIGk9dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBpLmtleT1lLGl9cmV0dXJuIEppKGUsdCksZX0ocSksc249ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBlPXQuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gZS5fa2V5cz1bXSxlLl9rZXlzVXA9W10sZS5fa2V5c0Rvd249W10sZX1yZXR1cm4gSmkoZSx0KSxlLnByb3RvdHlwZS5vbj1mdW5jdGlvbihlLGkpe3QucHJvdG90eXBlLm9uLmNhbGwodGhpcyxlLGkpfSxlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7KHQ9dHx8d2luZG93KS5hZGRFdmVudExpc3RlbmVyKFwiYmx1clwiLGZ1bmN0aW9uKCl7ZS5fa2V5cy5sZW5ndGg9MH0pLHQuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsZnVuY3Rpb24odCl7dmFyIGk9ZS5fbm9ybWFsaXplS2V5Q29kZSh0LmtleUNvZGUpLG49ZS5fa2V5cy5pbmRleE9mKGkpO2UuX2tleXMuc3BsaWNlKG4sMSksZS5fa2V5c1VwLnB1c2goaSk7dmFyIG89bmV3IHJuKGkpO2UuZXZlbnREaXNwYXRjaGVyLmVtaXQoXCJ1cFwiLG8pLGUuZXZlbnREaXNwYXRjaGVyLmVtaXQoXCJyZWxlYXNlXCIsbyl9KSx0LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsZnVuY3Rpb24odCl7dmFyIGk9ZS5fbm9ybWFsaXplS2V5Q29kZSh0LmtleUNvZGUpO2lmKC0xPT09ZS5fa2V5cy5pbmRleE9mKGkpKXtlLl9rZXlzLnB1c2goaSksZS5fa2V5c0Rvd24ucHVzaChpKTt2YXIgbj1uZXcgcm4oaSk7ZS5ldmVudERpc3BhdGNoZXIuZW1pdChcImRvd25cIixuKSxlLmV2ZW50RGlzcGF0Y2hlci5lbWl0KFwicHJlc3NcIixuKX19KX0sZS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKCl7dGhpcy5fa2V5c0Rvd24ubGVuZ3RoPTAsdGhpcy5fa2V5c1VwLmxlbmd0aD0wO2Zvcih2YXIgdD0wO3Q8dGhpcy5fa2V5cy5sZW5ndGg7dCsrKXRoaXMuZXZlbnREaXNwYXRjaGVyLmVtaXQoXCJob2xkXCIsbmV3IHJuKHRoaXMuX2tleXNbdF0pKX0sZS5wcm90b3R5cGUuZ2V0S2V5cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9rZXlzfSxlLnByb3RvdHlwZS53YXNQcmVzc2VkPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9rZXlzRG93bi5pbmRleE9mKHQpPi0xfSxlLnByb3RvdHlwZS5pc0hlbGQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2tleXMuaW5kZXhPZih0KT4tMX0sZS5wcm90b3R5cGUud2FzUmVsZWFzZWQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2tleXNVcC5pbmRleE9mKHQpPi0xfSxlLnByb3RvdHlwZS5fbm9ybWFsaXplS2V5Q29kZT1mdW5jdGlvbih0KXtzd2l0Y2godCl7Y2FzZSA1OTpyZXR1cm4gR2kuU2VtaWNvbG9uO2RlZmF1bHQ6cmV0dXJuIHR9fSxlfShTdCksYW49ZnVuY3Rpb24oKXt2YXIgdD1mdW5jdGlvbihlLGkpe3JldHVybih0PU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbih0LGUpe3QuX19wcm90b19fPWV9fHxmdW5jdGlvbih0LGUpe2Zvcih2YXIgaSBpbiBlKWUuaGFzT3duUHJvcGVydHkoaSkmJih0W2ldPWVbaV0pfSkoZSxpKX07cmV0dXJuIGZ1bmN0aW9uKGUsaSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9ZX10KGUsaSksZS5wcm90b3R5cGU9bnVsbD09PWk/T2JqZWN0LmNyZWF0ZShpKToobi5wcm90b3R5cGU9aS5wcm90b3R5cGUsbmV3IG4pfX0oKTshZnVuY3Rpb24odCl7dC5Ub3VjaD1cIlRvdWNoXCIsdC5Nb3VzZT1cIk1vdXNlXCIsdC5QZW49XCJQZW5cIix0LlVua25vd249XCJVbmtub3duXCJ9KCRpfHwoJGk9e30pKSxmdW5jdGlvbih0KXt0W3QuTm9CdXR0b249LTFdPVwiTm9CdXR0b25cIix0W3QuTGVmdD0wXT1cIkxlZnRcIix0W3QuTWlkZGxlPTFdPVwiTWlkZGxlXCIsdFt0LlJpZ2h0PTJdPVwiUmlnaHRcIix0W3QuVW5rbm93bj0zXT1cIlVua25vd25cIn0odG58fCh0bj17fSkpLGZ1bmN0aW9uKHQpe3QuTGVmdD1cIkxlZnRcIix0Lk1pZGRsZT1cIk1pZGRsZVwiLHQuUmlnaHQ9XCJSaWdodFwiLHQuVW5rbm93bj1cIlVua25vd25cIix0Lk5vQnV0dG9uPVwiTm9CdXR0b25cIn0oZW58fChlbj17fSkpLGZ1bmN0aW9uKHQpe3QuUGl4ZWw9XCJQaXhlbFwiLHQuTGluZT1cIkxpbmVcIix0LlBhZ2U9XCJQYWdlXCJ9KG5ufHwobm49e30pKSxmdW5jdGlvbih0KXt0LkNhbnZhcz1cIkNhbnZhc1wiLHQuRG9jdW1lbnQ9XCJEb2N1bWVudFwifShvbnx8KG9uPXt9KSk7dmFyIGhuPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxpLG4sbyxyLHMpe3ZhciBhPXQuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gYS5jb29yZGluYXRlcz1lLGEucG9pbnRlcj1pLGEuaW5kZXg9bixhLnBvaW50ZXJUeXBlPW8sYS5idXR0b249cixhLmV2PXMsYX1yZXR1cm4gYW4oZSx0KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJ3b3JsZFBvc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb29yZGluYXRlcy53b3JsZFBvcy5jbG9uZSgpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcInBhZ2VQb3NcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29vcmRpbmF0ZXMucGFnZVBvcy5jbG9uZSgpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcInNjcmVlblBvc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb29yZGluYXRlcy5zY3JlZW5Qb3MuY2xvbmUoKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJwb3NcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29vcmRpbmF0ZXMud29ybGRQb3MuY2xvbmUoKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5sYXlQYXRoPWZ1bmN0aW9uKHQpe2lmKHRoaXMucG9pbnRlci5pc0FjdG9yVW5kZXJQb2ludGVyKHQpKXt2YXIgZT10LmdldEFuY2VzdG9ycygpO3RoaXMuX3BhdGg9ZS5sZW5ndGg+dGhpcy5fcGF0aC5sZW5ndGg/ZTp0aGlzLl9wYXRofX0sZX0ocSksY249ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuX3BvaW50ZXJFdmVudFR5cGU9dH1yZXR1cm4gdC5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKHQsZSxpLG4sbyxyKXtyZXR1cm4gbmV3IHRoaXMuX3BvaW50ZXJFdmVudFR5cGUodCxlLGksbixvLHIpfSx0fSgpLHVuPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBhbihlLHQpLGV9KGhuKSxsbj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIGU9bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBlLl9uYW1lPVwicG9pbnRlcnVwXCIsZX1yZXR1cm4gYW4oZSx0KSxlLnByb3RvdHlwZS5fb25BY3Rpb25FbmQ9ZnVuY3Rpb24odCl7dGhpcy5wb2ludGVyLmlzRHJhZ0VuZCYmdC5jYXB0dXJlUG9pbnRlci5jYXB0dXJlRHJhZ0V2ZW50cyYmdC5ldmVudERpc3BhdGNoZXIuZW1pdChcInBvaW50ZXJkcmFnZW5kXCIsdGhpcyl9LGV9KGhuKSxwbj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIGU9bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBlLl9uYW1lPVwicG9pbnRlcmRvd25cIixlfXJldHVybiBhbihlLHQpLGUucHJvdG90eXBlLl9vbkFjdGlvbkVuZD1mdW5jdGlvbih0KXt0aGlzLnBvaW50ZXIuaXNEcmFnU3RhcnQmJnQuY2FwdHVyZVBvaW50ZXIuY2FwdHVyZURyYWdFdmVudHMmJnQuZXZlbnREaXNwYXRjaGVyLmVtaXQoXCJwb2ludGVyZHJhZ3N0YXJ0XCIsdGhpcyl9LGV9KGhuKSxkbj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIGU9bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBlLl9uYW1lPVwicG9pbnRlcm1vdmVcIixlfXJldHVybiBhbihlLHQpLGUucHJvdG90eXBlLnByb3BhZ2F0ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5ldmVudFBhdGgubGVuZ3RoPyh0aGlzLmFjdGlvbigpLHRoaXMuYnViYmxlcyYmdGhpcy5wcm9wYWdhdGUoKSk6dGhpcy5wb2ludGVyLmhhc0FjdG9yc1VuZGVyUG9pbnRlciYmdGhpcy5wb2ludGVyLmdldEFjdG9yc1VuZGVyUG9pbnRlcigpLmZvckVhY2goZnVuY3Rpb24oZSl7dC5wb2ludGVyLmlzQWN0b3JVbmRlclBvaW50ZXIoZSl8fHQuX29uQWN0b3JMZWF2ZShlKX0pfSxlLnByb3RvdHlwZS5sYXlQYXRoPWZ1bmN0aW9uKHQpe2lmKHRoaXMucG9pbnRlci5pc0RyYWdnaW5nKXQ9dGhpcy5wb2ludGVyLmRyYWdUYXJnZXR8fHQ7ZWxzZSBpZighdGhpcy5wb2ludGVyLmlzQWN0b3JVbmRlclBvaW50ZXIodCkpcmV0dXJuO3ZhciBlPXQuZ2V0QW5jZXN0b3JzKCk7dGhpcy5fcGF0aD1lLmxlbmd0aD50aGlzLl9wYXRoLmxlbmd0aD9lOnRoaXMuX3BhdGh9LGUucHJvdG90eXBlLl9vbkFjdGlvblN0YXJ0PWZ1bmN0aW9uKHQpe3QuY2FwdHVyZVBvaW50ZXIuY2FwdHVyZU1vdmVFdmVudHMmJih0aGlzLnBvaW50ZXIuaXNBY3RvclVuZGVyUG9pbnRlcih0KSYmIXRoaXMucG9pbnRlci5oYXNBY3RvclVuZGVyUG9pbnRlckluTGlzdCh0KSYmdGhpcy5fb25BY3RvckVudGVyKHQpLHRoaXMucG9pbnRlci5pc0RyYWdnaW5nJiZ0LmNhcHR1cmVQb2ludGVyLmNhcHR1cmVEcmFnRXZlbnRzJiZ0LmV2ZW50RGlzcGF0Y2hlci5lbWl0KFwicG9pbnRlcmRyYWdtb3ZlXCIsdGhpcykpfSxlLnByb3RvdHlwZS5fb25BY3RvckVudGVyPWZ1bmN0aW9uKHQpe3ZhciBlPXZuKFwiZW50ZXJcIix0aGlzLmNvb3JkaW5hdGVzLHRoaXMucG9pbnRlcix0aGlzLmluZGV4LHRoaXMucG9pbnRlclR5cGUsdGhpcy5idXR0b24sdGhpcy5ldik7ZS5sYXlQYXRoKHQpLGUucHJvcGFnYXRlKCksdGhpcy5wb2ludGVyLmFkZEFjdG9yVW5kZXJQb2ludGVyKHQpLHRoaXMucG9pbnRlci5pc0RyYWdnaW5nJiYodGhpcy5wb2ludGVyLmRyYWdUYXJnZXQ9dCl9LGUucHJvdG90eXBlLl9vbkFjdG9yTGVhdmU9ZnVuY3Rpb24odCl7dmFyIGU9dm4oXCJsZWF2ZVwiLHRoaXMuY29vcmRpbmF0ZXMsdGhpcy5wb2ludGVyLHRoaXMuaW5kZXgsdGhpcy5wb2ludGVyVHlwZSx0aGlzLmJ1dHRvbix0aGlzLmV2KTtlLmxheVBhdGgodCksZS5wcm9wYWdhdGUoKSx0aGlzLnBvaW50ZXIucmVtb3ZlQWN0b3JVbmRlclBvaW50ZXIodCl9LGV9KGhuKSxmbj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIGU9bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBlLl9uYW1lPVwicG9pbnRlcmVudGVyXCIsZX1yZXR1cm4gYW4oZSx0KSxlLnByb3RvdHlwZS5fb25BY3Rpb25TdGFydD1mdW5jdGlvbih0KXt0LmNhcHR1cmVQb2ludGVyLmNhcHR1cmVNb3ZlRXZlbnRzfSxlLnByb3RvdHlwZS5fb25BY3Rpb25FbmQ9ZnVuY3Rpb24odCl7dGhpcy5wb2ludGVyLmlzRHJhZ2dpbmcmJnQuY2FwdHVyZVBvaW50ZXIuY2FwdHVyZURyYWdFdmVudHMmJnQuZXZlbnREaXNwYXRjaGVyLmVtaXQoXCJwb2ludGVyZHJhZ2VudGVyXCIsdGhpcyl9LGV9KGhuKSxnbj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIGU9bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBlLl9uYW1lPVwicG9pbnRlcmxlYXZlXCIsZX1yZXR1cm4gYW4oZSx0KSxlLnByb3RvdHlwZS5sYXlQYXRoPWZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0QW5jZXN0b3JzKCk7dGhpcy5fcGF0aD1lLmxlbmd0aD50aGlzLl9wYXRoLmxlbmd0aD9lOnRoaXMuX3BhdGh9LGUucHJvdG90eXBlLl9vbkFjdGlvblN0YXJ0PWZ1bmN0aW9uKHQpe3QuY2FwdHVyZVBvaW50ZXIuY2FwdHVyZU1vdmVFdmVudHN9LGUucHJvdG90eXBlLl9vbkFjdGlvbkVuZD1mdW5jdGlvbih0KXt0aGlzLnBvaW50ZXIuaXNEcmFnZ2luZyYmdC5jYXB0dXJlUG9pbnRlci5jYXB0dXJlRHJhZ0V2ZW50cyYmdC5ldmVudERpc3BhdGNoZXIuZW1pdChcInBvaW50ZXJkcmFnbGVhdmVcIix0aGlzKX0sZX0oaG4pLHluPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgZT1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIGUuX25hbWU9XCJwb2ludGVyY2FuY2VsXCIsZX1yZXR1cm4gYW4oZSx0KSxlfShobiksX249ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLGksbixvLHIscyxhLGgsYyx1LGwscCl7dmFyIGQ9dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBkLng9ZSxkLnk9aSxkLnBhZ2VYPW4sZC5wYWdlWT1vLGQuc2NyZWVuWD1yLGQuc2NyZWVuWT1zLGQuaW5kZXg9YSxkLmRlbHRhWD1oLGQuZGVsdGFZPWMsZC5kZWx0YVo9dSxkLmRlbHRhTW9kZT1sLGQuZXY9cCxkfXJldHVybiBhbihlLHQpLGV9KHEpO2Z1bmN0aW9uIHZuKHQsZSxpLG4sbyxyLHMpe3ZhciBhO3N3aXRjaCh0KXtjYXNlXCJ1cFwiOmE9bmV3IGNuKGxuKTticmVhaztjYXNlXCJkb3duXCI6YT1uZXcgY24ocG4pO2JyZWFrO2Nhc2VcIm1vdmVcIjphPW5ldyBjbihkbik7YnJlYWs7Y2FzZVwiY2FuY2VsXCI6YT1uZXcgY24oeW4pO2JyZWFrO2Nhc2VcImVudGVyXCI6YT1uZXcgY24oZm4pO2JyZWFrO2Nhc2VcImxlYXZlXCI6YT1uZXcgY24oZ24pfXJldHVybiBhLmNyZWF0ZShlLGksbixvLHIscyl9dmFyIG1uLGJuLHduPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dmFyIGk9dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBpLl9wb2ludGVyRG93bj1bXSxpLl9wb2ludGVyVXA9W10saS5fcG9pbnRlck1vdmU9W10saS5fcG9pbnRlckNhbmNlbD1bXSxpLl93aGVlbD1bXSxpLl9wb2ludGVycz1bXSxpLl9hY3RpdmVQb2ludGVycz1bXSxpLl9lbmdpbmU9ZSxpLl9wb2ludGVycy5wdXNoKG5ldyB4biksaS5fYWN0aXZlUG9pbnRlcnM9Wy0xXSxpLnByaW1hcnk9aS5fcG9pbnRlcnNbMF0saX1yZXR1cm4gYW4oZSx0KSxlLnByb3RvdHlwZS5vbj1mdW5jdGlvbihlLGkpe3QucHJvdG90eXBlLm9uLmNhbGwodGhpcyxlLGkpfSxlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKHQpeyh0PXR8fHRoaXMuX2VuZ2luZS5jYW52YXMpLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsdGhpcy5faGFuZGxlVG91Y2hFdmVudChcImRvd25cIix0aGlzLl9wb2ludGVyRG93bikpLHQuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsdGhpcy5faGFuZGxlVG91Y2hFdmVudChcInVwXCIsdGhpcy5fcG9pbnRlclVwKSksdC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsdGhpcy5faGFuZGxlVG91Y2hFdmVudChcIm1vdmVcIix0aGlzLl9wb2ludGVyTW92ZSkpLHQuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoY2FuY2VsXCIsdGhpcy5faGFuZGxlVG91Y2hFdmVudChcImNhbmNlbFwiLHRoaXMuX3BvaW50ZXJDYW5jZWwpKSx3aW5kb3cuUG9pbnRlckV2ZW50Pyh0aGlzLl9lbmdpbmUuY2FudmFzLnN0eWxlLnRvdWNoQWN0aW9uPVwibm9uZVwiLHQuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJkb3duXCIsdGhpcy5faGFuZGxlUG9pbnRlckV2ZW50KFwiZG93blwiLHRoaXMuX3BvaW50ZXJEb3duKSksdC5hZGRFdmVudExpc3RlbmVyKFwicG9pbnRlcnVwXCIsdGhpcy5faGFuZGxlUG9pbnRlckV2ZW50KFwidXBcIix0aGlzLl9wb2ludGVyVXApKSx0LmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVybW92ZVwiLHRoaXMuX2hhbmRsZVBvaW50ZXJFdmVudChcIm1vdmVcIix0aGlzLl9wb2ludGVyTW92ZSkpLHQuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJjYW5jZWxcIix0aGlzLl9oYW5kbGVQb2ludGVyRXZlbnQoXCJjYW5jZWxcIix0aGlzLl9wb2ludGVyQ2FuY2VsKSkpOndpbmRvdy5NU1BvaW50ZXJFdmVudD8odGhpcy5fZW5naW5lLmNhbnZhcy5zdHlsZS5tc1RvdWNoQWN0aW9uPVwibm9uZVwiLHQuYWRkRXZlbnRMaXN0ZW5lcihcIk1TUG9pbnRlckRvd25cIix0aGlzLl9oYW5kbGVQb2ludGVyRXZlbnQoXCJkb3duXCIsdGhpcy5fcG9pbnRlckRvd24pKSx0LmFkZEV2ZW50TGlzdGVuZXIoXCJNU1BvaW50ZXJVcFwiLHRoaXMuX2hhbmRsZVBvaW50ZXJFdmVudChcInVwXCIsdGhpcy5fcG9pbnRlclVwKSksdC5hZGRFdmVudExpc3RlbmVyKFwiTVNQb2ludGVyTW92ZVwiLHRoaXMuX2hhbmRsZVBvaW50ZXJFdmVudChcIm1vdmVcIix0aGlzLl9wb2ludGVyTW92ZSkpLHQuYWRkRXZlbnRMaXN0ZW5lcihcIk1TUG9pbnRlckNhbmNlbFwiLHRoaXMuX2hhbmRsZVBvaW50ZXJFdmVudChcImNhbmNlbFwiLHRoaXMuX3BvaW50ZXJDYW5jZWwpKSk6KHQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLHRoaXMuX2hhbmRsZU1vdXNlRXZlbnQoXCJkb3duXCIsdGhpcy5fcG9pbnRlckRvd24pKSx0LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsdGhpcy5faGFuZGxlTW91c2VFdmVudChcInVwXCIsdGhpcy5fcG9pbnRlclVwKSksdC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsdGhpcy5faGFuZGxlTW91c2VFdmVudChcIm1vdmVcIix0aGlzLl9wb2ludGVyTW92ZSkpKSxcIm9ud2hlZWxcImluIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik/dC5hZGRFdmVudExpc3RlbmVyKFwid2hlZWxcIix0aGlzLl9oYW5kbGVXaGVlbEV2ZW50KFwid2hlZWxcIix0aGlzLl93aGVlbCkpOnZvaWQgMCE9PWRvY3VtZW50Lm9ubW91c2V3aGVlbD90LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXdoZWVsXCIsdGhpcy5faGFuZGxlV2hlZWxFdmVudChcIndoZWVsXCIsdGhpcy5fd2hlZWwpKTp0LmFkZEV2ZW50TGlzdGVuZXIoXCJNb3pNb3VzZVBpeGVsU2Nyb2xsXCIsdGhpcy5faGFuZGxlV2hlZWxFdmVudChcIndoZWVsXCIsdGhpcy5fd2hlZWwpKX0sZS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKCl7dGhpcy5fcG9pbnRlclVwLmxlbmd0aD0wLHRoaXMuX3BvaW50ZXJEb3duLmxlbmd0aD0wLHRoaXMuX3BvaW50ZXJNb3ZlLmxlbmd0aD0wLHRoaXMuX3BvaW50ZXJDYW5jZWwubGVuZ3RoPTAsdGhpcy5fd2hlZWwubGVuZ3RoPTA7Zm9yKHZhciB0PTA7dDx0aGlzLl9wb2ludGVycy5sZW5ndGg7dCsrKXRoaXMuX3BvaW50ZXJzW3RdLnVwZGF0ZSgpfSxlLnByb3RvdHlwZS5hdD1mdW5jdGlvbih0KXtpZih0Pj10aGlzLl9wb2ludGVycy5sZW5ndGgpZm9yKHZhciBlPXRoaXMuX3BvaW50ZXJzLmxlbmd0aC0xLGk9dDtlPGk7ZSsrKXRoaXMuX3BvaW50ZXJzLnB1c2gobmV3IHhuKSx0aGlzLl9hY3RpdmVQb2ludGVycy5wdXNoKC0xKTtyZXR1cm4gdGhpcy5fcG9pbnRlcnNbdF19LGUucHJvdG90eXBlLmNvdW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BvaW50ZXJzLmxlbmd0aH0sZS5wcm90b3R5cGUucHJvcGFnYXRlPWZ1bmN0aW9uKCl7dGhpcy5fcHJvcGFnYXRlUG9pbnRlckV2ZW50KHRoaXMuX3BvaW50ZXJEb3duKSx0aGlzLl9wcm9wYWdhdGVQb2ludGVyRXZlbnQodGhpcy5fcG9pbnRlclVwKSx0aGlzLl9wcm9wYWdhdGVQb2ludGVyRXZlbnQodGhpcy5fcG9pbnRlck1vdmUpLHRoaXMuX3Byb3BhZ2F0ZVBvaW50ZXJFdmVudCh0aGlzLl9wb2ludGVyQ2FuY2VsKSx0aGlzLl9wcm9wYWdhdGVXaGVlbEV2ZW50KFwicG9pbnRlcndoZWVsXCIsdGhpcy5fd2hlZWwpfSxlLnByb3RvdHlwZS5yZXZpc2VQb2ludGVyRXZlbnRzUGF0aHM9ZnVuY3Rpb24odCl7dGhpcy5fcmV2aXNlUG9pbnRlckV2ZW50UGF0aCh0LHRoaXMuX3BvaW50ZXJEb3duKSx0aGlzLl9yZXZpc2VQb2ludGVyRXZlbnRQYXRoKHQsdGhpcy5fcG9pbnRlclVwKSx0aGlzLl9yZXZpc2VQb2ludGVyRXZlbnRQYXRoKHQsdGhpcy5fcG9pbnRlck1vdmUpLHRoaXMuX3JldmlzZVBvaW50ZXJFdmVudFBhdGgodCx0aGlzLl9wb2ludGVyQ2FuY2VsKSx0aGlzLl92YWxpZGF0ZVdoZWVsRXZlbnRQYXRoKHRoaXMuX3doZWVsLHQpfSxlLnByb3RvdHlwZS5fcHJvcGFnYXRlUG9pbnRlckV2ZW50PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10Lmxlbmd0aCxpPTA7aTxlO2krKyl0W2ldLnByb3BhZ2F0ZSgpfSxlLnByb3RvdHlwZS5fcmV2aXNlUG9pbnRlckV2ZW50UGF0aD1mdW5jdGlvbih0LGUpe2Zvcih2YXIgaT1lLmxlbmd0aCxuPTA7bjxpO24rKyl7ZVtuXS5sYXlQYXRoKHQpfX0sZS5wcm90b3R5cGUuX3ZhbGlkYXRlV2hlZWxFdmVudFBhdGg9ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9MDtpPHQubGVuZ3RoO2krKyl7dmFyIG49dFtpXSxvPSFxaShlKTtlLmNvbnRhaW5zKG4ueCxuLnksbykmJm4ubGF5UGF0aChlKX19LGUucHJvdG90eXBlLl9wcm9wYWdhdGVXaGVlbEV2ZW50PWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpLG49ZS5sZW5ndGgsbz0wO288bjtvKyspc3dpdGNoKGk9ZVtvXSx0KXtjYXNlXCJwb2ludGVyd2hlZWxcIjp0aGlzLl9wcm9wYWdhdGVXaGVlbFBvaW50ZXJFdmVudChpKX19LGUucHJvdG90eXBlLl9wcm9wYWdhdGVXaGVlbFBvaW50ZXJFdmVudD1mdW5jdGlvbih0KXt0LmV2ZW50UGF0aC5sZW5ndGgmJih0LmV2ZW50UGF0aC5wb3AoKS5ldmVudERpc3BhdGNoZXIuZW1pdChcInBvaW50ZXJ3aGVlbFwiLHQpLHQuYnViYmxlcyYmdGhpcy5fcHJvcGFnYXRlV2hlZWxQb2ludGVyRXZlbnQodCkpfSxlLnByb3RvdHlwZS5faGFuZGxlTW91c2VFdmVudD1mdW5jdGlvbih0LGUpe3ZhciBpPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKG4pe24ucHJldmVudERlZmF1bHQoKTt2YXIgbz1pLmF0KDApLHI9Vy5mcm9tUGFnZVBvc2l0aW9uKG4ucGFnZVgsbi5wYWdlWSxpLl9lbmdpbmUpLHM9dm4odCxyLG8sMCwkaS5Nb3VzZSxpLl9uYXRpdmVCdXR0b25Ub1BvaW50ZXJCdXR0b24obi5idXR0b24pLG4pO2UucHVzaChzKSxvLmV2ZW50RGlzcGF0Y2hlci5lbWl0KHQscyl9fSxlLnByb3RvdHlwZS5faGFuZGxlVG91Y2hFdmVudD1mdW5jdGlvbih0LGUpe3ZhciBpPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKG4pe24ucHJldmVudERlZmF1bHQoKTtmb3IodmFyIG89MCxyPW4uY2hhbmdlZFRvdWNoZXMubGVuZ3RoO288cjtvKyspe3ZhciBzPWkuX3BvaW50ZXJzLmxlbmd0aD4xP2kuX2dldFBvaW50ZXJJbmRleChuLmNoYW5nZWRUb3VjaGVzW29dLmlkZW50aWZpZXIpOjA7aWYoLTEhPT1zKXt2YXIgYT1pLmF0KHMpLGg9Vy5mcm9tUGFnZVBvc2l0aW9uKG4uY2hhbmdlZFRvdWNoZXNbb10ucGFnZVgsbi5jaGFuZ2VkVG91Y2hlc1tvXS5wYWdlWSxpLl9lbmdpbmUpLGM9dm4odCxoLGEscywkaS5Ub3VjaCxlbi5Vbmtub3duLG4pO2UucHVzaChjKSxhLmV2ZW50RGlzcGF0Y2hlci5lbWl0KHQsYyksaS5fcG9pbnRlcnMubGVuZ3RoPjEmJihcInVwXCI9PT10P2kuX2FjdGl2ZVBvaW50ZXJzW3NdPS0xOlwiZG93blwiPT09dCYmKGkuX2FjdGl2ZVBvaW50ZXJzW3NdPW4uY2hhbmdlZFRvdWNoZXNbb10uaWRlbnRpZmllcikpfX19fSxlLnByb3RvdHlwZS5faGFuZGxlUG9pbnRlckV2ZW50PWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcztyZXR1cm4gZnVuY3Rpb24obil7bi5wcmV2ZW50RGVmYXVsdCgpO3ZhciBvPWkuX3BvaW50ZXJzLmxlbmd0aD4xP2kuX2dldFBvaW50ZXJJbmRleChuLnBvaW50ZXJJZCk6MDtpZigtMSE9PW8pe3ZhciByPWkuYXQobykscz1XLmZyb21QYWdlUG9zaXRpb24obi5wYWdlWCxuLnBhZ2VZLGkuX2VuZ2luZSksYT12bih0LHMscixvLGkuX3N0cmluZ1RvUG9pbnRlclR5cGUobi5wb2ludGVyVHlwZSksaS5fbmF0aXZlQnV0dG9uVG9Qb2ludGVyQnV0dG9uKG4uYnV0dG9uKSxuKTtlLnB1c2goYSksci5ldmVudERpc3BhdGNoZXIuZW1pdCh0LGEpLGkuX3BvaW50ZXJzLmxlbmd0aD4xJiYoXCJ1cFwiPT09dD9pLl9hY3RpdmVQb2ludGVyc1tvXT0tMTpcImRvd25cIj09PXQmJihpLl9hY3RpdmVQb2ludGVyc1tvXT1uLnBvaW50ZXJJZCkpfX19LGUucHJvdG90eXBlLl9oYW5kbGVXaGVlbEV2ZW50PWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcztyZXR1cm4gZnVuY3Rpb24obil7KGkuX2VuZ2luZS5wYWdlU2Nyb2xsUHJldmVudGlvbk1vZGU9PT1Dbi5BbGx8fGkuX2VuZ2luZS5wYWdlU2Nyb2xsUHJldmVudGlvbk1vZGU9PT1Dbi5DYW52YXMmJm4udGFyZ2V0PT09aS5fZW5naW5lLmNhbnZhcykmJm4ucHJldmVudERlZmF1bHQoKTt2YXIgbz1uLnBhZ2VYLVMoaS5fZW5naW5lLmNhbnZhcykueCxyPW4ucGFnZVktUyhpLl9lbmdpbmUuY2FudmFzKS55LHM9aS5fZW5naW5lLnNjcmVlblRvV29ybGRDb29yZGluYXRlcyhuZXcgRihvLHIpKSxhPW4uZGVsdGFYfHwtLjAyNSpuLndoZWVsRGVsdGFYfHwwLGg9bi5kZWx0YVl8fC0uMDI1Km4ud2hlZWxEZWx0YVl8fC0uMDI1Km4ud2hlZWxEZWx0YXx8bi5kZXRhaWx8fDAsYz1uLmRlbHRhWnx8MCx1PW5uLlBpeGVsO24uZGVsdGFNb2RlJiYoMT09PW4uZGVsdGFNb2RlP3U9bm4uTGluZToyPT09bi5kZWx0YU1vZGUmJih1PW5uLlBhZ2UpKTt2YXIgbD1uZXcgX24ocy54LHMueSxuLnBhZ2VYLG4ucGFnZVksbyxyLDAsYSxoLGMsdSxuKTtlLnB1c2gobCksaS5hdCgwKS5ldmVudERpc3BhdGNoZXIuZW1pdCh0LGwpfX0sZS5wcm90b3R5cGUuX2dldFBvaW50ZXJJbmRleD1mdW5jdGlvbih0KXt2YXIgZTtpZigoZT10aGlzLl9hY3RpdmVQb2ludGVycy5pbmRleE9mKHQpKT4tMSlyZXR1cm4gZTtmb3IodmFyIGk9MDtpPHRoaXMuX2FjdGl2ZVBvaW50ZXJzLmxlbmd0aDtpKyspaWYoLTE9PT10aGlzLl9hY3RpdmVQb2ludGVyc1tpXSlyZXR1cm4gaTtyZXR1cm4tMX0sZS5wcm90b3R5cGUuX25hdGl2ZUJ1dHRvblRvUG9pbnRlckJ1dHRvbj1mdW5jdGlvbih0KXtzd2l0Y2godCl7Y2FzZSB0bi5Ob0J1dHRvbjpyZXR1cm4gZW4uTm9CdXR0b247Y2FzZSB0bi5MZWZ0OnJldHVybiBlbi5MZWZ0O2Nhc2UgdG4uTWlkZGxlOnJldHVybiBlbi5NaWRkbGU7Y2FzZSB0bi5SaWdodDpyZXR1cm4gZW4uUmlnaHQ7Y2FzZSB0bi5Vbmtub3duOnJldHVybiBlbi5Vbmtub3duO2RlZmF1bHQ6cmV0dXJuIEQodCl9fSxlLnByb3RvdHlwZS5fc3RyaW5nVG9Qb2ludGVyVHlwZT1mdW5jdGlvbih0KXtzd2l0Y2godCl7Y2FzZVwidG91Y2hcIjpyZXR1cm4gJGkuVG91Y2g7Y2FzZVwibW91c2VcIjpyZXR1cm4gJGkuTW91c2U7Y2FzZVwicGVuXCI6cmV0dXJuICRpLlBlbjtkZWZhdWx0OnJldHVybiAkaS5Vbmtub3dufX0sZX0oU3QpLHhuPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgZT10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIGUuX2lzRG93bj0hMSxlLl93YXNEb3duPSExLGUuX2FjdG9yc1VuZGVyUG9pbnRlcj17bGVuZ3RoOjB9LGUubGFzdFBhZ2VQb3M9bnVsbCxlLmxhc3RTY3JlZW5Qb3M9bnVsbCxlLmxhc3RXb3JsZFBvcz1udWxsLGUuZHJhZ1RhcmdldD1udWxsLGUub24oXCJtb3ZlXCIsZS5fb25Qb2ludGVyTW92ZSksZS5vbihcImRvd25cIixlLl9vblBvaW50ZXJEb3duKSxlLm9uKFwidXBcIixlLl9vblBvaW50ZXJVcCksZX1yZXR1cm4gYW4oZSx0KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJpc0RyYWdnaW5nXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc0Rvd259LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiaXNEcmFnU3RhcnRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuX3dhc0Rvd24mJnRoaXMuX2lzRG93bn0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJpc0RyYWdFbmRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dhc0Rvd24mJiF0aGlzLl9pc0Rvd259LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiaGFzQWN0b3JzVW5kZXJQb2ludGVyXCIse2dldDpmdW5jdGlvbigpe3JldHVybiEhdGhpcy5fYWN0b3JzVW5kZXJQb2ludGVyLmxlbmd0aH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oKXt0aGlzLl93YXNEb3duJiYhdGhpcy5faXNEb3duP3RoaXMuX3dhc0Rvd249ITE6IXRoaXMuX3dhc0Rvd24mJnRoaXMuX2lzRG93biYmKHRoaXMuX3dhc0Rvd249ITApfSxlLnByb3RvdHlwZS5hZGRBY3RvclVuZGVyUG9pbnRlcj1mdW5jdGlvbih0KXt0aGlzLmhhc0FjdG9yVW5kZXJQb2ludGVySW5MaXN0KHQpfHwodGhpcy5fYWN0b3JzVW5kZXJQb2ludGVyW3QuaWRdPXQsdGhpcy5fYWN0b3JzVW5kZXJQb2ludGVyLmxlbmd0aCs9MSl9LGUucHJvdG90eXBlLnJlbW92ZUFjdG9yVW5kZXJQb2ludGVyPWZ1bmN0aW9uKHQpe3RoaXMuaGFzQWN0b3JVbmRlclBvaW50ZXJJbkxpc3QodCkmJihkZWxldGUgdGhpcy5fYWN0b3JzVW5kZXJQb2ludGVyW3QuaWRdLHRoaXMuX2FjdG9yc1VuZGVyUG9pbnRlci5sZW5ndGgtPTEpfSxlLnByb3RvdHlwZS5nZXRBY3RvcnNVbmRlclBvaW50ZXI9ZnVuY3Rpb24oKXt2YXIgdD1bXTtmb3IodmFyIGUgaW4gdGhpcy5fYWN0b3JzVW5kZXJQb2ludGVyKWlmKFwibGVuZ3RoXCIhPT1lKXt2YXIgaT10aGlzLl9hY3RvcnNVbmRlclBvaW50ZXJbZV07dC5wdXNoKGkpfXJldHVybiB0fSxlLnByb3RvdHlwZS5pc0FjdG9yVW5kZXJQb2ludGVyPWZ1bmN0aW9uKHQpe3JldHVybiEhdGhpcy5sYXN0V29ybGRQb3MmJnQuY29udGFpbnModGhpcy5sYXN0V29ybGRQb3MueCx0aGlzLmxhc3RXb3JsZFBvcy55LCFxaSh0KSl9LGUucHJvdG90eXBlLmhhc0FjdG9yVW5kZXJQb2ludGVySW5MaXN0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9hY3RvcnNVbmRlclBvaW50ZXIuaGFzT3duUHJvcGVydHkodC5pZC50b1N0cmluZygpKX0sZS5wcm90b3R5cGUuX29uUG9pbnRlck1vdmU9ZnVuY3Rpb24odCl7dGhpcy5sYXN0UGFnZVBvcz1uZXcgRih0LnBhZ2VQb3MueCx0LnBhZ2VQb3MueSksdGhpcy5sYXN0U2NyZWVuUG9zPW5ldyBGKHQuc2NyZWVuUG9zLngsdC5zY3JlZW5Qb3MueSksdGhpcy5sYXN0V29ybGRQb3M9bmV3IEYodC53b3JsZFBvcy54LHQud29ybGRQb3MueSl9LGUucHJvdG90eXBlLl9vblBvaW50ZXJEb3duPWZ1bmN0aW9uKHQpe3RoaXMubGFzdFBhZ2VQb3M9bmV3IEYodC5wYWdlUG9zLngsdC5wYWdlUG9zLnkpLHRoaXMubGFzdFNjcmVlblBvcz1uZXcgRih0LnNjcmVlblBvcy54LHQuc2NyZWVuUG9zLnkpLHRoaXMubGFzdFdvcmxkUG9zPW5ldyBGKHQud29ybGRQb3MueCx0LndvcmxkUG9zLnkpLHRoaXMuX2lzRG93bj0hMH0sZS5wcm90b3R5cGUuX29uUG9pbnRlclVwPWZ1bmN0aW9uKCl7dGhpcy5faXNEb3duPSExLHRoaXMuZHJhZ1RhcmdldD1udWxsfSxlfShTdCksUG49ZnVuY3Rpb24oKXt2YXIgdD1mdW5jdGlvbihlLGkpe3JldHVybih0PU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbih0LGUpe3QuX19wcm90b19fPWV9fHxmdW5jdGlvbih0LGUpe2Zvcih2YXIgaSBpbiBlKWUuaGFzT3duUHJvcGVydHkoaSkmJih0W2ldPWVbaV0pfSkoZSxpKX07cmV0dXJuIGZ1bmN0aW9uKGUsaSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9ZX10KGUsaSksZS5wcm90b3R5cGU9bnVsbD09PWk/T2JqZWN0LmNyZWF0ZShpKToobi5wcm90b3R5cGU9aS5wcm90b3R5cGUsbmV3IG4pfX0oKSxTbj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIGU9dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBlLmVuYWJsZWQ9ITEsZS5zdXBwb3J0ZWQ9ISFuYXZpZ2F0b3IuZ2V0R2FtZXBhZHMsZS5fZ2FtZVBhZFRpbWVTdGFtcHM9WzAsMCwwLDBdLGUuX29sZFBhZHM9W10sZS5fcGFkcz1bXSxlLl9pbml0U3VjY2Vzcz0hMSxlLl9uYXZpZ2F0b3I9bmF2aWdhdG9yLGUuX21pbmltdW1Db25maWd1cmF0aW9uPW51bGwsZX1yZXR1cm4gUG4oZSx0KSxlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7dGhpcy5zdXBwb3J0ZWQmJih0aGlzLl9pbml0U3VjY2Vzc3x8KHRoaXMuX29sZFBhZHM9dGhpcy5fY2xvbmVQYWRzKHRoaXMuX25hdmlnYXRvci5nZXRHYW1lcGFkcygpKSx0aGlzLl9vbGRQYWRzLmxlbmd0aCYmdGhpcy5fb2xkUGFkc1swXSYmKHRoaXMuX2luaXRTdWNjZXNzPSEwKSkpfSxlLnByb3RvdHlwZS5zZXRNaW5pbXVtR2FtZXBhZENvbmZpZ3VyYXRpb249ZnVuY3Rpb24odCl7dGhpcy5fZW5hYmxlQW5kVXBkYXRlKCksdGhpcy5fbWluaW11bUNvbmZpZ3VyYXRpb249dH0sZS5wcm90b3R5cGUuX2VuYWJsZUFuZFVwZGF0ZT1mdW5jdGlvbigpe3RoaXMuZW5hYmxlZHx8KHRoaXMuZW5hYmxlZD0hMCx0aGlzLnVwZGF0ZSgpKX0sZS5wcm90b3R5cGUuX2lzR2FtZXBhZFZhbGlkPWZ1bmN0aW9uKHQpe2lmKCF0aGlzLl9taW5pbXVtQ29uZmlndXJhdGlvbilyZXR1cm4hMDtpZighdClyZXR1cm4hMTt2YXIgZT10LmF4ZXMuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDAhPT10eXBlb2YgdH0pLmxlbmd0aCxpPXQuYnV0dG9ucy5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMCE9PXR5cGVvZiB0fSkubGVuZ3RoO3JldHVybiBlPj10aGlzLl9taW5pbXVtQ29uZmlndXJhdGlvbi5heGlzJiZpPj10aGlzLl9taW5pbXVtQ29uZmlndXJhdGlvbi5idXR0b25zJiZ0LmNvbm5lY3RlZH0sZS5wcm90b3R5cGUub249ZnVuY3Rpb24oZSxpKXt0aGlzLl9lbmFibGVBbmRVcGRhdGUoKSx0LnByb3RvdHlwZS5vbi5jYWxsKHRoaXMsZSxpKX0sZS5wcm90b3R5cGUub2ZmPWZ1bmN0aW9uKGUsaSl7dGhpcy5fZW5hYmxlQW5kVXBkYXRlKCksdC5wcm90b3R5cGUub2ZmLmNhbGwodGhpcyxlLGkpfSxlLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oKXtpZih0aGlzLmVuYWJsZWQmJnRoaXMuc3VwcG9ydGVkKXt0aGlzLmluaXQoKTtmb3IodmFyIHQ9dGhpcy5fbmF2aWdhdG9yLmdldEdhbWVwYWRzKCksZT0wO2U8dC5sZW5ndGg7ZSsrKWlmKHRbZV0pe2lmKCF0aGlzLmF0KGUpLmNvbm5lY3RlZCYmdGhpcy5faXNHYW1lcGFkVmFsaWQodFtlXSkmJnRoaXMuZXZlbnREaXNwYXRjaGVyLmVtaXQoXCJjb25uZWN0XCIsbmV3IG90KGUsdGhpcy5hdChlKSkpLHRoaXMuYXQoZSkuY29ubmVjdGVkPSEwLCF0W2VdLnRpbWVzdGFtcHx8dFtlXS50aW1lc3RhbXAhPT10aGlzLl9nYW1lUGFkVGltZVN0YW1wc1tlXSl7dGhpcy5fZ2FtZVBhZFRpbWVTdGFtcHNbZV09dFtlXS50aW1lc3RhbXAsdGhpcy5hdChlKS5uYXZpZ2F0b3JHYW1lcGFkPXRbZV07dmFyIGk9dm9pZCAwLG49dm9pZCAwLG89dm9pZCAwLHI9dm9pZCAwLHM9dm9pZCAwO2ZvcihpIGluIG1uKVwibnVtYmVyXCI9PXR5cGVvZihuPW1uW2ldKSYmdFtlXS5idXR0b25zW25dJiYocz10W2VdLmJ1dHRvbnNbbl0udmFsdWUpIT09dGhpcy5fb2xkUGFkc1tlXS5nZXRCdXR0b24obikmJih0W2VdLmJ1dHRvbnNbbl0ucHJlc3NlZD8odGhpcy5hdChlKS51cGRhdGVCdXR0b24obixzKSx0aGlzLmF0KGUpLmV2ZW50RGlzcGF0Y2hlci5lbWl0KFwiYnV0dG9uXCIsbmV3IHN0KG4scyx0aGlzLmF0KGUpKSkpOnRoaXMuYXQoZSkudXBkYXRlQnV0dG9uKG4sMCkpO2ZvcihvIGluIGJuKVwibnVtYmVyXCI9PXR5cGVvZihyPWJuW29dKSYmKHM9dFtlXS5heGVzW3JdKSE9PXRoaXMuX29sZFBhZHNbZV0uZ2V0QXhlcyhyKSYmKHRoaXMuYXQoZSkudXBkYXRlQXhlcyhyLHMpLHRoaXMuYXQoZSkuZXZlbnREaXNwYXRjaGVyLmVtaXQoXCJheGlzXCIsbmV3IGF0KHIscyx0aGlzLmF0KGUpKSkpO3RoaXMuX29sZFBhZHNbZV09dGhpcy5fY2xvbmVQYWQodFtlXSl9fWVsc2V7dmFyIGE9dGhpcy5hdChlKTthLmNvbm5lY3RlZCYmdGhpcy5ldmVudERpc3BhdGNoZXIuZW1pdChcImRpc2Nvbm5lY3RcIixuZXcgcnQoZSxhKSksYS5jb25uZWN0ZWQ9ITF9fX0sZS5wcm90b3R5cGUuYXQ9ZnVuY3Rpb24odCl7aWYodGhpcy5fZW5hYmxlQW5kVXBkYXRlKCksdD49dGhpcy5fcGFkcy5sZW5ndGgpZm9yKHZhciBlPXRoaXMuX3BhZHMubGVuZ3RoLTEsaT10O2U8aTtlKyspdGhpcy5fcGFkcy5wdXNoKG5ldyBBbiksdGhpcy5fb2xkUGFkcy5wdXNoKG5ldyBBbik7cmV0dXJuIHRoaXMuX3BhZHNbdF19LGUucHJvdG90eXBlLmdldFZhbGlkR2FtZXBhZHM9ZnVuY3Rpb24oKXt0aGlzLl9lbmFibGVBbmRVcGRhdGUoKTtmb3IodmFyIHQ9W10sZT0wO2U8dGhpcy5fcGFkcy5sZW5ndGg7ZSsrKXRoaXMuX2lzR2FtZXBhZFZhbGlkKHRoaXMuYXQoZSkubmF2aWdhdG9yR2FtZXBhZCkmJnRoaXMuYXQoZSkuY29ubmVjdGVkJiZ0LnB1c2godGhpcy5hdChlKSk7cmV0dXJuIHR9LGUucHJvdG90eXBlLmNvdW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BhZHMuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiB0LmNvbm5lY3RlZH0pLmxlbmd0aH0sZS5wcm90b3R5cGUuX2Nsb25lUGFkcz1mdW5jdGlvbih0KXtmb3IodmFyIGU9W10saT0wLG49dC5sZW5ndGg7aTxuO2krKyllLnB1c2godGhpcy5fY2xvbmVQYWQodFtpXSkpO3JldHVybiBlfSxlLnByb3RvdHlwZS5fY2xvbmVQYWQ9ZnVuY3Rpb24odCl7dmFyIGUsaSxuPW5ldyBBbjtpZighdClyZXR1cm4gbjtmb3IoZT0wLGk9dC5idXR0b25zLmxlbmd0aDtlPGk7ZSsrKXQuYnV0dG9uc1tlXSYmbi51cGRhdGVCdXR0b24oZSx0LmJ1dHRvbnNbZV0udmFsdWUpO2ZvcihlPTAsaT10LmF4ZXMubGVuZ3RoO2U8aTtlKyspbi51cGRhdGVBeGVzKGUsdC5heGVzW2VdKTtyZXR1cm4gbn0sZS5NaW5BeGlzTW92ZVRocmVzaG9sZD0uMDUsZX0oU3QpLEFuPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgZT10LmNhbGwodGhpcyl8fHRoaXM7ZS5jb25uZWN0ZWQ9ITEsZS5fYnV0dG9ucz1uZXcgQXJyYXkoMTYpLGUuX2F4ZXM9bmV3IEFycmF5KDQpO2Zvcih2YXIgaT0wO2k8ZS5fYnV0dG9ucy5sZW5ndGg7aSsrKWUuX2J1dHRvbnNbaV09MDtmb3IoaT0wO2k8ZS5fYXhlcy5sZW5ndGg7aSsrKWUuX2F4ZXNbaV09MDtyZXR1cm4gZX1yZXR1cm4gUG4oZSx0KSxlLnByb3RvdHlwZS5pc0J1dHRvblByZXNzZWQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9MSksdGhpcy5fYnV0dG9uc1t0XT49ZX0sZS5wcm90b3R5cGUuZ2V0QnV0dG9uPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9idXR0b25zW3RdfSxlLnByb3RvdHlwZS5nZXRBeGVzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2F4ZXNbdF07cmV0dXJuIE1hdGguYWJzKGUpPFNuLk1pbkF4aXNNb3ZlVGhyZXNob2xkPzA6ZX0sZS5wcm90b3R5cGUudXBkYXRlQnV0dG9uPWZ1bmN0aW9uKHQsZSl7dGhpcy5fYnV0dG9uc1t0XT1lfSxlLnByb3RvdHlwZS51cGRhdGVBeGVzPWZ1bmN0aW9uKHQsZSl7dGhpcy5fYXhlc1t0XT1lfSxlfShTdCk7IWZ1bmN0aW9uKHQpe3RbdC5GYWNlMT0wXT1cIkZhY2UxXCIsdFt0LkZhY2UyPTFdPVwiRmFjZTJcIix0W3QuRmFjZTM9Ml09XCJGYWNlM1wiLHRbdC5GYWNlND0zXT1cIkZhY2U0XCIsdFt0LkxlZnRCdW1wZXI9NF09XCJMZWZ0QnVtcGVyXCIsdFt0LlJpZ2h0QnVtcGVyPTVdPVwiUmlnaHRCdW1wZXJcIix0W3QuTGVmdFRyaWdnZXI9Nl09XCJMZWZ0VHJpZ2dlclwiLHRbdC5SaWdodFRyaWdnZXI9N109XCJSaWdodFRyaWdnZXJcIix0W3QuU2VsZWN0PThdPVwiU2VsZWN0XCIsdFt0LlN0YXJ0PTldPVwiU3RhcnRcIix0W3QuTGVmdFN0aWNrPTEwXT1cIkxlZnRTdGlja1wiLHRbdC5SaWdodFN0aWNrPTExXT1cIlJpZ2h0U3RpY2tcIix0W3QuRHBhZFVwPTEyXT1cIkRwYWRVcFwiLHRbdC5EcGFkRG93bj0xM109XCJEcGFkRG93blwiLHRbdC5EcGFkTGVmdD0xNF09XCJEcGFkTGVmdFwiLHRbdC5EcGFkUmlnaHQ9MTVdPVwiRHBhZFJpZ2h0XCJ9KG1ufHwobW49e30pKSxmdW5jdGlvbih0KXt0W3QuTGVmdFN0aWNrWD0wXT1cIkxlZnRTdGlja1hcIix0W3QuTGVmdFN0aWNrWT0xXT1cIkxlZnRTdGlja1lcIix0W3QuUmlnaHRTdGlja1g9Ml09XCJSaWdodFN0aWNrWFwiLHRbdC5SaWdodFN0aWNrWT0zXT1cIlJpZ2h0U3RpY2tZXCJ9KGJufHwoYm49e30pKTt2YXIgRW4sQ24sVG49ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMubmF0aXZlQ29tcG9uZXQ9dCx0aGlzLl9wYXVzZWQ9ITEsdGhpcy5fbmF0aXZlSGFuZGxlcnM9e319cmV0dXJuIHQucHJvdG90eXBlLm9uPWZ1bmN0aW9uKHQsZSl7dGhpcy5fbmF0aXZlSGFuZGxlcnNbdF0mJnRoaXMub2ZmKHQsdGhpcy5fbmF0aXZlSGFuZGxlcnNbdF0pLHRoaXMuX25hdGl2ZUhhbmRsZXJzW3RdPXRoaXMuX2RlY29yYXRlKGUpLHRoaXMubmF0aXZlQ29tcG9uZXQuYWRkRXZlbnRMaXN0ZW5lcih0LHRoaXMuX25hdGl2ZUhhbmRsZXJzW3RdKX0sdC5wcm90b3R5cGUub2ZmPWZ1bmN0aW9uKHQsZSl7ZXx8KGU9dGhpcy5fbmF0aXZlSGFuZGxlcnNbdF0pLHRoaXMubmF0aXZlQ29tcG9uZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LGUpLHRoaXMuX25hdGl2ZUhhbmRsZXJzW3RdPW51bGx9LHQucHJvdG90eXBlLl9kZWNvcmF0ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiBmdW5jdGlvbihpKXtlLl9wYXVzZWR8fHQoaSl9fSx0LnByb3RvdHlwZS5wYXVzZT1mdW5jdGlvbigpe3RoaXMuX3BhdXNlZD0hMH0sdC5wcm90b3R5cGUucmVzdW1lPWZ1bmN0aW9uKCl7dGhpcy5fcGF1c2VkPSExfSx0LnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe2Zvcih2YXIgdCBpbiB0aGlzLl9uYXRpdmVIYW5kbGVycyl0aGlzLm9mZih0KX0sdH0oKSxNbj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt0aGlzLl93aW5kb3dHbG9iYWw9dCx0aGlzLl9kb2N1bWVudEdsb2JhbD1lLHRoaXMuX3dpbmRvd0NvbXBvbmVudD1uZXcgVG4odGhpcy5fd2luZG93R2xvYmFsKSx0aGlzLl9kb2N1bWVudENvbXBvbmVudD1uZXcgVG4odGhpcy5fZG9jdW1lbnRHbG9iYWwpfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJ3aW5kb3dcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dpbmRvd0NvbXBvbmVudH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJkb2N1bWVudFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZG9jdW1lbnRDb21wb25lbnR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUucGF1c2U9ZnVuY3Rpb24oKXt0aGlzLndpbmRvdy5wYXVzZSgpLHRoaXMuZG9jdW1lbnQucGF1c2UoKX0sdC5wcm90b3R5cGUucmVzdW1lPWZ1bmN0aW9uKCl7dGhpcy53aW5kb3cucmVzdW1lKCksdGhpcy5kb2N1bWVudC5yZXN1bWUoKX0sdC5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLndpbmRvdy5jbGVhcigpLHRoaXMuZG9jdW1lbnQuY2xlYXIoKX0sdH0oKSxPbj1mdW5jdGlvbigpe3ZhciB0PWZ1bmN0aW9uKGUsaSl7cmV0dXJuKHQ9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKHQsZSl7dC5fX3Byb3RvX189ZX18fGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShpKSYmKHRbaV09ZVtpXSl9KShlLGkpfTtyZXR1cm4gZnVuY3Rpb24oZSxpKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfXQoZSxpKSxlLnByb3RvdHlwZT1udWxsPT09aT9PYmplY3QuY3JlYXRlKGkpOihuLnByb3RvdHlwZT1pLnByb3RvdHlwZSxuZXcgbil9fSgpO2woKSxmdW5jdGlvbih0KXt0W3QuRnVsbFNjcmVlbj0wXT1cIkZ1bGxTY3JlZW5cIix0W3QuQ29udGFpbmVyPTFdPVwiQ29udGFpbmVyXCIsdFt0LkZpeGVkPTJdPVwiRml4ZWRcIix0W3QuUG9zaXRpb249M109XCJQb3NpdGlvblwifShFbnx8KEVuPXt9KSksZnVuY3Rpb24odCl7dFt0Lk5vbmU9MF09XCJOb25lXCIsdFt0LkNhbnZhcz0xXT1cIkNhbnZhc1wiLHRbdC5BbGw9Ml09XCJBbGxcIn0oQ258fChDbj17fSkpO3ZhciBCbixEbj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGkpe3ZhciBuPXQuY2FsbCh0aGlzKXx8dGhpcztuLl9oYXNTdGFydGVkPSExLG4uZGVidWc9bmV3IFlpLG4ucG9zdFByb2Nlc3NvcnM9W10sbi5zY2VuZXM9e30sbi5fYW5pbWF0aW9ucz1bXSxuLmlzRnVsbHNjcmVlbj0hMSxuLmRpc3BsYXlNb2RlPUVuLkZ1bGxTY3JlZW4sbi5fc3VwcHJlc3NIaURQSVNjYWxpbmc9ITEsbi5fc3VwcHJlc3NQbGF5QnV0dG9uPSExLG4ucGF1c2VBdWRpb1doZW5IaWRkZW49ITAsbi5pc0RlYnVnPSExLG4uZGVidWdDb2xvcj1uZXcgQXQoMjU1LDI1NSwyNTUpLG4uZW5hYmxlQ2FudmFzVHJhbnNwYXJlbmN5PSEwLG4ub25GYXRhbEV4Y2VwdGlvbj1mdW5jdGlvbih0KXtOdC5nZXRJbnN0YW5jZSgpLmZhdGFsKHQpfSxuLl9pc1Ntb290aGluZ0VuYWJsZWQ9ITAsbi5fdGltZXNjYWxlPTEsbi5faXNMb2FkaW5nPSExLG4uX2lzSW5pdGlhbGl6ZWQ9ITEsaT15KHt9LGUuX0RlZmF1bHRFbmdpbmVPcHRpb25zLGkpLG4uYnJvd3Nlcj1uZXcgTW4od2luZG93LGRvY3VtZW50KTt2YXIgbz1uZXcgdmk7aWYoIWkuc3VwcHJlc3NNaW5pbXVtQnJvd3NlckZlYXR1cmVEZXRlY3Rpb24mJiEobi5fY29tcGF0aWJsZT1vLnRlc3QoKSkpe3ZhciByPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7aWYoci5pbm5lclRleHQ9XCJTb3JyeSwgeW91ciBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgYWxsIHRoZSBmZWF0dXJlcyBuZWVkZWQgZm9yIEV4Y2FsaWJ1clwiLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQociksby5mYWlsZWRUZXN0cy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7ZS5pbm5lclRleHQ9XCJCcm93c2VyIGZlYXR1cmUgbWlzc2luZyBcIit0LGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZSl9KSxpLmNhbnZhc0VsZW1lbnRJZCl7dmFyIHM9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaS5jYW52YXNFbGVtZW50SWQpO3MmJnMucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZChzKX1yZXR1cm4gbn1yZXR1cm4gbi5fY29tcGF0aWJsZT0hMCxjb25zb2xlLmxvZyYmIWkuc3VwcHJlc3NDb25zb2xlQm9vdE1lc3NhZ2UmJihjb25zb2xlLmxvZyhcIiVjUG93ZXJlZCBieSBFeGNhbGlidXIuanMgKHZcIit2bytcIilcIixcImJhY2tncm91bmQ6ICMxNzZCQUE7IGNvbG9yOiB3aGl0ZTsgYm9yZGVyLXJhZGl1czogNXB4OyBwYWRkaW5nOiAxNXB4OyBmb250LXNpemU6IDEuNWVtOyBsaW5lLWhlaWdodDogODBweDtcIiksY29uc29sZS5sb2coXCJcXG4gICAgICAvfCBfX19fX19fX19fX19fX19fXFxuT3w9PT18KiA+X19fX19fX19fX19fX19fXz5cXG4gICAgICBcXFxcfFwiKSxjb25zb2xlLmxvZyhcIlZpc2l0XCIsXCJodHRwOi8vZXhjYWxpYnVyanMuY29tXCIsXCJmb3IgbW9yZSBpbmZvcm1hdGlvblwiKSksaS5zdXBwcmVzc1BsYXlCdXR0b24mJihuLl9zdXBwcmVzc1BsYXlCdXR0b249ITApLG4uX2xvZ2dlcj1OdC5nZXRJbnN0YW5jZSgpLG4uX2xvZ2dlci5kZWZhdWx0TGV2ZWw9PT1EdC5EZWJ1ZyYmby5sb2dCcm93c2VyRmVhdHVyZXMoKSxuLl9sb2dnZXIuZGVidWcoXCJCdWlsZGluZyBlbmdpbmUuLi5cIiksbi5jYW52YXNFbGVtZW50SWQ9aS5jYW52YXNFbGVtZW50SWQsaS5jYW52YXNFbGVtZW50SWQ/KG4uX2xvZ2dlci5kZWJ1ZyhcIlVzaW5nIENhbnZhcyBlbGVtZW50IHNwZWNpZmllZDogXCIraS5jYW52YXNFbGVtZW50SWQpLG4uY2FudmFzPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGkuY2FudmFzRWxlbWVudElkKSk6KG4uX2xvZ2dlci5kZWJ1ZyhcIlVzaW5nIGdlbmVyYXRlZCBjYW52YXMgZWxlbWVudFwiKSxuLmNhbnZhcz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpKSxpLndpZHRoJiZpLmhlaWdodD8odm9pZCAwPT09aS5kaXNwbGF5TW9kZSYmKG4uZGlzcGxheU1vZGU9RW4uRml4ZWQpLG4uX2xvZ2dlci5kZWJ1ZyhcIkVuZ2luZSB2aWV3cG9ydCBpcyBzaXplIFwiK2kud2lkdGgrXCIgeCBcIitpLmhlaWdodCksbi5jYW52YXMud2lkdGg9aS53aWR0aCxuLmNhbnZhcy5oZWlnaHQ9aS5oZWlnaHQpOmkuZGlzcGxheU1vZGV8fChuLl9sb2dnZXIuZGVidWcoXCJFbmdpbmUgdmlld3BvcnQgaXMgZnVsbHNjcmVlblwiKSxuLmRpc3BsYXlNb2RlPUVuLkZ1bGxTY3JlZW4pLGkuYmFja2dyb3VuZENvbG9yJiYobi5iYWNrZ3JvdW5kQ29sb3I9aS5iYWNrZ3JvdW5kQ29sb3IuY2xvbmUoKSksbi5lbmFibGVDYW52YXNUcmFuc3BhcmVuY3k9aS5lbmFibGVDYW52YXNUcmFuc3BhcmVuY3ksbi5fbG9hZGVyPW5ldyB5aSxuLl9pbml0aWFsaXplKGkpLG4ucm9vdFNjZW5lPW4uY3VycmVudFNjZW5lPW5ldyBLaShuKSxuLmFkZFNjZW5lKFwicm9vdFwiLG4ucm9vdFNjZW5lKSxuLmdvVG9TY2VuZShcInJvb3RcIiksbn1yZXR1cm4gT24oZSx0KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJjYW52YXNXaWR0aFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jYW52YXMud2lkdGh9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiaGFsZkNhbnZhc1dpZHRoXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNhbnZhcy53aWR0aC8yfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImNhbnZhc0hlaWdodFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jYW52YXMuaGVpZ2h0fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImhhbGZDYW52YXNIZWlnaHRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2FudmFzLmhlaWdodC8yfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImRyYXdXaWR0aFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jdXJyZW50U2NlbmUmJnRoaXMuY3VycmVudFNjZW5lLmNhbWVyYT90aGlzLmNhbnZhc1dpZHRoL3RoaXMuY3VycmVudFNjZW5lLmNhbWVyYS5nZXRab29tKCkvdGhpcy5waXhlbFJhdGlvOnRoaXMuY2FudmFzV2lkdGgvdGhpcy5waXhlbFJhdGlvfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImhhbGZEcmF3V2lkdGhcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZHJhd1dpZHRoLzJ9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiZHJhd0hlaWdodFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jdXJyZW50U2NlbmUmJnRoaXMuY3VycmVudFNjZW5lLmNhbWVyYT90aGlzLmNhbnZhc0hlaWdodC90aGlzLmN1cnJlbnRTY2VuZS5jYW1lcmEuZ2V0Wm9vbSgpL3RoaXMucGl4ZWxSYXRpbzp0aGlzLmNhbnZhc0hlaWdodC90aGlzLnBpeGVsUmF0aW99LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiaGFsZkRyYXdIZWlnaHRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZHJhd0hlaWdodC8yfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImlzSGlEcGlcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDEhPT10aGlzLnBpeGVsUmF0aW99LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwic3RhdHNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGVidWcuc3RhdHN9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwicGl4ZWxSYXRpb1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3VwcHJlc3NIaURQSVNjYWxpbmc/MTp3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbzwxPzE6d2luZG93LmRldmljZVBpeGVsUmF0aW98fDF9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUub249ZnVuY3Rpb24oZSxpKXt0LnByb3RvdHlwZS5vbi5jYWxsKHRoaXMsZSxpKX0sZS5wcm90b3R5cGUub25jZT1mdW5jdGlvbihlLGkpe3QucHJvdG90eXBlLm9uY2UuY2FsbCh0aGlzLGUsaSl9LGUucHJvdG90eXBlLm9mZj1mdW5jdGlvbihlLGkpe3QucHJvdG90eXBlLm9mZi5jYWxsKHRoaXMsZSxpKX0sZS5wcm90b3R5cGUuZ2V0V29ybGRCb3VuZHM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnNjcmVlblRvV29ybGRDb29yZGluYXRlcyhGLlplcm8pLngsZT10aGlzLnNjcmVlblRvV29ybGRDb29yZGluYXRlcyhGLlplcm8pLnksaT10K3RoaXMuZHJhd1dpZHRoLG49ZSt0aGlzLmRyYXdIZWlnaHQ7cmV0dXJuIG5ldyBZdCh0LGUsaSxuKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwidGltZXNjYWxlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90aW1lc2NhbGV9LHNldDpmdW5jdGlvbih0KXt0PD0wP050LmdldEluc3RhbmNlKCkuZXJyb3IoXCJDYW5ub3Qgc2V0IGVuZ2luZS50aW1lc2NhbGUgdG8gYSB2YWx1ZSBvZiAwIG9yIGxlc3MgdGhhbiAwLlwiKTp0aGlzLl90aW1lc2NhbGU9dH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5wbGF5QW5pbWF0aW9uPWZ1bmN0aW9uKHQsZSxpKXt0aGlzLl9hbmltYXRpb25zLnB1c2gobmV3IGtuKHQsZSxpKSl9LGUucHJvdG90eXBlLmFkZFRpbGVNYXA9ZnVuY3Rpb24odCl7dGhpcy5jdXJyZW50U2NlbmUuYWRkVGlsZU1hcCh0KX0sZS5wcm90b3R5cGUucmVtb3ZlVGlsZU1hcD1mdW5jdGlvbih0KXt0aGlzLmN1cnJlbnRTY2VuZS5yZW1vdmVUaWxlTWFwKHQpfSxlLnByb3RvdHlwZS5hZGRUaW1lcj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jdXJyZW50U2NlbmUuYWRkVGltZXIodCl9LGUucHJvdG90eXBlLnJlbW92ZVRpbWVyPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmN1cnJlbnRTY2VuZS5yZW1vdmVUaW1lcih0KX0sZS5wcm90b3R5cGUuYWRkU2NlbmU9ZnVuY3Rpb24odCxlKXt0aGlzLnNjZW5lc1t0XSYmdGhpcy5fbG9nZ2VyLndhcm4oXCJTY2VuZVwiLHQsXCJhbHJlYWR5IGV4aXN0cyBvdmVyd3JpdGluZ1wiKSx0aGlzLnNjZW5lc1t0XT1lfSxlLnByb3RvdHlwZS5yZW1vdmVTY2VuZT1mdW5jdGlvbih0KXtpZih0IGluc3RhbmNlb2YgS2kpZm9yKHZhciBlIGluIHRoaXMuc2NlbmVzKXRoaXMuc2NlbmVzLmhhc093blByb3BlcnR5KGUpJiZ0aGlzLnNjZW5lc1tlXT09PXQmJmRlbGV0ZSB0aGlzLnNjZW5lc1tlXTtcInN0cmluZ1wiPT10eXBlb2YgdCYmZGVsZXRlIHRoaXMuc2NlbmVzW3RdfSxlLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCl7dCBpbnN0YW5jZW9mIGVpP3RoaXMuY3VycmVudFNjZW5lLmFkZFVJQWN0b3IodCk6KHQgaW5zdGFuY2VvZiAkZSYmdGhpcy5fYWRkQ2hpbGQodCksdCBpbnN0YW5jZW9mIGlpJiZ0aGlzLmFkZFRpbWVyKHQpLHQgaW5zdGFuY2VvZiByaSYmdGhpcy5hZGRUaWxlTWFwKHQpLDI9PT1hcmd1bWVudHMubGVuZ3RoJiZ0aGlzLmFkZFNjZW5lKGFyZ3VtZW50c1swXSxhcmd1bWVudHNbMV0pKX0sZS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKHQpe3QgaW5zdGFuY2VvZiBlaT90aGlzLmN1cnJlbnRTY2VuZS5yZW1vdmVVSUFjdG9yKHQpOih0IGluc3RhbmNlb2YgJGUmJnRoaXMuX3JlbW92ZUNoaWxkKHQpLHQgaW5zdGFuY2VvZiBpaSYmdGhpcy5yZW1vdmVUaW1lcih0KSx0IGluc3RhbmNlb2YgcmkmJnRoaXMucmVtb3ZlVGlsZU1hcCh0KSx0IGluc3RhbmNlb2YgS2kmJnRoaXMucmVtb3ZlU2NlbmUodCksXCJzdHJpbmdcIj09dHlwZW9mIHQmJnRoaXMucmVtb3ZlU2NlbmUodCkpfSxlLnByb3RvdHlwZS5fYWRkQ2hpbGQ9ZnVuY3Rpb24odCl7dGhpcy5jdXJyZW50U2NlbmUuYWRkKHQpfSxlLnByb3RvdHlwZS5fcmVtb3ZlQ2hpbGQ9ZnVuY3Rpb24odCl7dGhpcy5jdXJyZW50U2NlbmUucmVtb3ZlKHQpfSxlLnByb3RvdHlwZS5nb1RvU2NlbmU9ZnVuY3Rpb24odCl7aWYodGhpcy5zY2VuZXNbdF0pe3ZhciBlPXRoaXMuY3VycmVudFNjZW5lLGk9dGhpcy5zY2VuZXNbdF07dGhpcy5fbG9nZ2VyLmRlYnVnKFwiR29pbmcgdG8gc2NlbmU6XCIsdCksdGhpcy5jdXJyZW50U2NlbmUuaXNJbml0aWFsaXplZCYmKHRoaXMuY3VycmVudFNjZW5lLl9kZWFjdGl2YXRlLmNhbGwodGhpcy5jdXJyZW50U2NlbmUsW2UsaV0pLHRoaXMuY3VycmVudFNjZW5lLmV2ZW50RGlzcGF0Y2hlci5lbWl0KFwiZGVhY3RpdmF0ZVwiLG5ldyB2dChpLHRoaXMuY3VycmVudFNjZW5lKSkpLHRoaXMuY3VycmVudFNjZW5lPWksdGhpcy5jdXJyZW50U2NlbmUuX2luaXRpYWxpemUodGhpcyksdGhpcy5jdXJyZW50U2NlbmUuX2FjdGl2YXRlLmNhbGwodGhpcy5jdXJyZW50U2NlbmUsW2UsaV0pLHRoaXMuY3VycmVudFNjZW5lLmV2ZW50RGlzcGF0Y2hlci5lbWl0KFwiYWN0aXZhdGVcIixuZXcgX3QoZSx0aGlzLmN1cnJlbnRTY2VuZSkpfWVsc2UgdGhpcy5fbG9nZ2VyLmVycm9yKFwiU2NlbmVcIix0LFwiZG9lcyBub3QgZXhpc3QhXCIpfSxlLnByb3RvdHlwZS5zY3JlZW5Ub1dvcmxkQ29vcmRpbmF0ZXM9ZnVuY3Rpb24odCl7dmFyIGU9dC54LGk9dC55O2lmKGU9ZS90aGlzLmNhbnZhcy5jbGllbnRXaWR0aCp0aGlzLmRyYXdXaWR0aCxpPWkvdGhpcy5jYW52YXMuY2xpZW50SGVpZ2h0KnRoaXMuZHJhd0hlaWdodCxlLT10aGlzLmhhbGZEcmF3V2lkdGgsaS09dGhpcy5oYWxmRHJhd0hlaWdodCx0aGlzLmN1cnJlbnRTY2VuZSYmdGhpcy5jdXJyZW50U2NlbmUuY2FtZXJhKXt2YXIgbj10aGlzLmN1cnJlbnRTY2VuZS5jYW1lcmEuZ2V0Rm9jdXMoKTtlKz1uLngsaSs9bi55fXJldHVybiBuZXcgRihNYXRoLmZsb29yKGUpLE1hdGguZmxvb3IoaSkpfSxlLnByb3RvdHlwZS53b3JsZFRvU2NyZWVuQ29vcmRpbmF0ZXM9ZnVuY3Rpb24odCl7dmFyIGU9dC54LGk9dC55O2lmKHRoaXMuY3VycmVudFNjZW5lJiZ0aGlzLmN1cnJlbnRTY2VuZS5jYW1lcmEpe3ZhciBuPXRoaXMuY3VycmVudFNjZW5lLmNhbWVyYS5nZXRGb2N1cygpO2UtPW4ueCxpLT1uLnl9cmV0dXJuIGUrPXRoaXMuaGFsZkRyYXdXaWR0aCxpKz10aGlzLmhhbGZEcmF3SGVpZ2h0LGU9ZSp0aGlzLmNhbnZhcy5jbGllbnRXaWR0aC90aGlzLmRyYXdXaWR0aCxpPWkqdGhpcy5jYW52YXMuY2xpZW50SGVpZ2h0L3RoaXMuZHJhd0hlaWdodCxuZXcgRihNYXRoLmZsb29yKGUpLE1hdGguZmxvb3IoaSkpfSxlLnByb3RvdHlwZS5fc2V0SGVpZ2h0QnlEaXNwbGF5TW9kZT1mdW5jdGlvbih0KXt0aGlzLmRpc3BsYXlNb2RlPT09RW4uQ29udGFpbmVyJiYodGhpcy5jYW52YXMud2lkdGg9dC5jbGllbnRXaWR0aCx0aGlzLmNhbnZhcy5oZWlnaHQ9dC5jbGllbnRIZWlnaHQpLHRoaXMuZGlzcGxheU1vZGU9PT1Fbi5GdWxsU2NyZWVuJiYoZG9jdW1lbnQuYm9keS5zdHlsZS5tYXJnaW49XCIwcHhcIixkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PVwiaGlkZGVuXCIsdGhpcy5jYW52YXMud2lkdGg9dC5pbm5lcldpZHRoLHRoaXMuY2FudmFzLmhlaWdodD10LmlubmVySGVpZ2h0KX0sZS5wcm90b3R5cGUuX2luaXRpYWxpemU9ZnVuY3Rpb24odCl7dmFyIGUsaSxuPXRoaXM7aWYodC5kaXNwbGF5TW9kZSYmKHRoaXMuZGlzcGxheU1vZGU9dC5kaXNwbGF5TW9kZSksdGhpcy5kaXNwbGF5TW9kZT09PUVuLkZ1bGxTY3JlZW58fHRoaXMuZGlzcGxheU1vZGU9PT1Fbi5Db250YWluZXIpe3ZhciBvPXRoaXMuZGlzcGxheU1vZGU9PT1Fbi5Db250YWluZXI/dGhpcy5jYW52YXMucGFyZW50RWxlbWVudHx8ZG9jdW1lbnQuYm9keTp3aW5kb3c7dGhpcy5fc2V0SGVpZ2h0QnlEaXNwbGF5TW9kZShvKSx0aGlzLmJyb3dzZXIud2luZG93Lm9uKFwicmVzaXplXCIsZnVuY3Rpb24oKXtuLl9sb2dnZXIuZGVidWcoXCJWaWV3IHBvcnQgcmVzaXplZFwiKSxuLl9zZXRIZWlnaHRCeURpc3BsYXlNb2RlKG8pLG4uX2xvZ2dlci5pbmZvKFwicGFyZW50LmNsaWVudEhlaWdodCBcIitvLmNsaWVudEhlaWdodCksbi5zZXRBbnRpYWxpYXNpbmcobi5faXNTbW9vdGhpbmdFbmFibGVkKX0pfWVsc2UgdGhpcy5kaXNwbGF5TW9kZT09PUVuLlBvc2l0aW9uJiZ0aGlzLl9pbnRpYWxpemVEaXNwbGF5TW9kZVBvc2l0aW9uKHQpO3RoaXMuaW5wdXQ9e2tleWJvYXJkOm5ldyBzbixwb2ludGVyczpuZXcgd24odGhpcyksZ2FtZXBhZHM6bmV3IFNufSx0aGlzLmlucHV0LmtleWJvYXJkLmluaXQoKSx0aGlzLmlucHV0LnBvaW50ZXJzLmluaXQodCYmdC5wb2ludGVyU2NvcGU9PT1vbi5Eb2N1bWVudD9kb2N1bWVudDp0aGlzLmNhbnZhcyksdGhpcy5pbnB1dC5nYW1lcGFkcy5pbml0KCksdGhpcy5wYWdlU2Nyb2xsUHJldmVudGlvbk1vZGU9dC5zY3JvbGxQcmV2ZW50aW9uTW9kZSx2b2lkIDAhPT1kb2N1bWVudC5oaWRkZW4/KGU9XCJoaWRkZW5cIixpPVwidmlzaWJpbGl0eWNoYW5nZVwiKTpcIm1zSGlkZGVuXCJpbiBkb2N1bWVudD8oZT1cIm1zSGlkZGVuXCIsaT1cIm1zdmlzaWJpbGl0eWNoYW5nZVwiKTpcIndlYmtpdEhpZGRlblwiaW4gZG9jdW1lbnQmJihlPVwid2Via2l0SGlkZGVuXCIsaT1cIndlYmtpdHZpc2liaWxpdHljaGFuZ2VcIiksdGhpcy5icm93c2VyLmRvY3VtZW50Lm9uKGksZnVuY3Rpb24oKXtkb2N1bWVudFtlXT8obi5ldmVudERpc3BhdGNoZXIuZW1pdChcImhpZGRlblwiLG5ldyBsdChuKSksbi5fbG9nZ2VyLmRlYnVnKFwiV2luZG93IGhpZGRlblwiKSk6KG4uZXZlbnREaXNwYXRjaGVyLmVtaXQoXCJ2aXNpYmxlXCIsbmV3IHV0KG4pKSxuLl9sb2dnZXIuZGVidWcoXCJXaW5kb3cgdmlzaWJsZVwiKSl9KSx0aGlzLmN0eD10aGlzLmNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIix7YWxwaGE6dGhpcy5lbmFibGVDYW52YXNUcmFuc3BhcmVuY3l9KSx0aGlzLl9zdXBwcmVzc0hpRFBJU2NhbGluZz0hIXQuc3VwcHJlc3NIaURQSVNjYWxpbmcsdC5zdXBwcmVzc0hpRFBJU2NhbGluZ3x8dGhpcy5faW5pdGlhbGl6ZUhpRHBpKCksdGhpcy5jYW52YXNFbGVtZW50SWR8fGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5jYW52YXMpfSxlLnByb3RvdHlwZS5vbkluaXRpYWxpemU9ZnVuY3Rpb24odCl7fSxlLnByb3RvdHlwZS5faW50aWFsaXplRGlzcGxheU1vZGVQb3NpdGlvbj1mdW5jdGlvbih0KXtpZighdC5wb3NpdGlvbil0aHJvdyBuZXcgRXJyb3IoXCJEaXNwbGF5TW9kZSBvZiBQb3NpdGlvbiB3YXMgc2VsZWN0ZWQgYnV0IG5vIHBvc2l0aW9uIG9wdGlvbiB3YXMgZ2l2ZW5cIik7aWYodGhpcy5jYW52YXMuc3R5bGUuZGlzcGxheT1cImJsb2NrXCIsdGhpcy5jYW52YXMuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLFwic3RyaW5nXCI9PXR5cGVvZiB0LnBvc2l0aW9uKXt2YXIgZT10LnBvc2l0aW9uLnNwbGl0KFwiIFwiKTtzd2l0Y2goZVswXSl7Y2FzZVwidG9wXCI6dGhpcy5jYW52YXMuc3R5bGUudG9wPVwiMHB4XCI7YnJlYWs7Y2FzZVwiYm90dG9tXCI6dGhpcy5jYW52YXMuc3R5bGUuYm90dG9tPVwiMHB4XCI7YnJlYWs7Y2FzZVwibWlkZGxlXCI6dGhpcy5jYW52YXMuc3R5bGUudG9wPVwiNTAlXCI7dmFyIGk9LXRoaXMuaGFsZkRyYXdIZWlnaHQ7dGhpcy5jYW52YXMuc3R5bGUubWFyZ2luVG9wPWkudG9TdHJpbmcoKTticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcihcIkludmFsaWQgUG9zaXRpb24gR2l2ZW5cIil9aWYoZVsxXSlzd2l0Y2goZVsxXSl7Y2FzZVwibGVmdFwiOnRoaXMuY2FudmFzLnN0eWxlLmxlZnQ9XCIwcHhcIjticmVhaztjYXNlXCJyaWdodFwiOnRoaXMuY2FudmFzLnN0eWxlLnJpZ2h0PVwiMHB4XCI7YnJlYWs7Y2FzZVwiY2VudGVyXCI6dGhpcy5jYW52YXMuc3R5bGUubGVmdD1cIjUwJVwiO3ZhciBuPS10aGlzLmhhbGZEcmF3V2lkdGg7dGhpcy5jYW52YXMuc3R5bGUubWFyZ2luTGVmdD1uLnRvU3RyaW5nKCk7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIFBvc2l0aW9uIEdpdmVuXCIpfX1lbHNlIHQucG9zaXRpb24udG9wJiYoXCJudW1iZXJcIj09dHlwZW9mIHQucG9zaXRpb24udG9wP3RoaXMuY2FudmFzLnN0eWxlLnRvcD10LnBvc2l0aW9uLnRvcC50b1N0cmluZygpK1wicHhcIjp0aGlzLmNhbnZhcy5zdHlsZS50b3A9dC5wb3NpdGlvbi50b3ApLHQucG9zaXRpb24ucmlnaHQmJihcIm51bWJlclwiPT10eXBlb2YgdC5wb3NpdGlvbi5yaWdodD90aGlzLmNhbnZhcy5zdHlsZS5yaWdodD10LnBvc2l0aW9uLnJpZ2h0LnRvU3RyaW5nKCkrXCJweFwiOnRoaXMuY2FudmFzLnN0eWxlLnJpZ2h0PXQucG9zaXRpb24ucmlnaHQpLHQucG9zaXRpb24uYm90dG9tJiYoXCJudW1iZXJcIj09dHlwZW9mIHQucG9zaXRpb24uYm90dG9tP3RoaXMuY2FudmFzLnN0eWxlLmJvdHRvbT10LnBvc2l0aW9uLmJvdHRvbS50b1N0cmluZygpK1wicHhcIjp0aGlzLmNhbnZhcy5zdHlsZS5ib3R0b209dC5wb3NpdGlvbi5ib3R0b20pLHQucG9zaXRpb24ubGVmdCYmKFwibnVtYmVyXCI9PXR5cGVvZiB0LnBvc2l0aW9uLmxlZnQ/dGhpcy5jYW52YXMuc3R5bGUubGVmdD10LnBvc2l0aW9uLmxlZnQudG9TdHJpbmcoKStcInB4XCI6dGhpcy5jYW52YXMuc3R5bGUubGVmdD10LnBvc2l0aW9uLmxlZnQpfSxlLnByb3RvdHlwZS5faW5pdGlhbGl6ZUhpRHBpPWZ1bmN0aW9uKCl7aWYodGhpcy5pc0hpRHBpKXt2YXIgdD10aGlzLmNhbnZhcy53aWR0aCxlPXRoaXMuY2FudmFzLmhlaWdodDt0aGlzLmNhbnZhcy53aWR0aD10KnRoaXMucGl4ZWxSYXRpbyx0aGlzLmNhbnZhcy5oZWlnaHQ9ZSp0aGlzLnBpeGVsUmF0aW8sdGhpcy5jYW52YXMuc3R5bGUud2lkdGg9dCtcInB4XCIsdGhpcy5jYW52YXMuc3R5bGUuaGVpZ2h0PWUrXCJweFwiLHRoaXMuX2xvZ2dlci53YXJuKFwiSGkgRFBJIHNjcmVlbiBkZXRlY3RlZCwgcmVzZXR0aW5nIGNhbnZhcyByZXNvbHV0aW9uIGZyb20gXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIrdCtcInhcIitlK1wiIHRvIFwiK3RoaXMuY2FudmFzLndpZHRoK1wieFwiK3RoaXMuY2FudmFzLmhlaWdodCtcIiBcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBjc3Mgc2l6ZSB3aWxsIHJlbWFpbiBcIit0K1wieFwiK2UpLHRoaXMuY3R4LnNjYWxlKHRoaXMucGl4ZWxSYXRpbyx0aGlzLnBpeGVsUmF0aW8pLHRoaXMuX2xvZ2dlci53YXJuKFwiQ2FudmFzIGRyYXdpbmcgY29udGV4dCB3YXMgc2NhbGVkIGJ5IFwiK3RoaXMucGl4ZWxSYXRpbyl9fSxlLnByb3RvdHlwZS5zZXRBbnRpYWxpYXNpbmc9ZnVuY3Rpb24odCl7dGhpcy5faXNTbW9vdGhpbmdFbmFibGVkPXQ7dmFyIGU9dGhpcy5jdHg7ZS5pbWFnZVNtb290aGluZ0VuYWJsZWQ9dDtmb3IodmFyIGk9MCxuPVtcIndlYmtpdEltYWdlU21vb3RoaW5nRW5hYmxlZFwiLFwibW96SW1hZ2VTbW9vdGhpbmdFbmFibGVkXCIsXCJtc0ltYWdlU21vb3RoaW5nRW5hYmxlZFwiXTtpPG4ubGVuZ3RoO2krKyl7dmFyIG89bltpXTtvIGluIGUmJihlW29dPXQpfX0sZS5wcm90b3R5cGUuZ2V0QW50aWFsaWFzaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY3R4LmltYWdlU21vb3RoaW5nRW5hYmxlZHx8dGhpcy5jdHgud2Via2l0SW1hZ2VTbW9vdGhpbmdFbmFibGVkfHx0aGlzLmN0eC5tb3pJbWFnZVNtb290aGluZ0VuYWJsZWR8fHRoaXMuY3R4Lm1zSW1hZ2VTbW9vdGhpbmdFbmFibGVkfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJpc0luaXRpYWxpemVkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc0luaXRpYWxpemVkfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLl9vdmVycmlkZUluaXRpYWxpemU9ZnVuY3Rpb24oZSl7dGhpcy5pc0luaXRpYWxpemVkfHwodGhpcy5vbkluaXRpYWxpemUoZSksdC5wcm90b3R5cGUuZW1pdC5jYWxsKHRoaXMsXCJpbml0aWFsaXplXCIsbmV3IHl0KGUsdGhpcykpLHRoaXMuX2lzSW5pdGlhbGl6ZWQ9ITApfSxlLnByb3RvdHlwZS5fdXBkYXRlPWZ1bmN0aW9uKHQpe2lmKHRoaXMuX2lzTG9hZGluZylyZXR1cm4gdGhpcy5fbG9hZGVyLnVwZGF0ZSh0aGlzLHQpLHRoaXMuaW5wdXQua2V5Ym9hcmQudXBkYXRlKCksdGhpcy5pbnB1dC5wb2ludGVycy51cGRhdGUoKSx2b2lkIHRoaXMuaW5wdXQuZ2FtZXBhZHMudXBkYXRlKCk7dGhpcy5fb3ZlcnJpZGVJbml0aWFsaXplKHRoaXMpLHRoaXMuX3ByZXVwZGF0ZSh0KSx0aGlzLmN1cnJlbnRTY2VuZS51cGRhdGUodGhpcyx0KSx0aGlzLl9hbmltYXRpb25zPXRoaXMuX2FuaW1hdGlvbnMuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiF0LmFuaW1hdGlvbi5pc0RvbmUoKX0pLHRoaXMuaW5wdXQua2V5Ym9hcmQudXBkYXRlKCksdGhpcy5pbnB1dC5wb2ludGVycy51cGRhdGUoKSx0aGlzLmlucHV0LmdhbWVwYWRzLnVwZGF0ZSgpLHRoaXMuX3Bvc3R1cGRhdGUodCl9LGUucHJvdG90eXBlLl9wcmV1cGRhdGU9ZnVuY3Rpb24odCl7dGhpcy5lbWl0KFwicHJldXBkYXRlXCIsbmV3IHR0KHRoaXMsdCx0aGlzKSksdGhpcy5vblByZVVwZGF0ZSh0aGlzLHQpfSxlLnByb3RvdHlwZS5vblByZVVwZGF0ZT1mdW5jdGlvbih0LGUpe30sZS5wcm90b3R5cGUuX3Bvc3R1cGRhdGU9ZnVuY3Rpb24odCl7dGhpcy5lbWl0KFwicG9zdHVwZGF0ZVwiLG5ldyBldCh0aGlzLHQsdGhpcykpLHRoaXMub25Qb3N0VXBkYXRlKHRoaXMsdCl9LGUucHJvdG90eXBlLm9uUG9zdFVwZGF0ZT1mdW5jdGlvbih0LGUpe30sZS5wcm90b3R5cGUuX2RyYXc9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jdHg7aWYodGhpcy5fcHJlZHJhdyhlLHQpLHRoaXMuX2lzTG9hZGluZyl0aGlzLl9sb2FkZXIuZHJhdyhlLHQpO2Vsc2V7ZS5jbGVhclJlY3QoMCwwLHRoaXMuY2FudmFzV2lkdGgsdGhpcy5jYW52YXNIZWlnaHQpLGUuZmlsbFN0eWxlPXRoaXMuYmFja2dyb3VuZENvbG9yLnRvU3RyaW5nKCksZS5maWxsUmVjdCgwLDAsdGhpcy5jYW52YXNXaWR0aCx0aGlzLmNhbnZhc0hlaWdodCksdGhpcy5jdXJyZW50U2NlbmUuZHJhdyh0aGlzLmN0eCx0KTtmb3IodmFyIGk9MCxuPXRoaXMuX2FuaW1hdGlvbnMubGVuZ3RoO2k8bjtpKyspdGhpcy5fYW5pbWF0aW9uc1tpXS5hbmltYXRpb24uZHJhdyhlLHRoaXMuX2FuaW1hdGlvbnNbaV0ueCx0aGlzLl9hbmltYXRpb25zW2ldLnkpO2lmKHRoaXMuaXNEZWJ1Zyl7dGhpcy5jdHguZm9udD1cIkNvbnNvbGFzXCIsdGhpcy5jdHguZmlsbFN0eWxlPXRoaXMuZGVidWdDb2xvci50b1N0cmluZygpO2Zvcih2YXIgbz10aGlzLmlucHV0LmtleWJvYXJkLmdldEtleXMoKSxyPTA7cjxvLmxlbmd0aDtyKyspdGhpcy5jdHguZmlsbFRleHQob1tyXS50b1N0cmluZygpK1wiIDogXCIrKEdpW29bcl1dP0dpW29bcl1dOlwiTm90IE1hcHBlZFwiKSwxMDAsMTAqcisxMCk7dGhpcy5jdHguZmlsbFRleHQoXCJGUFM6XCIrdGhpcy5zdGF0cy5jdXJyRnJhbWUuZnBzLnRvRml4ZWQoMikudG9TdHJpbmcoKSwxMCwxMCl9Zm9yKHZhciBzPTA7czx0aGlzLnBvc3RQcm9jZXNzb3JzLmxlbmd0aDtzKyspdGhpcy5wb3N0UHJvY2Vzc29yc1tzXS5wcm9jZXNzKHRoaXMuY3R4LmdldEltYWdlRGF0YSgwLDAsdGhpcy5jYW52YXNXaWR0aCx0aGlzLmNhbnZhc0hlaWdodCksdGhpcy5jdHgpO3RoaXMuX3Bvc3RkcmF3KGUsdCl9fSxlLnByb3RvdHlwZS5fcHJlZHJhdz1mdW5jdGlvbih0LGUpe3RoaXMuZW1pdChcInByZWRyYXdcIixuZXcgWih0LGUsdGhpcykpLHRoaXMub25QcmVEcmF3KHQsZSl9LGUucHJvdG90eXBlLm9uUHJlRHJhdz1mdW5jdGlvbih0LGUpe30sZS5wcm90b3R5cGUuX3Bvc3RkcmF3PWZ1bmN0aW9uKHQsZSl7dGhpcy5lbWl0KFwicG9zdGRyYXdcIixuZXcgUSh0LGUsdGhpcykpLHRoaXMub25Qb3N0RHJhdyh0LGUpfSxlLnByb3RvdHlwZS5vblBvc3REcmF3PWZ1bmN0aW9uKHQsZSl7fSxlLnByb3RvdHlwZS5zdGFydD1mdW5jdGlvbih0KXt2YXIgaSxuPXRoaXM7cmV0dXJuIHRoaXMuX2NvbXBhdGlibGU/KHQ/KHRoaXMuX2xvYWRlcj10LHRoaXMuX2xvYWRlci5zdXBwcmVzc1BsYXlCdXR0b249dGhpcy5fc3VwcHJlc3NQbGF5QnV0dG9ufHx0aGlzLl9sb2FkZXIuc3VwcHJlc3NQbGF5QnV0dG9uLHRoaXMuX2xvYWRlci53aXJlRW5naW5lKHRoaXMpLGk9dGhpcy5sb2FkKHRoaXMuX2xvYWRlcikpOmk9ZC5yZXNvbHZlKCksaS50aGVuKGZ1bmN0aW9uKCl7bi5lbWl0KFwic3RhcnRcIixuZXcgSyhuKSl9KSx0aGlzLl9oYXNTdGFydGVkfHwodGhpcy5faGFzU3RhcnRlZD0hMCx0aGlzLl9sb2dnZXIuZGVidWcoXCJTdGFydGluZyBnYW1lLi4uXCIpLHRoaXMuYnJvd3Nlci5yZXN1bWUoKSxlLmNyZWF0ZU1haW5Mb29wKHRoaXMsd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSxEYXRlLm5vdykoKSx0aGlzLl9sb2dnZXIuZGVidWcoXCJHYW1lIHN0YXJ0ZWRcIikpLGkpOihuZXcgZCkucmVqZWN0KFwiRXhjYWxpYnVyIGlzIGluY29tcGF0aWJsZSB3aXRoIHlvdXIgYnJvd3NlclwiKX0sZS5jcmVhdGVNYWluTG9vcD1mdW5jdGlvbih0LGUsaSl7dmFyIG49aSgpO3JldHVybiBmdW5jdGlvbiBvKCl7aWYodC5faGFzU3RhcnRlZCl0cnl7dC5fcmVxdWVzdElkPWUobyksdC5lbWl0KFwicHJlZnJhbWVcIixuZXcgaXQodCx0LnN0YXRzLnByZXZGcmFtZSkpO3ZhciByPWkoKSxzPU1hdGguZmxvb3Ioci1uKXx8MTtzPjIwMCYmKHM9MSk7dmFyIGE9cyp0LnRpbWVzY2FsZSxoPXQuc3RhdHMucHJldkZyYW1lLmlkKzE7dC5zdGF0cy5wcmV2RnJhbWUucmVzZXQodC5zdGF0cy5jdXJyRnJhbWUpLHQuc3RhdHMuY3VyckZyYW1lLnJlc2V0KCksdC5zdGF0cy5jdXJyRnJhbWUuaWQ9aCx0LnN0YXRzLmN1cnJGcmFtZS5kZWx0YT1hLHQuc3RhdHMuY3VyckZyYW1lLmZwcz0xLyhhLzFlMyk7dmFyIGM9aSgpO3QuX3VwZGF0ZShhKTt2YXIgdT1pKCk7dC5fZHJhdyhhKTt2YXIgbD1pKCk7dC5zdGF0cy5jdXJyRnJhbWUuZHVyYXRpb24udXBkYXRlPXUtYyx0LnN0YXRzLmN1cnJGcmFtZS5kdXJhdGlvbi5kcmF3PWwtdSxuPXIsdC5lbWl0KFwicG9zdGZyYW1lXCIsbmV3IG50KHQsdC5zdGF0cy5jdXJyRnJhbWUpKX1jYXRjaChlKXt3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUodC5fcmVxdWVzdElkKSx0LnN0b3AoKSx0Lm9uRmF0YWxFeGNlcHRpb24oZSl9fX0sZS5wcm90b3R5cGUuc3RvcD1mdW5jdGlvbigpe3RoaXMuX2hhc1N0YXJ0ZWQmJih0aGlzLmVtaXQoXCJzdG9wXCIsbmV3IFkodGhpcykpLHRoaXMuYnJvd3Nlci5wYXVzZSgpLHRoaXMuX2hhc1N0YXJ0ZWQ9ITEsdGhpcy5fbG9nZ2VyLmRlYnVnKFwiR2FtZSBzdG9wcGVkXCIpKX0sZS5wcm90b3R5cGUuaXNQYXVzZWQ9ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5faGFzU3RhcnRlZH0sZS5wcm90b3R5cGUuc2NyZWVuc2hvdD1mdW5jdGlvbigpe3ZhciB0PW5ldyBJbWFnZSxlPXRoaXMuY2FudmFzLnRvRGF0YVVSTChcImltYWdlL3BuZ1wiKTtyZXR1cm4gdC5zcmM9ZSx0fSxlLnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsaT1uZXcgZDtyZXR1cm4gdGhpcy5faXNMb2FkaW5nPSEwLHQubG9hZCgpLnRoZW4oZnVuY3Rpb24oKXtlLl9zdXBwcmVzc1BsYXlCdXR0b24/c2V0VGltZW91dChmdW5jdGlvbigpe2UuX2lzTG9hZGluZz0hMSxpLnJlc29sdmUoKX0sNTAwKTooZS5faXNMb2FkaW5nPSExLGkucmVzb2x2ZSgpKX0pLGl9LGUuX0RlZmF1bHRFbmdpbmVPcHRpb25zPXt3aWR0aDowLGhlaWdodDowLGVuYWJsZUNhbnZhc1RyYW5zcGFyZW5jeTohMCxjYW52YXNFbGVtZW50SWQ6XCJcIixwb2ludGVyU2NvcGU6b24uRG9jdW1lbnQsc3VwcHJlc3NDb25zb2xlQm9vdE1lc3NhZ2U6bnVsbCxzdXBwcmVzc01pbmltdW1Ccm93c2VyRmVhdHVyZURldGVjdGlvbjpudWxsLHN1cHByZXNzSGlEUElTY2FsaW5nOm51bGwsc3VwcHJlc3NQbGF5QnV0dG9uOm51bGwsc2Nyb2xsUHJldmVudGlvbk1vZGU6Q24uQ2FudmFzLGJhY2tncm91bmRDb2xvcjpBdC5mcm9tSGV4KFwiIzIxODVkMFwiKX0sZX0oU3QpLGtuPWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSxpKXt0aGlzLmFuaW1hdGlvbj10LHRoaXMueD1lLHRoaXMueT1pfX0oKSxSbj1mdW5jdGlvbigpe3ZhciB0PWZ1bmN0aW9uKGUsaSl7cmV0dXJuKHQ9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKHQsZSl7dC5fX3Byb3RvX189ZX18fGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShpKSYmKHRbaV09ZVtpXSl9KShlLGkpfTtyZXR1cm4gZnVuY3Rpb24oZSxpKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfXQoZSxpKSxlLnByb3RvdHlwZT1udWxsPT09aT9PYmplY3QuY3JlYXRlKGkpOihuLnByb3RvdHlwZT1pLnByb3RvdHlwZSxuZXcgbil9fSgpLEZuPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxpKXt2b2lkIDA9PT1pJiYoaT1cIk1lZGlhRXZlbnRcIik7dmFyIG49dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBuLnRhcmdldD1lLG4uX25hbWU9aSxufXJldHVybiBSbihlLHQpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImJ1YmJsZXNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuITF9LHNldDpmdW5jdGlvbih0KXt9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiX3BhdGhcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LHNldDpmdW5jdGlvbih0KXt9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuc3RvcFByb3BhZ2F0aW9uPWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5hY3Rpb249ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLnByb3BhZ2F0ZT1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUubGF5UGF0aD1mdW5jdGlvbih0KXt9LGV9KHEpLGpuPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxpKXt2YXIgbj10LmNhbGwodGhpcyxlLFwiTmF0aXZlU291bmRFdmVudFwiKXx8dGhpcztyZXR1cm4gbi50cmFjaz1pLG59cmV0dXJuIFJuKGUsdCksZX0oRm4pLExuPWZ1bmN0aW9uKCl7dmFyIHQ9ZnVuY3Rpb24oZSxpKXtyZXR1cm4odD1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24odCxlKXt0Ll9fcHJvdG9fXz1lfXx8ZnVuY3Rpb24odCxlKXtmb3IodmFyIGkgaW4gZSllLmhhc093blByb3BlcnR5KGkpJiYodFtpXT1lW2ldKX0pKGUsaSl9O3JldHVybiBmdW5jdGlvbihlLGkpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPWV9dChlLGkpLGUucHJvdG90eXBlPW51bGw9PT1pP09iamVjdC5jcmVhdGUoaSk6KG4ucHJvdG90eXBlPWkucHJvdG90eXBlLG5ldyBuKX19KCk7IWZ1bmN0aW9uKHQpe3RbdC5DaXJjbGU9MF09XCJDaXJjbGVcIix0W3QuUmVjdGFuZ2xlPTFdPVwiUmVjdGFuZ2xlXCJ9KEJufHwoQm49e30pKTt2YXIgSW49ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLGksbixvLHIscyxhLGgsYyx1KXtyZXR1cm4gdC5jYWxsKHRoaXMsZSxpLG4sbyxyLHMsYSxoLGMsdSl8fHRoaXN9cmV0dXJuIExuKGUsdCksZX0oaGUoZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxpLG4sbyxyLHMsYSxoLGMpe3RoaXMucG9zaXRpb249bmV3IEYoMCwwKSx0aGlzLnZlbG9jaXR5PW5ldyBGKDAsMCksdGhpcy5hY2NlbGVyYXRpb249bmV3IEYoMCwwKSx0aGlzLnBhcnRpY2xlUm90YXRpb25hbFZlbG9jaXR5PTAsdGhpcy5jdXJyZW50Um90YXRpb249MCx0aGlzLmZvY3VzPW51bGwsdGhpcy5mb2N1c0FjY2VsPTAsdGhpcy5vcGFjaXR5PTEsdGhpcy5iZWdpbkNvbG9yPUF0LldoaXRlLHRoaXMuZW5kQ29sb3I9QXQuV2hpdGUsdGhpcy5saWZlPTMwMCx0aGlzLmZhZGVGbGFnPSExLHRoaXMuX3JSYXRlPTEsdGhpcy5fZ1JhdGU9MSx0aGlzLl9iUmF0ZT0xLHRoaXMuX2FSYXRlPTAsdGhpcy5fY3VycmVudENvbG9yPUF0LldoaXRlLHRoaXMuZW1pdHRlcj1udWxsLHRoaXMucGFydGljbGVTaXplPTUsdGhpcy5wYXJ0aWNsZVNwcml0ZT1udWxsLHRoaXMuc2l6ZVJhdGU9MCx0aGlzLmVsYXBzZWRNdWx0aXBsaWVyPTA7dmFyIHU9dDtpZih1JiYhKHQgaW5zdGFuY2VvZiBXbikpe3ZhciBsPXQ7dT1sLmVtaXR0ZXIsZT1sLmxpZmUsaT1sLm9wYWNpdHksbz1sLmVuZENvbG9yLG49bC5iZWdpbkNvbG9yLHI9bC5wb3NpdGlvbixzPWwudmVsb2NpdHksYT1sLmFjY2VsZXJhdGlvbixoPWwuc3RhcnRTaXplLGM9bC5lbmRTaXplfXRoaXMuZW1pdHRlcj11LHRoaXMubGlmZT1lfHx0aGlzLmxpZmUsdGhpcy5vcGFjaXR5PWl8fHRoaXMub3BhY2l0eSx0aGlzLmVuZENvbG9yPW98fHRoaXMuZW5kQ29sb3IuY2xvbmUoKSx0aGlzLmJlZ2luQ29sb3I9bnx8dGhpcy5iZWdpbkNvbG9yLmNsb25lKCksdGhpcy5fY3VycmVudENvbG9yPXRoaXMuYmVnaW5Db2xvci5jbG9uZSgpLHRoaXMucG9zaXRpb249cnx8dGhpcy5wb3NpdGlvbix0aGlzLnZlbG9jaXR5PXN8fHRoaXMudmVsb2NpdHksdGhpcy5hY2NlbGVyYXRpb249YXx8dGhpcy5hY2NlbGVyYXRpb24sdGhpcy5fclJhdGU9KHRoaXMuZW5kQ29sb3Iuci10aGlzLmJlZ2luQ29sb3IucikvdGhpcy5saWZlLHRoaXMuX2dSYXRlPSh0aGlzLmVuZENvbG9yLmctdGhpcy5iZWdpbkNvbG9yLmcpL3RoaXMubGlmZSx0aGlzLl9iUmF0ZT0odGhpcy5lbmRDb2xvci5iLXRoaXMuYmVnaW5Db2xvci5iKS90aGlzLmxpZmUsdGhpcy5fYVJhdGU9dGhpcy5vcGFjaXR5L3RoaXMubGlmZSx0aGlzLnN0YXJ0U2l6ZT1ofHwwLHRoaXMuZW5kU2l6ZT1jfHwwLHRoaXMuZW5kU2l6ZT4wJiZ0aGlzLnN0YXJ0U2l6ZT4wJiYodGhpcy5zaXplUmF0ZT0odGhpcy5lbmRTaXplLXRoaXMuc3RhcnRTaXplKS90aGlzLmxpZmUsdGhpcy5wYXJ0aWNsZVNpemU9dGhpcy5zdGFydFNpemUpfXJldHVybiB0LnByb3RvdHlwZS5raWxsPWZ1bmN0aW9uKCl7dGhpcy5lbWl0dGVyLnJlbW92ZVBhcnRpY2xlKHRoaXMpfSx0LnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCl7aWYodGhpcy5saWZlPXRoaXMubGlmZS10LHRoaXMuZWxhcHNlZE11bHRpcGxpZXI9dGhpcy5lbGFwc2VkTXVsdGlwbGllcit0LHRoaXMubGlmZTwwJiZ0aGlzLmtpbGwoKSx0aGlzLmZhZGVGbGFnJiYodGhpcy5vcGFjaXR5PXYodGhpcy5fYVJhdGUqdGhpcy5saWZlLDFlLTQsMSkpLHRoaXMuc3RhcnRTaXplPjAmJnRoaXMuZW5kU2l6ZT4wJiYodGhpcy5wYXJ0aWNsZVNpemU9dih0aGlzLnNpemVSYXRlKnQrdGhpcy5wYXJ0aWNsZVNpemUsTWF0aC5taW4odGhpcy5zdGFydFNpemUsdGhpcy5lbmRTaXplKSxNYXRoLm1heCh0aGlzLnN0YXJ0U2l6ZSx0aGlzLmVuZFNpemUpKSksdGhpcy5fY3VycmVudENvbG9yLnI9dih0aGlzLl9jdXJyZW50Q29sb3Iucit0aGlzLl9yUmF0ZSp0LDAsMjU1KSx0aGlzLl9jdXJyZW50Q29sb3IuZz12KHRoaXMuX2N1cnJlbnRDb2xvci5nK3RoaXMuX2dSYXRlKnQsMCwyNTUpLHRoaXMuX2N1cnJlbnRDb2xvci5iPXYodGhpcy5fY3VycmVudENvbG9yLmIrdGhpcy5fYlJhdGUqdCwwLDI1NSksdGhpcy5fY3VycmVudENvbG9yLmE9dih0aGlzLm9wYWNpdHksMWUtNCwxKSx0aGlzLmZvY3VzKXt2YXIgZT10aGlzLmZvY3VzLnN1Yih0aGlzLnBvc2l0aW9uKS5ub3JtYWxpemUoKS5zY2FsZSh0aGlzLmZvY3VzQWNjZWwpLnNjYWxlKHQvMWUzKTt0aGlzLnZlbG9jaXR5PXRoaXMudmVsb2NpdHkuYWRkKGUpfWVsc2UgdGhpcy52ZWxvY2l0eT10aGlzLnZlbG9jaXR5LmFkZCh0aGlzLmFjY2VsZXJhdGlvbi5zY2FsZSh0LzFlMykpO3RoaXMucG9zaXRpb249dGhpcy5wb3NpdGlvbi5hZGQodGhpcy52ZWxvY2l0eS5zY2FsZSh0LzFlMykpLHRoaXMucGFydGljbGVSb3RhdGlvbmFsVmVsb2NpdHkmJih0aGlzLmN1cnJlbnRSb3RhdGlvbj0odGhpcy5jdXJyZW50Um90YXRpb24rdGhpcy5wYXJ0aWNsZVJvdGF0aW9uYWxWZWxvY2l0eSp0LzFlMyklKDIqTWF0aC5QSSkpfSx0LnByb3RvdHlwZS5kcmF3PWZ1bmN0aW9uKHQpe2lmKHRoaXMucGFydGljbGVTcHJpdGUpcmV0dXJuIHRoaXMucGFydGljbGVTcHJpdGUucm90YXRpb249dGhpcy5jdXJyZW50Um90YXRpb24sdGhpcy5wYXJ0aWNsZVNwcml0ZS5zY2FsZS5zZXRUbyh0aGlzLnBhcnRpY2xlU2l6ZSx0aGlzLnBhcnRpY2xlU2l6ZSksdm9pZCB0aGlzLnBhcnRpY2xlU3ByaXRlLmRyYXcodCx0aGlzLnBvc2l0aW9uLngsdGhpcy5wb3NpdGlvbi55KTt0aGlzLl9jdXJyZW50Q29sb3IuYT12KHRoaXMub3BhY2l0eSwxZS00LDEpLHQuZmlsbFN0eWxlPXRoaXMuX2N1cnJlbnRDb2xvci50b1N0cmluZygpLHQuYmVnaW5QYXRoKCksdC5hcmModGhpcy5wb3NpdGlvbi54LHRoaXMucG9zaXRpb24ueSx0aGlzLnBhcnRpY2xlU2l6ZSwwLDIqTWF0aC5QSSksdC5maWxsKCksdC5jbG9zZVBhdGgoKX0sdH0oKSkpLFduPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxpLG4sbyl7cmV0dXJuIHQuY2FsbCh0aGlzLGUsaSxuLG8pfHx0aGlzfXJldHVybiBMbihlLHQpLGV9KGhlKGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxpLG4sbyl7dmFyIHI9dC5jYWxsKHRoaXMsXCJudW1iZXJcIj09dHlwZW9mIGU/e3g6ZSx5Omksd2lkdGg6bixoZWlnaHQ6b306ZSl8fHRoaXM7ci5udW1QYXJ0aWNsZXM9MCxyLmlzRW1pdHRpbmc9ITAsci5wYXJ0aWNsZXM9bnVsbCxyLmRlYWRQYXJ0aWNsZXM9bnVsbCxyLm1pblZlbD0wLHIubWF4VmVsPTAsci5hY2NlbGVyYXRpb249bmV3IEYoMCwwKSxyLm1pbkFuZ2xlPTAsci5tYXhBbmdsZT0wLHIuZW1pdFJhdGU9MSxyLnBhcnRpY2xlTGlmZT0yZTMsci5vcGFjaXR5PTEsci5mYWRlRmxhZz0hMSxyLmZvY3VzPW51bGwsci5mb2N1c0FjY2VsPTEsci5zdGFydFNpemU9bnVsbCxyLmVuZFNpemU9bnVsbCxyLm1pblNpemU9NSxyLm1heFNpemU9NSxyLmJlZ2luQ29sb3I9QXQuV2hpdGUsci5lbmRDb2xvcj1BdC5XaGl0ZSxyLnBhcnRpY2xlU3ByaXRlPW51bGwsci5lbWl0dGVyVHlwZT1Cbi5SZWN0YW5nbGUsci5yYWRpdXM9MCxyLnBhcnRpY2xlUm90YXRpb25hbFZlbG9jaXR5PTAsci5yYW5kb21Sb3RhdGlvbj0hMSxyLl9wYXJ0aWNsZXNUb0VtaXQ9MCxyLmJvZHkuY29sbGlkZXIudHlwZT1DdC5QcmV2ZW50Q29sbGlzaW9uLHIucGFydGljbGVzPW5ldyBCLHIuZGVhZFBhcnRpY2xlcz1uZXcgQixyLnJhbmRvbT1uZXcgZjtmb3IodmFyIHM9MDtzPHIudHJhaXRzLmxlbmd0aDtzKyspci50cmFpdHNbc11pbnN0YW5jZW9mIFdlJiZyLnRyYWl0cy5zcGxpY2UocywxKTtyZXR1cm4gcn1yZXR1cm4gTG4oZSx0KSxlLnByb3RvdHlwZS5yZW1vdmVQYXJ0aWNsZT1mdW5jdGlvbih0KXt0aGlzLmRlYWRQYXJ0aWNsZXMucHVzaCh0KX0sZS5wcm90b3R5cGUuZW1pdFBhcnRpY2xlcz1mdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHQ7ZSsrKXRoaXMucGFydGljbGVzLnB1c2godGhpcy5fY3JlYXRlUGFydGljbGUoKSl9LGUucHJvdG90eXBlLmNsZWFyUGFydGljbGVzPWZ1bmN0aW9uKCl7dGhpcy5wYXJ0aWNsZXMuY2xlYXIoKX0sZS5wcm90b3R5cGUuX2NyZWF0ZVBhcnRpY2xlPWZ1bmN0aW9uKCl7dmFyIHQ9MCxlPTAsaT1tKHRoaXMubWluQW5nbGUsdGhpcy5tYXhBbmdsZSx0aGlzLnJhbmRvbSksbj1tKHRoaXMubWluVmVsLHRoaXMubWF4VmVsLHRoaXMucmFuZG9tKSxvPXRoaXMuc3RhcnRTaXplfHxtKHRoaXMubWluU2l6ZSx0aGlzLm1heFNpemUsdGhpcy5yYW5kb20pLHI9bipNYXRoLmNvcyhpKSxzPW4qTWF0aC5zaW4oaSk7aWYodGhpcy5lbWl0dGVyVHlwZT09PUJuLlJlY3RhbmdsZSl0PW0odGhpcy5wb3MueCx0aGlzLnBvcy54K3RoaXMud2lkdGgsdGhpcy5yYW5kb20pLGU9bSh0aGlzLnBvcy55LHRoaXMucG9zLnkrdGhpcy5oZWlnaHQsdGhpcy5yYW5kb20pO2Vsc2UgaWYodGhpcy5lbWl0dGVyVHlwZT09PUJuLkNpcmNsZSl7dmFyIGE9bSgwLHRoaXMucmFkaXVzLHRoaXMucmFuZG9tKTt0PWEqTWF0aC5jb3MoaSkrdGhpcy5wb3MueCxlPWEqTWF0aC5zaW4oaSkrdGhpcy5wb3MueX12YXIgaD1uZXcgSW4odGhpcyx0aGlzLnBhcnRpY2xlTGlmZSx0aGlzLm9wYWNpdHksdGhpcy5iZWdpbkNvbG9yLHRoaXMuZW5kQ29sb3IsbmV3IEYodCxlKSxuZXcgRihyLHMpLHRoaXMuYWNjZWxlcmF0aW9uLHRoaXMuc3RhcnRTaXplLHRoaXMuZW5kU2l6ZSk7cmV0dXJuIGguZmFkZUZsYWc9dGhpcy5mYWRlRmxhZyxoLnBhcnRpY2xlU2l6ZT1vLHRoaXMucGFydGljbGVTcHJpdGUmJihoLnBhcnRpY2xlU3ByaXRlPXRoaXMucGFydGljbGVTcHJpdGUpLGgucGFydGljbGVSb3RhdGlvbmFsVmVsb2NpdHk9dGhpcy5wYXJ0aWNsZVJvdGF0aW9uYWxWZWxvY2l0eSx0aGlzLnJhbmRvbVJvdGF0aW9uJiYoaC5jdXJyZW50Um90YXRpb249bSgwLDIqTWF0aC5QSSx0aGlzLnJhbmRvbSkpLHRoaXMuZm9jdXMmJihoLmZvY3VzPXRoaXMuZm9jdXMuYWRkKG5ldyBGKHRoaXMucG9zLngsdGhpcy5wb3MueSkpLGguZm9jdXNBY2NlbD10aGlzLmZvY3VzQWNjZWwpLGh9LGUucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbihlLGkpe3ZhciBuPXRoaXM7dC5wcm90b3R5cGUudXBkYXRlLmNhbGwodGhpcyxlLGkpLHRoaXMuaXNFbWl0dGluZyYmKHRoaXMuX3BhcnRpY2xlc1RvRW1pdCs9dGhpcy5lbWl0UmF0ZSooaS8xZTMpLHRoaXMuX3BhcnRpY2xlc1RvRW1pdD4xJiYodGhpcy5lbWl0UGFydGljbGVzKE1hdGguZmxvb3IodGhpcy5fcGFydGljbGVzVG9FbWl0KSksdGhpcy5fcGFydGljbGVzVG9FbWl0PXRoaXMuX3BhcnRpY2xlc1RvRW1pdC1NYXRoLmZsb29yKHRoaXMuX3BhcnRpY2xlc1RvRW1pdCkpKSx0aGlzLnBhcnRpY2xlcy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnVwZGF0ZShpKX0pLHRoaXMuZGVhZFBhcnRpY2xlcy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiBuLnBhcnRpY2xlcy5yZW1vdmVFbGVtZW50KHQpfSksdGhpcy5kZWFkUGFydGljbGVzLmNsZWFyKCl9LGUucHJvdG90eXBlLmRyYXc9ZnVuY3Rpb24odCl7dGhpcy5wYXJ0aWNsZXMuZm9yRWFjaChmdW5jdGlvbihlKXtyZXR1cm4gZS5kcmF3KHQpfSl9LGUucHJvdG90eXBlLmRlYnVnRHJhdz1mdW5jdGlvbihlKXt0LnByb3RvdHlwZS5kZWJ1Z0RyYXcuY2FsbCh0aGlzLGUpLGUuZmlsbFN0eWxlPUF0LkJsYWNrLnRvU3RyaW5nKCksZS5maWxsVGV4dChcIlBhcnRpY2xlczogXCIrdGhpcy5wYXJ0aWNsZXMuY291bnQoKSx0aGlzLnBvcy54LHRoaXMucG9zLnkrMjApLHRoaXMuZm9jdXMmJihlLmZpbGxSZWN0KHRoaXMuZm9jdXMueCt0aGlzLnBvcy54LHRoaXMuZm9jdXMueSt0aGlzLnBvcy55LDMsMyksemUoZSxBdC5ZZWxsb3csdGhpcy5mb2N1cy54K3RoaXMucG9zLngsdGhpcy5mb2N1cy55K3RoaXMucG9zLnksdGhpcy5jZW50ZXIueCx0aGlzLmNlbnRlci55KSxlLmZpbGxUZXh0KFwiRm9jdXNcIix0aGlzLmZvY3VzLngrdGhpcy5wb3MueCx0aGlzLmZvY3VzLnkrdGhpcy5wb3MueSkpfSxlfSgkZSkpKSxIbj17QWN0aW9uczpyfSx6bj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQuY3JlYXRlPWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5fY3VycmVudEdyb3VwPnRoaXMuX01BWF9HUk9VUFMpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGhhdmUgbW9yZSB0aGFuIFwiK3RoaXMuX01BWF9HUk9VUFMrXCIgY29sbGlzaW9uIGdyb3Vwc1wiKTtpZih0aGlzLl9ncm91cHMuZ2V0KHQpKXRocm93IG5ldyBFcnJvcihcIkNvbGxpc2lvbiBncm91cCBcIit0K1wiIGFscmVhZHkgZXhpc3RzXCIpO3ZhciBpPW5ldyBWZSh0LHRoaXMuX2N1cnJlbnRCaXQsdm9pZCAwIT09ZT9lOn50aGlzLl9jdXJyZW50Qml0KTtyZXR1cm4gdGhpcy5fY3VycmVudEJpdD10aGlzLl9jdXJyZW50Qml0PDwxfDAsdGhpcy5fY3VycmVudEdyb3VwKyssdGhpcy5fZ3JvdXBzLnNldCh0LGkpLGl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiZ3JvdXBzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBBcnJheS5mcm9tKHRoaXMuX2dyb3Vwcy52YWx1ZXMoKSl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdC5ncm91cEJ5TmFtZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZ3JvdXBzLmdldCh0KX0sdC5yZXNldD1mdW5jdGlvbigpe3RoaXMuX2dyb3Vwcz1uZXcgTWFwLHRoaXMuX2N1cnJlbnRCaXQ9dGhpcy5fU1RBUlRJTkdfQklULHRoaXMuX2N1cnJlbnRHcm91cD0xfSx0Ll9TVEFSVElOR19CSVQ9MSx0Ll9NQVhfR1JPVVBTPTMyLHQuX2N1cnJlbnRHcm91cD0xLHQuX2N1cnJlbnRCaXQ9dC5fU1RBUlRJTkdfQklULHQuX2dyb3Vwcz1uZXcgTWFwLHR9KCksVW49ZnVuY3Rpb24oKXt2YXIgdD1mdW5jdGlvbihlLGkpe3JldHVybih0PU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbih0LGUpe3QuX19wcm90b19fPWV9fHxmdW5jdGlvbih0LGUpe2Zvcih2YXIgaSBpbiBlKWUuaGFzT3duUHJvcGVydHkoaSkmJih0W2ldPWVbaV0pfSkoZSxpKX07cmV0dXJuIGZ1bmN0aW9uKGUsaSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9ZX10KGUsaSksZS5wcm90b3R5cGU9bnVsbD09PWk/T2JqZWN0LmNyZWF0ZShpKToobi5wcm90b3R5cGU9aS5wcm90b3R5cGUsbmV3IG4pfX0oKSxObj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsaSxuLG8pe3JldHVybiB0LmNhbGwodGhpcyxlLGksbixvKXx8dGhpc31yZXR1cm4gVW4oZSx0KSxlfShoZShmdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLGksbil7dGhpcy5zcHJpdGVzPVtdLHRoaXMuY3VycmVudEZyYW1lPTAsdGhpcy5fb2xkVGltZT1EYXRlLm5vdygpLHRoaXMuYW5jaG9yPW5ldyBGKDAsMCksdGhpcy5yb3RhdGlvbj0wLHRoaXMuc2NhbGU9bmV3IEYoMSwxKSx0aGlzLmxvb3A9ITAsdGhpcy5mcmVlemVGcmFtZT0tMSx0aGlzLmZsaXBWZXJ0aWNhbD0hMSx0aGlzLmZsaXBIb3Jpem9udGFsPSExLHRoaXMuZHJhd1dpZHRoPTAsdGhpcy5kcmF3SGVpZ2h0PTAsdGhpcy53aWR0aD0wLHRoaXMuaGVpZ2h0PTA7dmFyIG89dDtpZih0JiYhKHQgaW5zdGFuY2VvZiBEbikpe3ZhciByPXQ7bz1yLmVuZ2luZSxlPXIuc3ByaXRlcyxpPXIuc3BlZWQsbj1yLmxvb3B9dGhpcy5zcHJpdGVzPWUsdGhpcy5zcGVlZD1pLHRoaXMuX2VuZ2luZT1vLG51bGwhPW4mJih0aGlzLmxvb3A9biksZSYmZVswXSYmKHRoaXMuZHJhd0hlaWdodD1lWzBdP2VbMF0uZHJhd0hlaWdodDowLHRoaXMuZHJhd1dpZHRoPWVbMF0/ZVswXS5kcmF3V2lkdGg6MCx0aGlzLndpZHRoPWVbMF0/ZVswXS53aWR0aDowLHRoaXMuaGVpZ2h0PWVbMF0/ZVswXS5oZWlnaHQ6MCx0aGlzLmZyZWV6ZUZyYW1lPWUubGVuZ3RoLTEpfXJldHVybiB0LnByb3RvdHlwZS5vcGFjaXR5PWZ1bmN0aW9uKHQpe3RoaXMuYWRkRWZmZWN0KG5ldyB0ZSh0KSl9LHQucHJvdG90eXBlLmdyYXlzY2FsZT1mdW5jdGlvbigpe3RoaXMuYWRkRWZmZWN0KG5ldyBKdCl9LHQucHJvdG90eXBlLmludmVydD1mdW5jdGlvbigpe3RoaXMuYWRkRWZmZWN0KG5ldyAkdCl9LHQucHJvdG90eXBlLmZpbGw9ZnVuY3Rpb24odCl7dGhpcy5hZGRFZmZlY3QobmV3IHNlKHQpKX0sdC5wcm90b3R5cGUuY29sb3JpemU9ZnVuY3Rpb24odCl7dGhpcy5hZGRFZmZlY3QobmV3IGVlKHQpKX0sdC5wcm90b3R5cGUubGlnaHRlbj1mdW5jdGlvbih0KXt2b2lkIDA9PT10JiYodD0uMSksdGhpcy5hZGRFZmZlY3QobmV3IGllKHQpKX0sdC5wcm90b3R5cGUuZGFya2VuPWZ1bmN0aW9uKHQpe3ZvaWQgMD09PXQmJih0PS4xKSx0aGlzLmFkZEVmZmVjdChuZXcgbmUodCkpfSx0LnByb3RvdHlwZS5zYXR1cmF0ZT1mdW5jdGlvbih0KXt2b2lkIDA9PT10JiYodD0uMSksdGhpcy5hZGRFZmZlY3QobmV3IG9lKHQpKX0sdC5wcm90b3R5cGUuZGVzYXR1cmF0ZT1mdW5jdGlvbih0KXt2b2lkIDA9PT10JiYodD0uMSksdGhpcy5hZGRFZmZlY3QobmV3IHJlKHQpKX0sdC5wcm90b3R5cGUuYWRkRWZmZWN0PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZSBpbiB0aGlzLnNwcml0ZXMpdGhpcy5zcHJpdGVzW2VdLmFkZEVmZmVjdCh0KX0sdC5wcm90b3R5cGUucmVtb3ZlRWZmZWN0PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZSBpbiB0aGlzLnNwcml0ZXMpdGhpcy5zcHJpdGVzW2VdLnJlbW92ZUVmZmVjdCh0KX0sdC5wcm90b3R5cGUuY2xlYXJFZmZlY3RzPWZ1bmN0aW9uKCl7Zm9yKHZhciB0IGluIHRoaXMuc3ByaXRlcyl0aGlzLnNwcml0ZXNbdF0uY2xlYXJFZmZlY3RzKCl9LHQucHJvdG90eXBlLl9zZXRBbmNob3I9ZnVuY3Rpb24odCl7Zm9yKHZhciBlIGluIHRoaXMuc3ByaXRlcyl0aGlzLnNwcml0ZXNbZV0uYW5jaG9yLnNldFRvKHQueCx0LnkpfSx0LnByb3RvdHlwZS5fc2V0Um90YXRpb249ZnVuY3Rpb24odCl7Zm9yKHZhciBlIGluIHRoaXMuc3ByaXRlcyl0aGlzLnNwcml0ZXNbZV0ucm90YXRpb249dH0sdC5wcm90b3R5cGUuX3NldFNjYWxlPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZSBpbiB0aGlzLnNwcml0ZXMpdGhpcy5zcHJpdGVzW2VdLnNjYWxlPXR9LHQucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5jdXJyZW50RnJhbWU9MH0sdC5wcm90b3R5cGUuaXNEb25lPWZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMubG9vcCYmdGhpcy5jdXJyZW50RnJhbWU+PXRoaXMuc3ByaXRlcy5sZW5ndGh9LHQucHJvdG90eXBlLnRpY2s9ZnVuY3Rpb24oKXt2YXIgdD1EYXRlLm5vdygpO3QtdGhpcy5fb2xkVGltZT50aGlzLnNwZWVkJiYodGhpcy5jdXJyZW50RnJhbWU9dGhpcy5sb29wPyh0aGlzLmN1cnJlbnRGcmFtZSsxKSV0aGlzLnNwcml0ZXMubGVuZ3RoOnRoaXMuY3VycmVudEZyYW1lKzEsdGhpcy5fb2xkVGltZT10KX0sdC5wcm90b3R5cGUuX3VwZGF0ZVZhbHVlcz1mdW5jdGlvbigpe3RoaXMuX3NldEFuY2hvcih0aGlzLmFuY2hvciksdGhpcy5fc2V0Um90YXRpb24odGhpcy5yb3RhdGlvbiksdGhpcy5fc2V0U2NhbGUodGhpcy5zY2FsZSl9LHQucHJvdG90eXBlLnNraXA9ZnVuY3Rpb24odCl7dGhpcy5jdXJyZW50RnJhbWU9KHRoaXMuY3VycmVudEZyYW1lK3QpJXRoaXMuc3ByaXRlcy5sZW5ndGh9LHQucHJvdG90eXBlLmRyYXc9ZnVuY3Rpb24odCxlLGkpe3ZhciBuO3RoaXMudGljaygpLHRoaXMuX3VwZGF0ZVZhbHVlcygpLHRoaXMuY3VycmVudEZyYW1lPHRoaXMuc3ByaXRlcy5sZW5ndGgmJihuPXRoaXMuc3ByaXRlc1t0aGlzLmN1cnJlbnRGcmFtZV0sdGhpcy5mbGlwVmVydGljYWwmJihuLmZsaXBWZXJ0aWNhbD10aGlzLmZsaXBWZXJ0aWNhbCksdGhpcy5mbGlwSG9yaXpvbnRhbCYmKG4uZmxpcEhvcml6b250YWw9dGhpcy5mbGlwSG9yaXpvbnRhbCksbi5kcmF3KHQsZSxpKSksLTEhPT10aGlzLmZyZWV6ZUZyYW1lJiZ0aGlzLmN1cnJlbnRGcmFtZT49dGhpcy5zcHJpdGVzLmxlbmd0aCYmKG49dGhpcy5zcHJpdGVzW3YodGhpcy5mcmVlemVGcmFtZSwwLHRoaXMuc3ByaXRlcy5sZW5ndGgtMSldKS5kcmF3KHQsZSxpKSxuJiYodGhpcy5kcmF3V2lkdGg9bi5kcmF3V2lkdGgsdGhpcy5kcmF3SGVpZ2h0PW4uZHJhd0hlaWdodCl9LHQucHJvdG90eXBlLnBsYXk9ZnVuY3Rpb24odCxlKXt0aGlzLnJlc2V0KCksdGhpcy5fZW5naW5lLnBsYXlBbmltYXRpb24odGhpcyx0LGUpfSx0fSgpKSkscW49ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMubGluZVdpZHRoPTUsdGhpcy5maWxsZWQ9ITEsdGhpcy5fcG9pbnRzPVtdLHRoaXMuYW5jaG9yPW5ldyBGKDAsMCksdGhpcy5yb3RhdGlvbj0wLHRoaXMuc2NhbGU9bmV3IEYoMSwxKSx0aGlzLl9wb2ludHM9dDt2YXIgZT10aGlzLl9wb2ludHMucmVkdWNlKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIE1hdGgubWluKHQsZS54KX0sMCksaT10aGlzLl9wb2ludHMucmVkdWNlKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIE1hdGgubWF4KHQsZS54KX0sMCk7dGhpcy5kcmF3V2lkdGg9aS1lO3ZhciBuPXRoaXMuX3BvaW50cy5yZWR1Y2UoZnVuY3Rpb24odCxlKXtyZXR1cm4gTWF0aC5taW4odCxlLnkpfSwwKSxvPXRoaXMuX3BvaW50cy5yZWR1Y2UoZnVuY3Rpb24odCxlKXtyZXR1cm4gTWF0aC5tYXgodCxlLnkpfSwwKTt0aGlzLmRyYXdIZWlnaHQ9by1uLHRoaXMuaGVpZ2h0PXRoaXMuZHJhd0hlaWdodCx0aGlzLndpZHRoPXRoaXMuZHJhd1dpZHRofXJldHVybiB0LnByb3RvdHlwZS5hZGRFZmZlY3Q9ZnVuY3Rpb24oKXt9LHQucHJvdG90eXBlLnJlbW92ZUVmZmVjdD1mdW5jdGlvbigpe30sdC5wcm90b3R5cGUuY2xlYXJFZmZlY3RzPWZ1bmN0aW9uKCl7fSx0LnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe30sdC5wcm90b3R5cGUuZHJhdz1mdW5jdGlvbih0LGUsaSl7dC5zYXZlKCksdC50cmFuc2xhdGUoZSt0aGlzLmFuY2hvci54LGkrdGhpcy5hbmNob3IueSksdC5zY2FsZSh0aGlzLnNjYWxlLngsdGhpcy5zY2FsZS55KSx0LnJvdGF0ZSh0aGlzLnJvdGF0aW9uKSx0LmJlZ2luUGF0aCgpLHQubGluZVdpZHRoPXRoaXMubGluZVdpZHRoO3ZhciBuPXRoaXMuX3BvaW50c1swXTt0Lm1vdmVUbyhuLngsbi55KTtmb3IodmFyIG89MCxyPXRoaXMuX3BvaW50cy5sZW5ndGg7bzxyO28rKyl0LmxpbmVUbyh0aGlzLl9wb2ludHNbb10ueCx0aGlzLl9wb2ludHNbb10ueSk7dC5saW5lVG8obi54LG4ueSksdC5jbG9zZVBhdGgoKSx0aGlzLmZpbGxlZCYmKHQuZmlsbFN0eWxlPXRoaXMuZmlsbENvbG9yLnRvU3RyaW5nKCksdC5maWxsKCkpLHQuc3Ryb2tlU3R5bGU9dGhpcy5saW5lQ29sb3IudG9TdHJpbmcoKSx0aGlzLmZsaXBIb3Jpem9udGFsJiYodC50cmFuc2xhdGUodGhpcy5kcmF3V2lkdGgsMCksdC5zY2FsZSgtMSwxKSksdGhpcy5mbGlwVmVydGljYWwmJih0LnRyYW5zbGF0ZSgwLHRoaXMuZHJhd0hlaWdodCksdC5zY2FsZSgxLC0xKSksdC5zdHJva2UoKSx0LnJlc3RvcmUoKX0sdH0oKSxHbj1mdW5jdGlvbigpe3ZhciB0PWZ1bmN0aW9uKGUsaSl7cmV0dXJuKHQ9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKHQsZSl7dC5fX3Byb3RvX189ZX18fGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShpKSYmKHRbaV09ZVtpXSl9KShlLGkpfTtyZXR1cm4gZnVuY3Rpb24oZSxpKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfXQoZSxpKSxlLnByb3RvdHlwZT1udWxsPT09aT9PYmplY3QuY3JlYXRlKGkpOihuLnByb3RvdHlwZT1pLnByb3RvdHlwZSxuZXcgbil9fSgpLFZuPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxpLG4sbyxyLHMpe3JldHVybiB0LmNhbGwodGhpcyxlLGksbixvLHIscyl8fHRoaXN9cmV0dXJuIEduKGUsdCksZX0oaGUoZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxpLG4sbyxyKXt2YXIgcz10aGlzO3RoaXMuc3ByaXRlcz1bXSx0aGlzLmltYWdlPW51bGwsdGhpcy5jb2x1bW5zPTAsdGhpcy5yb3dzPTAsdGhpcy5zcFdpZHRoPTAsdGhpcy5zcEhlaWdodD0wLHRoaXMuc3BhY2luZz0wO3ZhciBhPSExO2lmKHQgaW5zdGFuY2VvZiBBcnJheT90aGlzLnNwcml0ZXM9dDooIXR8fHQgaW5zdGFuY2VvZiBkZT8odGhpcy5pbWFnZT10LHRoaXMuY29sdW1ucz1lLHRoaXMucm93cz1pLHRoaXMuc3BXaWR0aD1uLHRoaXMuc3BIZWlnaHQ9byx0aGlzLnNwYWNpbmc9cnx8MCk6KHRoaXMuY29sdW1ucz10LmNvbHVtbnMsdGhpcy5yb3dzPXQucm93cyx0aGlzLnNwV2lkdGg9dC5zcFdpZHRoLHRoaXMuc3BIZWlnaHQ9dC5zcEhlaWdodCx0aGlzLmltYWdlPXQuaW1hZ2UsdGhpcy5zcGFjaW5nPXQuc3BhY2luZ3x8MCksdGhpcy5zcHJpdGVzPW5ldyBBcnJheSh0aGlzLmNvbHVtbnMqdGhpcy5yb3dzKSxhPSEwKSx0aGlzLmltYWdlIGluc3RhbmNlb2YgZGUpe3ZhciBoPSExLGM9ITE7aWYodGhpcy5pbWFnZS5sb2FkZWQudGhlbihmdW5jdGlvbih0KXtoPXMuc3BXaWR0aCpzLmNvbHVtbnM+dC5uYXR1cmFsV2lkdGgsYz1zLnNwSGVpZ2h0KnMucm93cz50Lm5hdHVyYWxIZWlnaHR9KSxoKXRocm93IG5ldyBSYW5nZUVycm9yKFwiU3ByaXRlU2hlZXQgc3BlY2lmaWVkIGlzIHdpZGVyLCBcIit0aGlzLmNvbHVtbnMrXCIgY29scyB4IFwiK3RoaXMuc3BXaWR0aCtcIiBwaXhlbHMgPiBcIit0aGlzLmltYWdlLmltYWdlLm5hdHVyYWxXaWR0aCtcIiBwaXhlbHMgdGhhbiBpbWFnZSB3aWR0aFwiKTtpZihjKXRocm93IG5ldyBSYW5nZUVycm9yKFwiU3ByaXRlU2hlZXQgc3BlY2lmaWVkIGlzIHRhbGxlciwgXCIrdGhpcy5yb3dzK1wiIHJvd3MgeCBcIit0aGlzLnNwSGVpZ2h0K1wiIHBpeGVscyA+IFwiK3RoaXMuaW1hZ2UuaW1hZ2UubmF0dXJhbEhlaWdodCtcIiBwaXhlbHMgdGhhbiBpbWFnZSBoZWlnaHRcIil9aWYoYSlmb3IodmFyIHU9MDt1PHRoaXMucm93czt1KyspZm9yKHZhciBsPTA7bDx0aGlzLmNvbHVtbnM7bCsrKXRoaXMuc3ByaXRlc1tsK3UqdGhpcy5jb2x1bW5zXT1uZXcgbGUodGhpcy5pbWFnZSxsKnRoaXMuc3BXaWR0aCt0aGlzLnNwYWNpbmcqbCt0aGlzLnNwYWNpbmcsdSp0aGlzLnNwSGVpZ2h0K3RoaXMuc3BhY2luZyp1K3RoaXMuc3BhY2luZyx0aGlzLnNwV2lkdGgsdGhpcy5zcEhlaWdodCl9cmV0dXJuIHQucHJvdG90eXBlLmdldEFuaW1hdGlvbkJ5SW5kaWNlcz1mdW5jdGlvbih0LGUsaSl7dmFyIG49dGhpcyxvPWUubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBuLnNwcml0ZXNbdF19KTtyZXR1cm4gbz1vLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC5jbG9uZSgpfSksbmV3IE5uKHQsbyxpKX0sdC5wcm90b3R5cGUuZ2V0QW5pbWF0aW9uQmV0d2Vlbj1mdW5jdGlvbih0LGUsaSxuKXt2YXIgbz10aGlzLnNwcml0ZXMuc2xpY2UoZSxpKTtyZXR1cm4gbz1vLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC5jbG9uZSgpfSksbmV3IE5uKHQsbyxuKX0sdC5wcm90b3R5cGUuZ2V0QW5pbWF0aW9uRm9yQWxsPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5zcHJpdGVzLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC5jbG9uZSgpfSk7cmV0dXJuIG5ldyBObih0LGksZSl9LHQucHJvdG90eXBlLmdldFNwcml0ZT1mdW5jdGlvbih0KXtpZih0Pj0wJiZ0PHRoaXMuc3ByaXRlcy5sZW5ndGgpcmV0dXJuIHRoaXMuc3ByaXRlc1t0XTt0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGluZGV4OiBcIit0KX0sdC5wcm90b3R5cGUuZ2V0QW5pbWF0aW9uQnlDb29yZHM9ZnVuY3Rpb24odCxlLGkpe2Zvcih2YXIgbj0wLG89MCxyPW5ldyBBcnJheShlLmxlbmd0aCkscz0wO3M8ZS5sZW5ndGg7cysrKXt2YXIgYT1lW3NdO2EuaW1hZ2U9YS5pbWFnZXx8dGhpcy5pbWFnZSxuPU1hdGgubWF4KG4sYS5kcmF3V2lkdGgpLG89TWF0aC5tYXgobyxhLmRyYXdIZWlnaHQpLHJbc109bmV3IGxlKGEpfXZhciBoPW5ldyBObih0LHIsaSk7cmV0dXJuIGguZHJhd1dpZHRoPW4saC5kcmF3SGVpZ2h0PW8saH0sdH0oKSkpLFhuPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxpLG4sbyxyLHMsYSxoKXtyZXR1cm4gdC5jYWxsKHRoaXMsZSxpLG4sbyxyLHMsYSxoKXx8dGhpc31yZXR1cm4gR24oZSx0KSxlfShoZShmdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsaSxuLG8scixzLGEsaCl7dmFyIGM9dC5jYWxsKHRoaXMsZSBpbnN0YW5jZW9mIGRlP3tpbWFnZTplLHNwV2lkdGg6cyxzcEhlaWdodDphLHJvd3M6cixjb2x1bW5zOm8sc3BhY2luZzpofHwwfTplKXx8dGhpcztyZXR1cm4gYy5fY3VycmVudENvbG9yPUF0LkJsYWNrLGMuX2N1cnJlbnRPcGFjaXR5PTEsYy5fc3ByaXRlcz17fSxjLl90ZXh0U2hhZG93T249ITEsYy5fdGV4dFNoYWRvd0RpcnR5PSEwLGMuX3RleHRTaGFkb3dDb2xvcj1BdC5CbGFjayxjLl90ZXh0U2hhZG93U3ByaXRlcz17fSxjLl9zaGFkb3dPZmZzZXRYPTUsYy5fc2hhZG93T2Zmc2V0WT01LCFlfHxlIGluc3RhbmNlb2YgZGV8fChpPWUuYWxwaGFiZXQsbj1lLmNhc2VJbnNlbnNpdGl2ZSksYy5fYWxwaGFiZXQ9aSxjLl9jYXNlSW5zZW5zaXRpdmU9bixjLl9zcHJpdGVzPWMuZ2V0VGV4dFNwcml0ZXMoKSxjfXJldHVybiBHbihlLHQpLGUucHJvdG90eXBlLmdldFRleHRTcHJpdGVzPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXt9LGU9MDtlPHRoaXMuX2FscGhhYmV0Lmxlbmd0aDtlKyspe3ZhciBpPXRoaXMuX2FscGhhYmV0W2VdO3RoaXMuX2Nhc2VJbnNlbnNpdGl2ZSYmKGk9aS50b0xvd2VyQ2FzZSgpKSx0W2ldPXRoaXMuc3ByaXRlc1tlXS5jbG9uZSgpfXJldHVybiB0fSxlLnByb3RvdHlwZS5zZXRUZXh0U2hhZG93PWZ1bmN0aW9uKHQsZSxpKXtmb3IodmFyIG4gaW4gdGhpcy5fdGV4dFNoYWRvd09uPSEwLHRoaXMuX3NoYWRvd09mZnNldFg9dCx0aGlzLl9zaGFkb3dPZmZzZXRZPWUsdGhpcy5fdGV4dFNoYWRvd0NvbG9yPWkuY2xvbmUoKSx0aGlzLl90ZXh0U2hhZG93RGlydHk9ITAsdGhpcy5fc3ByaXRlcyl0aGlzLl90ZXh0U2hhZG93U3ByaXRlc1tuXT10aGlzLl9zcHJpdGVzW25dLmNsb25lKCl9LGUucHJvdG90eXBlLnVzZVRleHRTaGFkb3c9ZnVuY3Rpb24odCl7dGhpcy5fdGV4dFNoYWRvd09uPXQsdCYmdGhpcy5zZXRUZXh0U2hhZG93KDUsNSx0aGlzLl90ZXh0U2hhZG93Q29sb3IpfSxlLnByb3RvdHlwZS5kcmF3PWZ1bmN0aW9uKHQsZSxpLG4sbyl7aWYobz10aGlzLl9wYXJzZU9wdGlvbnMobyksdGhpcy5fY3VycmVudENvbG9yLnRvU3RyaW5nKCkhPT1vLmNvbG9yLnRvU3RyaW5nKCl8fHRoaXMuX2N1cnJlbnRPcGFjaXR5IT09by5vcGFjaXR5KWZvcih2YXIgciBpbiB0aGlzLl9jdXJyZW50T3BhY2l0eT1vLm9wYWNpdHksdGhpcy5fY3VycmVudENvbG9yPW8uY29sb3IsdGhpcy5fc3ByaXRlcyl0aGlzLl9zcHJpdGVzW3JdLmNsZWFyRWZmZWN0cygpLHRoaXMuX3Nwcml0ZXNbcl0uZmlsbChvLmNvbG9yKSx0aGlzLl9zcHJpdGVzW3JdLm9wYWNpdHkoby5vcGFjaXR5KTtpZih0aGlzLl90ZXh0U2hhZG93T24mJnRoaXMuX3RleHRTaGFkb3dEaXJ0eSYmdGhpcy5fdGV4dFNoYWRvd0NvbG9yKXtmb3IodmFyIHMgaW4gdGhpcy5fdGV4dFNoYWRvd1Nwcml0ZXMpdGhpcy5fdGV4dFNoYWRvd1Nwcml0ZXNbc10uY2xlYXJFZmZlY3RzKCksdGhpcy5fdGV4dFNoYWRvd1Nwcml0ZXNbc10uYWRkRWZmZWN0KG5ldyBzZSh0aGlzLl90ZXh0U2hhZG93Q29sb3IuY2xvbmUoKSkpO3RoaXMuX3RleHRTaGFkb3dEaXJ0eT0hMX12YXIgYT10aGlzLnNwcml0ZXNbMF0saD1hLmRyYXdIZWlnaHQsYz1vLmZvbnRTaXplL2gsdT1lLmxlbmd0aCphLmRyYXdXaWR0aCpjK2UubGVuZ3RoKm8ubGV0dGVyU3BhY2luZyxsPWk7by50ZXh0QWxpZ249PT1CaS5MZWZ0fHxvLnRleHRBbGlnbj09PUJpLlN0YXJ0P2w9aTpvLnRleHRBbGlnbj09PUJpLlJpZ2h0fHxvLnRleHRBbGlnbj09PUJpLkVuZD9sPWktdTpvLnRleHRBbGlnbj09PUJpLkNlbnRlciYmKGw9aS11LzIpO3ZhciBwPW4taCpjO28uYmFzZUFsaWduPT09RGkuVG9wfHxvLmJhc2VBbGlnbj09PURpLkhhbmdpbmc/cD1uOm8uYmFzZUFsaWduPT09RGkuSWRlb2dyYXBoaWN8fG8uYmFzZUFsaWduPT09RGkuQm90dG9tfHxvLmJhc2VBbGlnbj09PURpLkFscGhhYmV0aWM/cD1uLWgqYzpvLmJhc2VBbGlnbj09PURpLk1pZGRsZSYmKHA9bi1oKmMvMik7Zm9yKHZhciBkPTA7ZDxlLmxlbmd0aDtkKyspe3ZhciBmPWVbZF07dGhpcy5fY2FzZUluc2Vuc2l0aXZlJiYoZj1mLnRvTG93ZXJDYXNlKCkpO3RyeXt0aGlzLl90ZXh0U2hhZG93T24mJih0aGlzLl90ZXh0U2hhZG93U3ByaXRlc1tmXS5zY2FsZS54PWMsdGhpcy5fdGV4dFNoYWRvd1Nwcml0ZXNbZl0uc2NhbGUueT1jLHRoaXMuX3RleHRTaGFkb3dTcHJpdGVzW2ZdLmRyYXcodCxsK3RoaXMuX3NoYWRvd09mZnNldFgscCt0aGlzLl9zaGFkb3dPZmZzZXRZKSk7dmFyIGc9dGhpcy5fc3ByaXRlc1tmXTtnLnNjYWxlLng9YyxnLnNjYWxlLnk9YyxnLmRyYXcodCxsLHApLGwrPWcuZHJhd1dpZHRoK28ubGV0dGVyU3BhY2luZ31jYXRjaCh0KXtOdC5nZXRJbnN0YW5jZSgpLmVycm9yKFwiU3ByaXRlRm9udCBFcnJvciBkcmF3aW5nIGNoYXIgXCIrZil9fX0sZS5wcm90b3R5cGUuX3BhcnNlT3B0aW9ucz1mdW5jdGlvbih0KXtyZXR1cm57Zm9udFNpemU6dC5mb250U2l6ZXx8MTAsbGV0dGVyU3BhY2luZzp0LmxldHRlclNwYWNpbmd8fDAsY29sb3I6dC5jb2xvcnx8QXQuQmxhY2ssdGV4dEFsaWduOnZvaWQgMD09PXR5cGVvZiB0LnRleHRBbGlnbj9CaS5MZWZ0OnQudGV4dEFsaWduLGJhc2VBbGlnbjp2b2lkIDA9PT10eXBlb2YgdC5iYXNlQWxpZ24/RGkuQm90dG9tOnQuYmFzZUFsaWduLG1heFdpZHRoOnQubWF4V2lkdGh8fC0xLG9wYWNpdHk6dC5vcGFjaXR5fHwwfX0sZX0oVm4pKSksS249ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnR5cGU9e2FueTpcIlwiLGJsb2I6XCJibG9iXCIsanNvbjpcImpzb25cIix0ZXh0OlwidGV4dFwiLGRvY3VtZW50OlwiZG9jdW1lbnRcIixhcnJheWJ1ZmZlcjpcImFycmF5YnVmZmVyXCJ9LHR9KCk7ZnVuY3Rpb24gWW4odCxlLGkpe3JldHVybiBlK3QqKGktZSl9ZnVuY3Rpb24gWm4odCl7cmV0dXJuIHQqdCp0Kih0Kig2KnQtMTUpKzEwKX12YXIgUW4sSm49ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuX3Blcm09WzE1MSwxNjAsMTM3LDkxLDkwLDE1LDEzMSwxMywyMDEsOTUsOTYsNTMsMTk0LDIzMyw3LDIyNSwxNDAsMzYsMTAzLDMwLDY5LDE0Miw4LDk5LDM3LDI0MCwyMSwxMCwyMywxOTAsNiwxNDgsMjQ3LDEyMCwyMzQsNzUsMCwyNiwxOTcsNjIsOTQsMjUyLDIxOSwyMDMsMTE3LDM1LDExLDMyLDU3LDE3NywzMyw4OCwyMzcsMTQ5LDU2LDg3LDE3NCwyMCwxMjUsMTM2LDE3MSwxNjgsNjgsMTc1LDc0LDE2NSw3MSwxMzQsMTM5LDQ4LDI3LDE2Niw3NywxNDYsMTU4LDIzMSw4MywxMTEsMjI5LDEyMiw2MCwyMTEsMTMzLDIzMCwyMjAsMTA1LDkyLDQxLDU1LDQ2LDI0NSw0MCwyNDQsMTAyLDE0Myw1NCw2NSwyNSw2MywxNjEsMSwyMTYsODAsNzMsMjA5LDc2LDEzMiwxODcsMjA4LDg5LDE4LDE2OSwyMDAsMTk2LDEzNSwxMzAsMTE2LDE4OCwxNTksODYsMTY0LDEwMCwxMDksMTk4LDE3MywxODYsMyw2NCw1MiwyMTcsMjI2LDI1MCwxMjQsMTIzLDUsMjAyLDM4LDE0NywxMTgsMTI2LDI1NSw4Miw4NSwyMTIsMjA3LDIwNiw1OSwyMjcsNDcsMTYsNTgsMTcsMTgyLDE4OSwyOCw0MiwyMjMsMTgzLDE3MCwyMTMsMTE5LDI0OCwxNTIsMiw0NCwxNTQsMTYzLDcwLDIyMSwxNTMsMTAxLDE1NSwxNjcsNDMsMTcyLDksMTI5LDIyLDM5LDI1MywxOSw5OCwxMDgsMTEwLDc5LDExMywyMjQsMjMyLDE3OCwxODUsMTEyLDEwNCwyMTgsMjQ2LDk3LDIyOCwyNTEsMzQsMjQyLDE5MywyMzgsMjEwLDE0NCwxMiwxOTEsMTc5LDE2MiwyNDEsODEsNTEsMTQ1LDIzNSwyNDksMTQsMjM5LDEwNyw0OSwxOTIsMjE0LDMxLDE4MSwxOTksMTA2LDE1NywxODQsODQsMjA0LDE3NiwxMTUsMTIxLDUwLDQ1LDEyNyw0LDE1MCwyNTQsMTM4LDIzNiwyMDUsOTMsMjIyLDExNCw2NywyOSwyNCw3MiwyNDMsMTQxLDEyOCwxOTUsNzgsNjYsMjE1LDYxLDE1NiwxODBdLHRoaXMuX3A9bmV3IFVpbnQ4QXJyYXkoNTEyKSx0aGlzLl9kZWZhdWx0UGVybGluT3B0aW9ucz17b2N0YXZlczoxLGZyZXF1ZW5jeToxLGFtcGxpdHVkZToxLHBlcnNpc3RhbmNlOi41fSx0PXkoe30sdGhpcy5fZGVmYXVsdFBlcmxpbk9wdGlvbnMsdCksdGhpcy5wZXJzaXN0YW5jZT10LnBlcnNpc3RhbmNlLHRoaXMuYW1wbGl0dWRlPXQuYW1wbGl0dWRlLHRoaXMuZnJlcXVlbmN5PXQuZnJlcXVlbmN5LHRoaXMub2N0YXZlcz10Lm9jdGF2ZXMsdC5zZWVkP3RoaXMuX3JhbmRvbT1uZXcgZih0LnNlZWQpOnRoaXMuX3JhbmRvbT1uZXcgZix0aGlzLl9wZXJtPXRoaXMuX3JhbmRvbS5zaHVmZmxlKHRoaXMuX3Blcm0pO2Zvcih2YXIgZT0wO2U8NTEyO2UrKyl0aGlzLl9wW2VdPTI1NSZ0aGlzLl9wZXJtW2UlMjU2XX1yZXR1cm4gdC5wcm90b3R5cGUubm9pc2U9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5hbXBsaXR1ZGUsZT10aGlzLmZyZXF1ZW5jeSxpPTAsbj0wLG89MDtvPHRoaXMub2N0YXZlcztvKyspe3N3aXRjaChhcmd1bWVudHMubGVuZ3RoKXtjYXNlIDE6aSs9dGhpcy5fbm9pc2UxZChhcmd1bWVudHNbMF0qZSkqdDticmVhaztjYXNlIDI6aSs9dGhpcy5fbm9pc2UyZChhcmd1bWVudHNbMF0qZSxhcmd1bWVudHNbMV0qZSkqdDticmVhaztjYXNlIDM6aSs9dGhpcy5fbm9pc2UzZChhcmd1bWVudHNbMF0qZSxhcmd1bWVudHNbMV0qZSxhcmd1bWVudHNbMl0qZSkqdDticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcihcIkludmFsaWQgYXJndW1lbnRzIGZvciBwZXJsaW4gbm9pc2VcIil9bis9dCx0Kj10aGlzLnBlcnNpc3RhbmNlLGUqPTJ9cmV0dXJuIGkvbn0sdC5wcm90b3R5cGUuc2VxdWVuY2U9ZnVuY3Rpb24odCxlKXtlfHwoZT0xL3QpO2Zvcih2YXIgaT1uZXcgQXJyYXkodCksbj0wO248dDtuKyspaVtuXT10aGlzLm5vaXNlKG4qZSk7cmV0dXJuIGl9LHQucHJvdG90eXBlLmdyaWQ9ZnVuY3Rpb24odCxlLGkpe2l8fChpPTEvTWF0aC5taW4odCxlKSk7Zm9yKHZhciBuPW5ldyBBcnJheSh0KmUpLG89MDtvPGU7bysrKWZvcih2YXIgcj0wO3I8dDtyKyspbltyK28qdF09dGhpcy5ub2lzZShyKmksbyppKTtyZXR1cm4gbn0sdC5wcm90b3R5cGUuX2dyYWRpZW50M2Q9ZnVuY3Rpb24odCxlLGksbil7dmFyIG89MTUmdCxyPW88OD9lOmkscz1vPDQ/aToxMj09PW98fDE0PT09bz9lOm47cmV0dXJuKDA9PSgxJm8pP3I6LXIpKygwPT0oMiZvKT9zOi1zKX0sdC5wcm90b3R5cGUuX2dyYWRpZW50MmQ9ZnVuY3Rpb24odCxlLGkpe3ZhciBuPTA9PSgxJnQpP2U6aTtyZXR1cm4gMD09KDImdCk/LW46bn0sdC5wcm90b3R5cGUuX2dyYWRpZW50MWQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gMD09KDEmdCk/LWU6ZX0sdC5wcm90b3R5cGUuX25vaXNlMWQ9ZnVuY3Rpb24odCl7dmFyIGU9MjU1Jk1hdGguZmxvb3IodCk7cmV0dXJuKFluKFpuKHQtPU1hdGguZmxvb3IodCkpLHRoaXMuX2dyYWRpZW50MWQodGhpcy5fcFtlXSx0KSx0aGlzLl9ncmFkaWVudDFkKHRoaXMuX3BbZSsxXSx0LTEpKSsxKS8yfSx0LnByb3RvdHlwZS5fbm9pc2UyZD1mdW5jdGlvbih0LGUpe3ZhciBpPTI1NSZNYXRoLmZsb29yKHQpLG49MjU1Jk1hdGguZmxvb3IoZSk7dC09TWF0aC5mbG9vcih0KSxlLT1NYXRoLmZsb29yKGUpO3ZhciBvPVpuKHQpLHI9Wm4oZSkscz10aGlzLl9wW2ldK24sYT10aGlzLl9wW2krMV0rbjtyZXR1cm4oWW4ocixZbihvLHRoaXMuX2dyYWRpZW50MmQodGhpcy5fcFtzXSx0LGUpLHRoaXMuX2dyYWRpZW50MmQodGhpcy5fcFthXSx0LTEsZSkpLFluKG8sdGhpcy5fZ3JhZGllbnQyZCh0aGlzLl9wW3MrMV0sdCxlLTEpLHRoaXMuX2dyYWRpZW50MmQodGhpcy5fcFthKzFdLHQtMSxlLTEpKSkrMSkvMn0sdC5wcm90b3R5cGUuX25vaXNlM2Q9ZnVuY3Rpb24odCxlLGkpe3ZhciBuPTI1NSZNYXRoLmZsb29yKHQpLG89MjU1Jk1hdGguZmxvb3IoZSkscj0yNTUmTWF0aC5mbG9vcihpKTt0LT1NYXRoLmZsb29yKHQpLGUtPU1hdGguZmxvb3IoZSksaS09TWF0aC5mbG9vcihpKTt2YXIgcz1abih0KSxhPVpuKGUpLGg9Wm4oaSksYz10aGlzLl9wW25dK28sdT10aGlzLl9wW24rMV0rbyxsPXRoaXMuX3BbY10rcixwPXRoaXMuX3BbdV0rcixkPXRoaXMuX3BbYysxXStyLGY9dGhpcy5fcFt1KzFdK3I7cmV0dXJuKFluKGgsWW4oYSxZbihzLHRoaXMuX2dyYWRpZW50M2QodGhpcy5fcFtsXSx0LGUsaSksdGhpcy5fZ3JhZGllbnQzZCh0aGlzLl9wW3BdLHQtMSxlLGkpKSxZbihzLHRoaXMuX2dyYWRpZW50M2QodGhpcy5fcFtkXSx0LGUtMSxpKSx0aGlzLl9ncmFkaWVudDNkKHRoaXMuX3BbZl0sdC0xLGUtMSxpKSkpLFluKGEsWW4ocyx0aGlzLl9ncmFkaWVudDNkKHRoaXMuX3BbbCsxXSx0LGUsaS0xKSx0aGlzLl9ncmFkaWVudDNkKHRoaXMuX3BbcCsxXSx0LTEsZSxpLTEpKSxZbihzLHRoaXMuX2dyYWRpZW50M2QodGhpcy5fcFtkKzFdLHQsZS0xLGktMSksdGhpcy5fZ3JhZGllbnQzZCh0aGlzLl9wW2YrMV0sdC0xLGUtMSxpLTEpKSkpKzEpLzJ9LHR9KCksJG49ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5nZW5lcmF0b3I9dCx0aGlzLmNvbG9yRmNuPWUsZXx8KHRoaXMuY29sb3JGY249ZnVuY3Rpb24odCl7cmV0dXJuIHQ8MTI1P0F0LkJsYWNrOkF0LldoaXRlfSl9cmV0dXJuIHQucHJvdG90eXBlLmltYWdlPWZ1bmN0aW9uKHQsZSl7dmFyIGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKSxuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7bi53aWR0aD10LG4uaGVpZ2h0PWU7dmFyIG89bi5nZXRDb250ZXh0KFwiMmRcIik7cmV0dXJuIHRoaXMuZHJhdyhvLDAsMCx0LGUpLGkuc3JjPW4udG9EYXRhVVJMKCksaX0sdC5wcm90b3R5cGUuZHJhdz1mdW5jdGlvbih0LGUsaSxuLG8pe2Zvcih2YXIgcj10aGlzLmdlbmVyYXRvci5ncmlkKG4sbykscz10LmdldEltYWdlRGF0YShlLGksbixvKSxhPTA7YTxvO2ErKylmb3IodmFyIGg9MDtoPG47aCsrKXt2YXIgYz1yW2grbiphXSx1PTI1NSZNYXRoLmZsb29yKDI1NSpjKSxsPTQqKGgrYSpzLndpZHRoKSxwPXRoaXMuY29sb3JGY24odSk7cy5kYXRhW2xdPXAucixzLmRhdGFbbCsxXT1wLmcscy5kYXRhW2wrMl09cC5iLHMuZGF0YVtsKzNdPU1hdGguZmxvb3IoMjU1KnAuYSl9dC5wdXRJbWFnZURhdGEocyxlLGkpfSx0fSgpOyFmdW5jdGlvbih0KXt0W3QuUHJvdGFub3BlPTBdPVwiUHJvdGFub3BlXCIsdFt0LkRldXRlcmFub3BlPTFdPVwiRGV1dGVyYW5vcGVcIix0W3QuVHJpdGFub3BlPTJdPVwiVHJpdGFub3BlXCJ9KFFufHwoUW49e30pKTt2YXIgdG89ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxpKXt2b2lkIDA9PT1lJiYoZT0hMSksdm9pZCAwPT09aSYmKGk9UW4uUHJvdGFub3BlKSx0aGlzLmVuZ2luZT10LHRoaXMuc2ltdWxhdGU9ZSx0aGlzLmNvbG9yTW9kZT1pLHRoaXMuX3ZlcnRleFNoYWRlcj1cImF0dHJpYnV0ZSB2ZWMyIGFfcG9zaXRpb247YXR0cmlidXRlIHZlYzIgYV90ZXhDb29yZDt1bmlmb3JtIHZlYzIgdV9yZXNvbHV0aW9uO3ZhcnlpbmcgdmVjMiB2X3RleENvb3JkO3ZvaWQgbWFpbigpIHt2ZWMyIHplcm9Ub09uZSA9IGFfcG9zaXRpb24gLyB1X3Jlc29sdXRpb247dmVjMiB6ZXJvVG9Ud28gPSB6ZXJvVG9PbmUgKiAyLjA7dmVjMiBjbGlwU3BhY2UgPSB6ZXJvVG9Ud28gLSAxLjA7Z2xfUG9zaXRpb24gPSB2ZWM0KGNsaXBTcGFjZSAqIHZlYzIoMSwgLTEpLCAwLCAxKTt2X3RleENvb3JkID0gYV90ZXhDb29yZDt9XCIsdGhpcy5fZnJhZ21lbnRTaGFkZXI9XCJwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDt1bmlmb3JtIHNhbXBsZXIyRCB1X2ltYWdlO3ZhcnlpbmcgdmVjMiB2X3RleENvb3JkO3ZvaWQgbWFpbigpIHt2ZWM0IG8gPSAgdGV4dHVyZTJEKHVfaW1hZ2UsIHZfdGV4Q29vcmQpO2Zsb2F0IEwgPSAoMTcuODgyNCAqIG8ucikgKyAoNDMuNTE2MSAqIG8uZykgKyAoNC4xMTkzNSAqIG8uYik7ZmxvYXQgTSA9ICgzLjQ1NTY1ICogby5yKSArICgyNy4xNTU0ICogby5nKSArICgzLjg2NzE0ICogby5iKTtmbG9hdCBTID0gKDAuMDI5OTU2NiAqIG8ucikgKyAoMC4xODQzMDkgKiBvLmcpICsgKDEuNDY3MDkgKiBvLmIpOy8vTU9ERSBDT0RFLy92ZWM0IGVycm9yO2Vycm9yLnIgPSAoMC4wODA5NDQ0NDc5ICogbCkgKyAoLTAuMTMwNTA0NDA5ICogbSkgKyAoMC4xMTY3MjEwNjYgKiBzKTtlcnJvci5nID0gKC0wLjAxMDI0ODUzMzUgKiBsKSArICgwLjA1NDAxOTMyNjYgKiBtKSArICgtMC4xMTM2MTQ3MDggKiBzKTtlcnJvci5iID0gKC0wLjAwMDM2NTI5NjkzOCAqIGwpICsgKC0wLjAwNDEyMTYxNDY5ICogbSkgKyAoMC42OTM1MTE0MDUgKiBzKTtlcnJvci5hID0gMS4wO3ZlYzQgZGlmZiA9IG8gLSBlcnJvcjt2ZWM0IGNvcnJlY3Rpb247Y29ycmVjdGlvbi5yID0gMC4wO2NvcnJlY3Rpb24uZyA9ICAoZGlmZi5yICogMC43KSArIChkaWZmLmcgKiAxLjApO2NvcnJlY3Rpb24uYiA9ICAoZGlmZi5yICogMC43KSArIChkaWZmLmIgKiAxLjApO2NvcnJlY3Rpb24gPSBvICsgY29ycmVjdGlvbjtjb3JyZWN0aW9uLmEgPSBvLmE7Ly9TSU1VTEFURS8vfVwiLHRoaXMuX2ludGVybmFsQ2FudmFzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIiksdGhpcy5faW50ZXJuYWxDYW52YXMud2lkdGg9dC5kcmF3V2lkdGgsdGhpcy5faW50ZXJuYWxDYW52YXMuaGVpZ2h0PXQuZHJhd0hlaWdodCx0aGlzLl9nbD10aGlzLl9pbnRlcm5hbENhbnZhcy5nZXRDb250ZXh0KFwid2ViZ2xcIix7cHJlc2VydmVEcmF3aW5nQnVmZmVyOiEwfSksdGhpcy5fcHJvZ3JhbT10aGlzLl9nbC5jcmVhdGVQcm9ncmFtKCk7dmFyIG49dGhpcy5fZ2V0U2hhZGVyKFwiRnJhZ21lbnRcIix0aGlzLl9nZXRGcmFnbWVudFNoYWRlckJ5TW9kZShpKSksbz10aGlzLl9nZXRTaGFkZXIoXCJWZXJ0ZXhcIix0aGlzLl92ZXJ0ZXhTaGFkZXIpO3RoaXMuX2dsLmF0dGFjaFNoYWRlcih0aGlzLl9wcm9ncmFtLG8pLHRoaXMuX2dsLmF0dGFjaFNoYWRlcih0aGlzLl9wcm9ncmFtLG4pLHRoaXMuX2dsLmxpbmtQcm9ncmFtKHRoaXMuX3Byb2dyYW0pLHRoaXMuX2dsLmdldFByb2dyYW1QYXJhbWV0ZXIodGhpcy5fcHJvZ3JhbSx0aGlzLl9nbC5MSU5LX1NUQVRVUyl8fE50LmdldEluc3RhbmNlKCkuZXJyb3IoXCJVbmFibGUgdG8gbGluayBzaGFkZXIgcHJvZ3JhbSFcIiksdGhpcy5fZ2wudXNlUHJvZ3JhbSh0aGlzLl9wcm9ncmFtKX1yZXR1cm4gdC5wcm90b3R5cGUuX2dldEZyYWdtZW50U2hhZGVyQnlNb2RlPWZ1bmN0aW9uKHQpe3ZhciBlPVwiXCI7cmV0dXJuIHQ9PT1Rbi5Qcm90YW5vcGU/ZT1cImZsb2F0IGwgPSAwLjAgKiBMICsgMi4wMjM0NCAqIE0gKyAtMi41MjU4MSAqIFM7ZmxvYXQgbSA9IDAuMCAqIEwgKyAxLjAgKiBNICsgMC4wICogUztmbG9hdCBzID0gMC4wICogTCArIDAuMCAqIE0gKyAxLjAgKiBTO1wiOnQ9PT1Rbi5EZXV0ZXJhbm9wZT9lPVwiZmxvYXQgbCA9IDEuMCAqIEwgKyAwLjAgKiBNICsgMC4wICogUztmbG9hdCBtID0gMC40OTQyMDcgKiBMICsgMC4wICogTSArIDEuMjQ4MjcgKiBTO2Zsb2F0IHMgPSAwLjAgKiBMICsgMC4wICogTSArIDEuMCAqIFM7XCI6dD09PVFuLlRyaXRhbm9wZSYmKGU9XCJmbG9hdCBsID0gMS4wICogTCArIDAuMCAqIE0gKyAwLjAgKiBTO2Zsb2F0IG0gPSAwLjAgKiBMICsgMS4wICogTSArIDAuMCAqIFM7ZmxvYXQgcyA9IC0wLjM5NTkxMyAqIEwgKyAwLjgwMTEwOSAqIE0gKyAwLjAgKiBTO1wiKSx0aGlzLnNpbXVsYXRlP3RoaXMuX2ZyYWdtZW50U2hhZGVyPXRoaXMuX2ZyYWdtZW50U2hhZGVyLnJlcGxhY2UoXCIvL1NJTVVMQVRFLy9cIixcImdsX0ZyYWdDb2xvciA9IGVycm9yLnJnYmE7XCIpOnRoaXMuX2ZyYWdtZW50U2hhZGVyPXRoaXMuX2ZyYWdtZW50U2hhZGVyLnJlcGxhY2UoXCIvL1NJTVVMQVRFLy9cIixcImdsX0ZyYWdDb2xvciA9IGNvcnJlY3Rpb24ucmdiYTtcIiksdGhpcy5fZnJhZ21lbnRTaGFkZXIucmVwbGFjZShcIi8vTU9ERSBDT0RFLy9cIixlKX0sdC5wcm90b3R5cGUuX3NldFJlY3RhbmdsZT1mdW5jdGlvbih0LGUsaSxuKXt2YXIgbz10LHI9dCtpLHM9ZSxhPWUrbjt0aGlzLl9nbC5idWZmZXJEYXRhKHRoaXMuX2dsLkFSUkFZX0JVRkZFUixuZXcgRmxvYXQzMkFycmF5KFtvLHMscixzLG8sYSxvLGEscixzLHIsYV0pLHRoaXMuX2dsLlNUQVRJQ19EUkFXKX0sdC5wcm90b3R5cGUuX2dldFNoYWRlcj1mdW5jdGlvbih0LGUpe3ZhciBpO3JldHVyblwiRnJhZ21lbnRcIj09PXQ/aT10aGlzLl9nbC5jcmVhdGVTaGFkZXIodGhpcy5fZ2wuRlJBR01FTlRfU0hBREVSKTpcIlZlcnRleFwiPT09dD9pPXRoaXMuX2dsLmNyZWF0ZVNoYWRlcih0aGlzLl9nbC5WRVJURVhfU0hBREVSKTpOdC5nZXRJbnN0YW5jZSgpLmVycm9yKFwiRXJyb3IgdW5rbm93biBzaGFkZXIgdHlwZVwiLHQpLHRoaXMuX2dsLnNoYWRlclNvdXJjZShpLGUpLHRoaXMuX2dsLmNvbXBpbGVTaGFkZXIoaSksdGhpcy5fZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKGksdGhpcy5fZ2wuQ09NUElMRV9TVEFUVVMpP2k6KE50LmdldEluc3RhbmNlKCkuZXJyb3IoXCJVbmFibGUgdG8gY29tcGlsZSBzaGFkZXIhXCIsdGhpcy5fZ2wuZ2V0U2hhZGVySW5mb0xvZyhpKSksbnVsbCl9LHQucHJvdG90eXBlLnByb2Nlc3M9ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLl9nbC5nZXRBdHRyaWJMb2NhdGlvbih0aGlzLl9wcm9ncmFtLFwiYV9wb3NpdGlvblwiKSxuPXRoaXMuX2dsLmdldEF0dHJpYkxvY2F0aW9uKHRoaXMuX3Byb2dyYW0sXCJhX3RleENvb3JkXCIpLG89dGhpcy5fZ2wuY3JlYXRlQnVmZmVyKCk7dGhpcy5fZ2wuYmluZEJ1ZmZlcih0aGlzLl9nbC5BUlJBWV9CVUZGRVIsbyksdGhpcy5fZ2wuYnVmZmVyRGF0YSh0aGlzLl9nbC5BUlJBWV9CVUZGRVIsbmV3IEZsb2F0MzJBcnJheShbMCwwLDEsMCwwLDEsMCwxLDEsMCwxLDFdKSx0aGlzLl9nbC5TVEFUSUNfRFJBVyksdGhpcy5fZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkobiksdGhpcy5fZ2wudmVydGV4QXR0cmliUG9pbnRlcihuLDIsdGhpcy5fZ2wuRkxPQVQsITEsMCwwKTt2YXIgcj10aGlzLl9nbC5jcmVhdGVUZXh0dXJlKCk7dGhpcy5fZ2wuYmluZFRleHR1cmUodGhpcy5fZ2wuVEVYVFVSRV8yRCxyKSx0aGlzLl9nbC50ZXhQYXJhbWV0ZXJpKHRoaXMuX2dsLlRFWFRVUkVfMkQsdGhpcy5fZ2wuVEVYVFVSRV9XUkFQX1MsdGhpcy5fZ2wuQ0xBTVBfVE9fRURHRSksdGhpcy5fZ2wudGV4UGFyYW1ldGVyaSh0aGlzLl9nbC5URVhUVVJFXzJELHRoaXMuX2dsLlRFWFRVUkVfV1JBUF9ULHRoaXMuX2dsLkNMQU1QX1RPX0VER0UpLHRoaXMuX2dsLnRleFBhcmFtZXRlcmkodGhpcy5fZ2wuVEVYVFVSRV8yRCx0aGlzLl9nbC5URVhUVVJFX01JTl9GSUxURVIsdGhpcy5fZ2wuTkVBUkVTVCksdGhpcy5fZ2wudGV4UGFyYW1ldGVyaSh0aGlzLl9nbC5URVhUVVJFXzJELHRoaXMuX2dsLlRFWFRVUkVfTUFHX0ZJTFRFUix0aGlzLl9nbC5ORUFSRVNUKSx0aGlzLl9nbC5waXhlbFN0b3JlaSh0aGlzLl9nbC5VTlBBQ0tfRkxJUF9ZX1dFQkdMLDEpLHRoaXMuX2dsLnRleEltYWdlMkQodGhpcy5fZ2wuVEVYVFVSRV8yRCwwLHRoaXMuX2dsLlJHQkEsdGhpcy5fZ2wuUkdCQSx0aGlzLl9nbC5VTlNJR05FRF9CWVRFLHQpO3ZhciBzPXRoaXMuX2dsLmdldFVuaWZvcm1Mb2NhdGlvbih0aGlzLl9wcm9ncmFtLFwidV9yZXNvbHV0aW9uXCIpO3RoaXMuX2dsLnVuaWZvcm0yZihzLHRoaXMuX2ludGVybmFsQ2FudmFzLndpZHRoLHRoaXMuX2ludGVybmFsQ2FudmFzLmhlaWdodCk7dmFyIGE9dGhpcy5fZ2wuY3JlYXRlQnVmZmVyKCk7dGhpcy5fZ2wuYmluZEJ1ZmZlcih0aGlzLl9nbC5BUlJBWV9CVUZGRVIsYSksdGhpcy5fZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoaSksdGhpcy5fZ2wudmVydGV4QXR0cmliUG9pbnRlcihpLDIsdGhpcy5fZ2wuRkxPQVQsITEsMCwwKSx0aGlzLl9zZXRSZWN0YW5nbGUoMCwwLHQud2lkdGgsdC5oZWlnaHQpLHRoaXMuX2dsLmRyYXdBcnJheXModGhpcy5fZ2wuVFJJQU5HTEVTLDAsNik7dmFyIGg9bmV3IFVpbnQ4QXJyYXkodC53aWR0aCp0LmhlaWdodCo0KTt0aGlzLl9nbC5yZWFkUGl4ZWxzKDAsMCx0LndpZHRoLHQuaGVpZ2h0LHRoaXMuX2dsLlJHQkEsdGhpcy5fZ2wuVU5TSUdORURfQllURSxoKSx0LmRhdGEuc2V0KGgpLGUucHV0SW1hZ2VEYXRhKHQsMCwwKX0sdH0oKSxlbz1mdW5jdGlvbigpe3ZhciB0PWZ1bmN0aW9uKGUsaSl7cmV0dXJuKHQ9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKHQsZSl7dC5fX3Byb3RvX189ZX18fGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShpKSYmKHRbaV09ZVtpXSl9KShlLGkpfTtyZXR1cm4gZnVuY3Rpb24oZSxpKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfXQoZSxpKSxlLnByb3RvdHlwZT1udWxsPT09aT9PYmplY3QuY3JlYXRlKGkpOihuLnByb3RvdHlwZT1pLnByb3RvdHlwZSxuZXcgbil9fSgpLGlvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5jcmVhdGU9ZnVuY3Rpb24odCl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHQ/bmV3IG9vKHQpOnQgaW5zdGFuY2VvZiBBdWRpb0J1ZmZlcj9uZXcgcm8odCk6bmV3IG5vKHQpfSx0fSgpLG5vPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl9zcmM9dCx0aGlzLl92b2x1bWU9MSx0aGlzLl9sb29wPSExLHRoaXMuX2lzUGxheWluZz0hMSx0aGlzLl9pc1BhdXNlZD0hMX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwibG9vcFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbG9vcH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2xvb3A9dCx0aGlzLl9pbnN0YW5jZSYmKHRoaXMuX2luc3RhbmNlLmxvb3A9dCx0aGlzLl93aXJlVXBPbkVuZGVkKCkpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcInZvbHVtZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdm9sdW1lfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fdm9sdW1lPXYodCwwLDEpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLmlzUGxheWluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc1BsYXlpbmd9LHQucHJvdG90eXBlLnBhdXNlPWZ1bmN0aW9uKCl7dGhpcy5faXNQbGF5aW5nJiYodGhpcy5faXNQYXVzZWQ9ITAsdGhpcy5faXNQbGF5aW5nPSExKX0sdC5wcm90b3R5cGUuc3RvcD1mdW5jdGlvbigpe3RoaXMuX2lzUGxheWluZyYmKHRoaXMuX2lzUGxheWluZz0hMSx0aGlzLl9pc1BhdXNlZD0hMSl9LHQucHJvdG90eXBlLnBsYXk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNQYXVzZWQmJnRoaXMuX3Jlc3VtZVBsYXlCYWNrKCksdGhpcy5faXNQbGF5aW5nfHx0aGlzLl9zdGFydFBsYXlCYWNrKCksdGhpcy5fcGxheWluZ1Byb21pc2V9LHQucHJvdG90eXBlLl9zdGFydFBsYXlCYWNrPWZ1bmN0aW9uKCl7dGhpcy5faXNQbGF5aW5nPSEwLHRoaXMuX2lzUGF1c2VkPSExLHRoaXMuX3BsYXlpbmdQcm9taXNlPW5ldyBkfSx0LnByb3RvdHlwZS5fcmVzdW1lUGxheUJhY2s9ZnVuY3Rpb24oKXt0aGlzLl9pc1BhdXNlZCYmKHRoaXMuX2lzUGF1c2VkPSExLHRoaXMuX2lzUGxheWluZz0hMCl9LHQucHJvdG90eXBlLl93aXJlVXBPbkVuZGVkPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLmxvb3B8fCh0aGlzLl9pbnN0YW5jZS5vbmVuZGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHQuX2hhbmRsZU9uRW5kZWQoKX0pfSx0LnByb3RvdHlwZS5faGFuZGxlT25FbmRlZD1mdW5jdGlvbigpe30sdH0oKSxvbz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3ZhciBpPXQuY2FsbCh0aGlzLGUpfHx0aGlzO3JldHVybiBpLl9pbnN0YW5jZT1uZXcgQXVkaW8oZSksaX1yZXR1cm4gZW8oZSx0KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJ2b2x1bWVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZvbHVtZX0sc2V0OmZ1bmN0aW9uKHQpe3Q9dih0LDAsMSksdGhpcy5fdm9sdW1lPXQsdGhpcy5faW5zdGFuY2Uudm9sdW1lPXR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUucGF1c2U9ZnVuY3Rpb24oKXt0aGlzLl9pc1BsYXlpbmcmJih0aGlzLl9pbnN0YW5jZS5wYXVzZSgpLHRoaXMuX2lzUGF1c2VkPSEwLHRoaXMuX2lzUGxheWluZz0hMSl9LGUucHJvdG90eXBlLnN0b3A9ZnVuY3Rpb24oKXt0LnByb3RvdHlwZS5zdG9wLmNhbGwodGhpcyksdGhpcy5faW5zdGFuY2UucGF1c2UoKSx0aGlzLl9pbnN0YW5jZS5jdXJyZW50VGltZT0wLHRoaXMuX2hhbmRsZU9uRW5kZWQoKX0sZS5wcm90b3R5cGUuX3N0YXJ0UGxheUJhY2s9ZnVuY3Rpb24oKXt0LnByb3RvdHlwZS5fc3RhcnRQbGF5QmFjay5jYWxsKHRoaXMpLHRoaXMuX2luc3RhbmNlLmxvYWQoKSx0aGlzLl9pbnN0YW5jZS5sb29wPXRoaXMubG9vcCx0aGlzLl9pbnN0YW5jZS5wbGF5KCksdGhpcy5fd2lyZVVwT25FbmRlZCgpfSxlLnByb3RvdHlwZS5fcmVzdW1lUGxheUJhY2s9ZnVuY3Rpb24oKXt0LnByb3RvdHlwZS5fcmVzdW1lUGxheUJhY2suY2FsbCh0aGlzKSx0aGlzLl9pbnN0YW5jZS5wbGF5KCksdGhpcy5fd2lyZVVwT25FbmRlZCgpfSxlLnByb3RvdHlwZS5faGFuZGxlT25FbmRlZD1mdW5jdGlvbigpe3RoaXMuX2lzUGxheWluZz0hMSx0aGlzLl9pc1BhdXNlZD0hMSx0aGlzLl9wbGF5aW5nUHJvbWlzZS5yZXNvbHZlKCEwKX0sZX0obm8pLHJvPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dmFyIGk9dC5jYWxsKHRoaXMsZSl8fHRoaXM7cmV0dXJuIGkuX2F1ZGlvQ29udGV4dD1oaS5jcmVhdGUoKSxpLl92b2x1bWVOb2RlPWkuX2F1ZGlvQ29udGV4dC5jcmVhdGVHYWluKCksaS5fY3VycmVudE9mZnNldD0wLGkuX2NyZWF0ZU5ld0J1ZmZlclNvdXJjZSgpLGl9cmV0dXJuIGVvKGUsdCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwidm9sdW1lXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl92b2x1bWV9LHNldDpmdW5jdGlvbih0KXt0PXYodCwwLDEpLHRoaXMuX3ZvbHVtZT10LHRoaXMuX3ZvbHVtZU5vZGUuZ2Fpbi5zZXRUYXJnZXRBdFRpbWU/dGhpcy5fdm9sdW1lTm9kZS5nYWluLnNldFRhcmdldEF0VGltZSh0LHRoaXMuX2F1ZGlvQ29udGV4dC5jdXJyZW50VGltZSwuMSk6dGhpcy5fdm9sdW1lTm9kZS5nYWluLnZhbHVlPXR9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiX3BsYXliYWNrUmF0ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW5zdGFuY2U/MS8odGhpcy5faW5zdGFuY2UucGxheWJhY2tSYXRlLnZhbHVlfHwxKTpudWxsfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLnBhdXNlPWZ1bmN0aW9uKCl7dC5wcm90b3R5cGUucGF1c2UuY2FsbCh0aGlzKSx0aGlzLl9pbnN0YW5jZS5zdG9wKDApLHRoaXMuX3NldFBhdXNlT2Zmc2V0KCl9LGUucHJvdG90eXBlLnN0b3A9ZnVuY3Rpb24oKXt0LnByb3RvdHlwZS5zdG9wLmNhbGwodGhpcyksdGhpcy5fY3VycmVudE9mZnNldD0wLHRoaXMuX2luc3RhbmNlLnN0b3AoMCksdGhpcy5faW5zdGFuY2Uub25lbmRlZHx8dGhpcy5faGFuZGxlT25FbmRlZCgpfSxlLnByb3RvdHlwZS5fc3RhcnRQbGF5QmFjaz1mdW5jdGlvbigpe3QucHJvdG90eXBlLl9zdGFydFBsYXlCYWNrLmNhbGwodGhpcyksdGhpcy5faW5zdGFuY2V8fHRoaXMuX2NyZWF0ZU5ld0J1ZmZlclNvdXJjZSgpLHRoaXMuX3JlbWVtYmVyU3RhcnRUaW1lKCksdGhpcy5fdm9sdW1lTm9kZS5jb25uZWN0KHRoaXMuX2F1ZGlvQ29udGV4dC5kZXN0aW5hdGlvbiksdGhpcy5faW5zdGFuY2Uuc3RhcnQoMCwwKSx0aGlzLl9jdXJyZW50T2Zmc2V0PTAsdGhpcy5fcGxheWluZ1Byb21pc2U9bmV3IGQsdGhpcy5fd2lyZVVwT25FbmRlZCgpfSxlLnByb3RvdHlwZS5fcmVzdW1lUGxheUJhY2s9ZnVuY3Rpb24oKXt0LnByb3RvdHlwZS5fcmVzdW1lUGxheUJhY2suY2FsbCh0aGlzKSx0aGlzLl9pbnN0YW5jZS5vbmVuZGVkPW51bGwsdGhpcy5fY3JlYXRlTmV3QnVmZmVyU291cmNlKCk7dmFyIGU9dGhpcy5fcGxheWJhY2tSYXRlKnRoaXMuX3NyYy5kdXJhdGlvbixpPXRoaXMuX2N1cnJlbnRPZmZzZXQlZTt0aGlzLl9yZW1lbWJlclN0YXJ0VGltZSgtMWUzKmkpLHRoaXMuX2luc3RhbmNlLnN0YXJ0KDAsaSksdGhpcy5fd2lyZVVwT25FbmRlZCgpfSxlLnByb3RvdHlwZS5faGFuZGxlT25FbmRlZD1mdW5jdGlvbigpe3RoaXMuX2lzUGF1c2VkfHwodGhpcy5faXNQbGF5aW5nPSExLHRoaXMuX3BsYXlpbmdQcm9taXNlLnJlc29sdmUoITApKX0sZS5wcm90b3R5cGUuX3JlbWVtYmVyU3RhcnRUaW1lPWZ1bmN0aW9uKHQpe3RoaXMuX3N0YXJ0VGltZT0obmV3IERhdGUpLmdldFRpbWUoKSsoMHx0KX0sZS5wcm90b3R5cGUuX3NldFBhdXNlT2Zmc2V0PWZ1bmN0aW9uKCl7dGhpcy5fY3VycmVudE9mZnNldD0oKG5ldyBEYXRlKS5nZXRUaW1lKCktdGhpcy5fc3RhcnRUaW1lKSp0aGlzLl9wbGF5YmFja1JhdGUvMWUzfSxlLnByb3RvdHlwZS5fY3JlYXRlTmV3QnVmZmVyU291cmNlPWZ1bmN0aW9uKCl7dGhpcy5faW5zdGFuY2U9dGhpcy5fYXVkaW9Db250ZXh0LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpLHRoaXMuX2luc3RhbmNlLmJ1ZmZlcj10aGlzLl9zcmMsdGhpcy5faW5zdGFuY2UubG9vcD10aGlzLmxvb3AsdGhpcy5faW5zdGFuY2UucGxheWJhY2tSYXRlLnNldFZhbHVlQXRUaW1lKDEsMCksdGhpcy5faW5zdGFuY2UuY29ubmVjdCh0aGlzLl92b2x1bWVOb2RlKX0sZX0obm8pO2Z1bmN0aW9uIHNvKHQpe3RyeXt2YXIgZT1uZXcgQXVkaW8saT10Lm1hdGNoKC8uKlxcLihbQS1aYS16MC05XSspJC8pWzFdO3JldHVybiEhZS5jYW5QbGF5VHlwZShcImF1ZGlvL1wiK2kpfWNhdGNoKHQpe3JldHVybiBOdC5nZXRJbnN0YW5jZSgpLndhcm4oXCJDYW5ub3QgZGV0ZXJtaW5lIGF1ZGlvIHN1cHBvcnQsIGFzc3VtaW5nIG5vIHN1cHBvcnQgZm9yIHRoZSBBdWRpbyBUYWdcIix0KSwhMX19dmFyIGFvPWZ1bmN0aW9uKCl7dmFyIHQ9ZnVuY3Rpb24oZSxpKXtyZXR1cm4odD1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24odCxlKXt0Ll9fcHJvdG9fXz1lfXx8ZnVuY3Rpb24odCxlKXtmb3IodmFyIGkgaW4gZSllLmhhc093blByb3BlcnR5KGkpJiYodFtpXT1lW2ldKX0pKGUsaSl9O3JldHVybiBmdW5jdGlvbihlLGkpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPWV9dChlLGkpLGUucHJvdG90eXBlPW51bGw9PT1pP09iamVjdC5jcmVhdGUoaSk6KG4ucHJvdG90eXBlPWkucHJvdG90eXBlLG5ldyBuKX19KCksaG89ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe2Zvcih2YXIgZT1bXSxpPTA7aTxhcmd1bWVudHMubGVuZ3RoO2krKyllW2ldPWFyZ3VtZW50c1tpXTt2YXIgbj10LmNhbGwodGhpcyxcIlwiLFwiXCIpfHx0aGlzO24uX2xvb3A9ITEsbi5fdm9sdW1lPTEsbi5faXNQYXVzZWQ9ITEsbi5fdHJhY2tzPVtdLG4uX3dhc1BsYXlpbmdPbkhpZGRlbj0hMSxuLl9wcm9jZXNzZWREYXRhPW5ldyBkLG4uX2F1ZGlvQ29udGV4dD1oaS5jcmVhdGUoKSxuLl9kZXRlY3RSZXNwb25zZVR5cGUoKTtmb3IodmFyIG89MCxyPWU7bzxyLmxlbmd0aDtvKyspe3ZhciBzPXJbb107aWYoc28ocykpe24ucGF0aD1zO2JyZWFrfX1yZXR1cm4gbi5wYXRofHwobi5sb2dnZXIud2FybihcIlRoaXMgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IGFueSBvZiB0aGUgYXVkaW8gZmlsZXMgc3BlY2lmaWVkOlwiLGUuam9pbihcIiwgXCIpKSxuLmxvZ2dlci53YXJuKFwiQXR0ZW1wdGluZyB0byB1c2VcIixlWzBdKSxuLnBhdGg9ZVswXSksbn1yZXR1cm4gYW8oZSx0KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJsb29wXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9sb29wfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fbG9vcD10O2Zvcih2YXIgZT0wLGk9dGhpcy5fdHJhY2tzO2U8aS5sZW5ndGg7ZSsrKXtpW2VdLmxvb3A9dGhpcy5fbG9vcH10aGlzLmxvZ2dlci5kZWJ1ZyhcIlNldCBsb29wIGZvciBhbGwgaW5zdGFuY2VzIG9mIHNvdW5kXCIsdGhpcy5wYXRoLFwidG9cIix0aGlzLl9sb29wKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJ2b2x1bWVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZvbHVtZX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3ZvbHVtZT10O2Zvcih2YXIgZT0wLGk9dGhpcy5fdHJhY2tzO2U8aS5sZW5ndGg7ZSsrKXtpW2VdLnZvbHVtZT10aGlzLl92b2x1bWV9dGhpcy5lbWl0KFwidm9sdW1lY2hhbmdlXCIsbmV3IGpuKHRoaXMpKSx0aGlzLmxvZ2dlci5kZWJ1ZyhcIlNldCBsb29wIGZvciBhbGwgaW5zdGFuY2VzIG9mIHNvdW5kXCIsdGhpcy5wYXRoLFwidG9cIix0aGlzLl92b2x1bWUpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImluc3RhbmNlc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdHJhY2tzfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLndpcmVFbmdpbmU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpczt0JiYodGhpcy5fZW5naW5lPXQsdGhpcy5fZW5naW5lLm9uKFwiaGlkZGVuXCIsZnVuY3Rpb24oKXt0LnBhdXNlQXVkaW9XaGVuSGlkZGVuJiZlLmlzUGxheWluZygpJiYoZS5fd2FzUGxheWluZ09uSGlkZGVuPSEwLGUucGF1c2UoKSl9KSx0aGlzLl9lbmdpbmUub24oXCJ2aXNpYmxlXCIsZnVuY3Rpb24oKXt0LnBhdXNlQXVkaW9XaGVuSGlkZGVuJiZlLl93YXNQbGF5aW5nT25IaWRkZW4mJihlLnBsYXkoKSxlLl93YXNQbGF5aW5nT25IaWRkZW49ITEpfSkpfSxlLnByb3RvdHlwZS5pbnN0YW5jZUNvdW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RyYWNrcy5sZW5ndGh9LGUucHJvdG90eXBlLmlzUGxheWluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl90cmFja3Muc29tZShmdW5jdGlvbih0KXtyZXR1cm4gdC5pc1BsYXlpbmcoKX0pfSxlLnByb3RvdHlwZS5wbGF5PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmlzTG9hZGVkKCk/KHRoaXMudm9sdW1lPXR8fHRoaXMudm9sdW1lLHRoaXMuX2lzUGF1c2VkP3RoaXMuX3Jlc3VtZVBsYXliYWNrKCk6dGhpcy5fc3RhcnRQbGF5YmFjaygpKToodGhpcy5sb2dnZXIud2FybihcIkNhbm5vdCBzdGFydCBwbGF5aW5nLiBSZXNvdXJjZVwiLHRoaXMucGF0aCxcImlzIG5vdCBsb2FkZWQgeWV0XCIpLGQucmVzb2x2ZSghMCkpfSxlLnByb3RvdHlwZS5wYXVzZT1mdW5jdGlvbigpe2lmKHRoaXMuaXNQbGF5aW5nKCkpe2Zvcih2YXIgdD0wLGU9dGhpcy5fdHJhY2tzO3Q8ZS5sZW5ndGg7dCsrKXtlW3RdLnBhdXNlKCl9dGhpcy5faXNQYXVzZWQ9ITAsdGhpcy5lbWl0KFwicGF1c2VcIixuZXcgam4odGhpcykpLHRoaXMubG9nZ2VyLmRlYnVnKFwiUGF1c2VkIGFsbCBpbnN0YW5jZXMgb2Ygc291bmRcIix0aGlzLnBhdGgpfX0sZS5wcm90b3R5cGUuc3RvcD1mdW5jdGlvbigpe2lmKHRoaXMuaXNQbGF5aW5nKCkpe2Zvcih2YXIgdD0wLGU9dGhpcy5fdHJhY2tzO3Q8ZS5sZW5ndGg7dCsrKXtlW3RdLnN0b3AoKX10aGlzLmVtaXQoXCJzdG9wXCIsbmV3IGpuKHRoaXMpKSx0aGlzLl9pc1BhdXNlZD0hMSx0aGlzLl90cmFja3MubGVuZ3RoPTAsdGhpcy5sb2dnZXIuZGVidWcoXCJTdG9wcGVkIGFsbCBpbnN0YW5jZXMgb2Ygc291bmRcIix0aGlzLnBhdGgpfX0sZS5wcm90b3R5cGUuc2V0RGF0YT1mdW5jdGlvbih0KXt0aGlzLmVtaXQoXCJlbXB0aWVkXCIsbmV3IGpuKHRoaXMpKSx0aGlzLmRhdGE9dCx0aGlzLl9wcm9jZXNzZWREYXRhPW5ldyBkfSxlLnByb3RvdHlwZS5wcm9jZXNzRGF0YT1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybih0IGluc3RhbmNlb2YgQXJyYXlCdWZmZXI/dGhpcy5fcHJvY2Vzc0FycmF5QnVmZmVyRGF0YSh0KTp0aGlzLl9wcm9jZXNzQmxvYkRhdGEodCkpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIGUuX3NldFByb2Nlc3NlZERhdGEodCl9KX0sZS5wcm90b3R5cGUuZ2V0VHJhY2tJZD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fdHJhY2tzLmluZGV4T2YodCl9LGUucHJvdG90eXBlLl9yZXN1bWVQbGF5YmFjaz1mdW5jdGlvbigpe2lmKHRoaXMuX2lzUGF1c2VkKXtmb3IodmFyIHQ9W10sZT0wLGk9dGhpcy5fdHJhY2tzO2U8aS5sZW5ndGg7ZSsrKXt2YXIgbj1pW2VdO3QucHVzaChuLnBsYXkoKSl9cmV0dXJuIHRoaXMuX2lzUGF1c2VkPSExLHRoaXMuZW1pdChcInJlc3VtZVwiLG5ldyBqbih0aGlzKSksdGhpcy5sb2dnZXIuZGVidWcoXCJSZXN1bWluZyBwYXVzZWQgaW5zdGFuY2VzIGZvciBzb3VuZFwiLHRoaXMucGF0aCx0aGlzLl90cmFja3MpLGQuam9pbih0KX1yZXR1cm4gZC5yZXNvbHZlKCEwKX0sZS5wcm90b3R5cGUuX3N0YXJ0UGxheWJhY2s9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9dGhpcy5fY3JlYXRlTmV3VHJhY2soKSxpPW5ldyBkO3JldHVybiBlLnRoZW4oZnVuY3Rpb24oZSl7ZS5wbGF5KCkudGhlbihmdW5jdGlvbihuKXtyZXR1cm4gdC5lbWl0KFwicGxheWJhY2tlbmRcIixuZXcgam4odCxlKSksdC5fdHJhY2tzLnNwbGljZSh0LmdldFRyYWNrSWQoZSksMSksaS5yZXNvbHZlKG4pLG59KSx0LmVtaXQoXCJwbGF5YmFja3N0YXJ0XCIsbmV3IGpuKHQsZSkpLHQubG9nZ2VyLmRlYnVnKFwiUGxheWluZyBuZXcgaW5zdGFuY2UgZm9yIHNvdW5kXCIsdC5wYXRoKX0pLGl9LGUucHJvdG90eXBlLl9wcm9jZXNzQXJyYXlCdWZmZXJEYXRhPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsaT1uZXcgZDtyZXR1cm4gdGhpcy5fYXVkaW9Db250ZXh0LmRlY29kZUF1ZGlvRGF0YSh0LGZ1bmN0aW9uKHQpe2kucmVzb2x2ZSh0KX0sZnVuY3Rpb24oKXtlLmxvZ2dlci5lcnJvcihcIlVuYWJsZSB0byBkZWNvZGUgIHRoaXMgYnJvd3NlciBtYXkgbm90IGZ1bGx5IHN1cHBvcnQgdGhpcyBmb3JtYXQsIG9yIHRoZSBmaWxlIG1heSBiZSBjb3JydXB0LCBpZiB0aGlzIGlzIGFuIG1wMyB0cnkgcmVtb3ZpbmcgaWQzIHRhZ3MgYW5kIGFsYnVtIGFydCBmcm9tIHRoZSBmaWxlLlwiKSxpLnJlc29sdmUodm9pZCAwKX0pLGl9LGUucHJvdG90eXBlLl9wcm9jZXNzQmxvYkRhdGE9ZnVuY3Rpb24oZSl7cmV0dXJuKG5ldyBkKS5yZXNvbHZlKHQucHJvdG90eXBlLnByb2Nlc3NEYXRhLmNhbGwodGhpcyxlKSl9LGUucHJvdG90eXBlLl9zZXRQcm9jZXNzZWREYXRhPWZ1bmN0aW9uKHQpe3RoaXMuX3Byb2Nlc3NlZERhdGEucmVzb2x2ZSh0KX0sZS5wcm90b3R5cGUuX2NyZWF0ZU5ld1RyYWNrPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPW5ldyBkO3JldHVybiAwIT09dGhpcy5fcHJvY2Vzc2VkRGF0YS5zdGF0ZSgpJiZ0aGlzLnByb2Nlc3NEYXRhKHRoaXMuZGF0YSksdGhpcy5fcHJvY2Vzc2VkRGF0YS50aGVuKGZ1bmN0aW9uKGkpe3JldHVybiBlLnJlc29sdmUodC5fZ2V0VHJhY2tJbnN0YW5jZShpKSksaX0sZnVuY3Rpb24oZSl7dC5sb2dnZXIuZXJyb3IoZSxcIkNhbm5vdCBjcmVhdGUgQXVkaW9JbnN0YW5jZSBkdWUgdG8gd3JvbmcgcHJvY2Vzc2VkIGRhdGEuXCIpfSksZX0sZS5wcm90b3R5cGUuX2dldFRyYWNrSW5zdGFuY2U9ZnVuY3Rpb24odCl7dmFyIGU9aW8uY3JlYXRlKHQpO3JldHVybiBlLmxvb3A9dGhpcy5sb29wLGUudm9sdW1lPXRoaXMudm9sdW1lLHRoaXMuX3RyYWNrcy5wdXNoKGUpLGV9LGUucHJvdG90eXBlLl9kZXRlY3RSZXNwb25zZVR5cGU9ZnVuY3Rpb24oKXt3aW5kb3cuQXVkaW9Db250ZXh0P3RoaXMucmVzcG9uc2VUeXBlPUtuLnR5cGUuYXJyYXlidWZmZXI6dGhpcy5yZXNwb25zZVR5cGU9S24udHlwZS5ibG9ifSxlfShRdCksY289ZnVuY3Rpb24oKXt2YXIgdD1mdW5jdGlvbihlLGkpe3JldHVybih0PU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbih0LGUpe3QuX19wcm90b19fPWV9fHxmdW5jdGlvbih0LGUpe2Zvcih2YXIgaSBpbiBlKWUuaGFzT3duUHJvcGVydHkoaSkmJih0W2ldPWVbaV0pfSkoZSxpKX07cmV0dXJuIGZ1bmN0aW9uKGUsaSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9ZX10KGUsaSksZS5wcm90b3R5cGU9bnVsbD09PWk/T2JqZWN0LmNyZWF0ZShpKToobi5wcm90b3R5cGU9aS5wcm90b3R5cGUsbmV3IG4pfX0oKSx1bz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsaSxuKXt2b2lkIDA9PT1pJiYoaT1BdC5NYWdlbnRhKSx2b2lkIDA9PT1uJiYobj0hMCk7dmFyIG89dC5jYWxsKHRoaXMsZSxcImFycmF5YnVmZmVyXCIsbil8fHRoaXM7cmV0dXJuIG8ucGF0aD1lLG8uY29sb3I9aSxvLmJ1c3RDYWNoZT1uLG8ubG9hZGVkPW5ldyBkLG8uX2lzTG9hZGVkPSExLG8uX3N0cmVhbT1udWxsLG8uX2dpZj1udWxsLG8uX3RleHR1cmU9W10sby5fYW5pbWF0aW9uPW51bGwsby5fdHJhbnNwYXJlbnRDb2xvcj1udWxsLG8uX3RyYW5zcGFyZW50Q29sb3I9aSxvfXJldHVybiBjbyhlLHQpLGUucHJvdG90eXBlLmlzTG9hZGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzTG9hZGVkfSxlLnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyxpPW5ldyBkO3JldHVybiB0LnByb3RvdHlwZS5sb2FkLmNhbGwodGhpcykudGhlbihmdW5jdGlvbigpe2UuX3N0cmVhbT1uZXcgZm8oZS5nZXREYXRhKCkpLGUuX2dpZj1uZXcgeW8oZS5fc3RyZWFtLGUuX3RyYW5zcGFyZW50Q29sb3IpO2Zvcih2YXIgdD1bXSxuPTA7bjxlLl9naWYuaW1hZ2VzLmxlbmd0aDtuKyspe3ZhciBvPW5ldyBkZShlLl9naWYuaW1hZ2VzW25dLnNyYywhMSk7ZS5fdGV4dHVyZS5wdXNoKG8pLHQucHVzaChvLmxvYWQoKSl9ZC5qb2luKHQpLnRoZW4oZnVuY3Rpb24oKXtlLl9pc0xvYWRlZD0hMCxpLnJlc29sdmUoZS5fdGV4dHVyZSl9KX0sZnVuY3Rpb24oKXtpLnJlamVjdChcIkVycm9yIGxvYWRpbmcgdGV4dHVyZS5cIil9KSxpfSxlLnByb3RvdHlwZS5hc1Nwcml0ZT1mdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9MCksdGhpcy5fdGV4dHVyZVt0XS5hc1Nwcml0ZSgpfSxlLnByb3RvdHlwZS5hc1Nwcml0ZVNoZWV0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fdGV4dHVyZS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQuYXNTcHJpdGUoKX0pO3JldHVybiBuZXcgVm4odCl9LGUucHJvdG90eXBlLmFzQW5pbWF0aW9uPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5hc1Nwcml0ZVNoZWV0KCk7cmV0dXJuIHRoaXMuX2FuaW1hdGlvbj1pLmdldEFuaW1hdGlvbkZvckFsbCh0LGUpLHRoaXMuX2FuaW1hdGlvbn0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwicmVhZENoZWNrQnl0ZXNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dpZi5jaGVja0J5dGVzfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGV9KFF0KSxsbz1mdW5jdGlvbih0KXtyZXR1cm4gdC5yZWR1Y2UoZnVuY3Rpb24odCxlKXtyZXR1cm4gMip0K2V9LDApfSxwbz1mdW5jdGlvbih0KXtmb3IodmFyIGU9W10saT03O2k+PTA7aS0tKWUucHVzaCghISh0JjE8PGkpKTtyZXR1cm4gZX0sZm89ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odCl7dmFyIGU9dGhpcztpZih0aGlzLmRhdGE9bnVsbCx0aGlzLmxlbj0wLHRoaXMucG9zaXRpb249MCx0aGlzLnJlYWRCeXRlPWZ1bmN0aW9uKCl7aWYoZS5wb3NpdGlvbj49ZS5kYXRhLmJ5dGVMZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiQXR0ZW1wdGVkIHRvIHJlYWQgcGFzdCBlbmQgb2Ygc3RyZWFtLlwiKTtyZXR1cm4gZS5kYXRhW2UucG9zaXRpb24rK119LHRoaXMucmVhZEJ5dGVzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgaT1bXSxuPTA7bjx0O24rKylpLnB1c2goZS5yZWFkQnl0ZSgpKTtyZXR1cm4gaX0sdGhpcy5yZWFkPWZ1bmN0aW9uKHQpe2Zvcih2YXIgaT1cIlwiLG49MDtuPHQ7bisrKWkrPVN0cmluZy5mcm9tQ2hhckNvZGUoZS5yZWFkQnl0ZSgpKTtyZXR1cm4gaX0sdGhpcy5yZWFkVW5zaWduZWQ9ZnVuY3Rpb24oKXt2YXIgdD1lLnJlYWRCeXRlcygyKTtyZXR1cm4odFsxXTw8OCkrdFswXX0sdGhpcy5kYXRhPW5ldyBVaW50OEFycmF5KHQpLHRoaXMubGVuPXRoaXMuZGF0YS5ieXRlTGVuZ3RoLDA9PT10aGlzLmxlbil0aHJvdyBuZXcgRXJyb3IoXCJObyBkYXRhIGxvYWRlZCBmcm9tIGZpbGVcIil9fSgpLGdvPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpLG4sbz0wLHI9ZnVuY3Rpb24odCl7Zm9yKHZhciBpPTAsbj0wO248dDtuKyspZS5jaGFyQ29kZUF0KG8+PjMpJjE8PCg3Jm8pJiYoaXw9MTw8biksbysrO3JldHVybiBpfSxzPVtdLGE9MTw8dCxoPWErMSxjPXQrMSx1PVtdLGw9ZnVuY3Rpb24oKXt1PVtdLGM9dCsxO2Zvcih2YXIgZT0wO2U8YTtlKyspdVtlXT1bZV07dVthXT1bXSx1W2hdPW51bGx9OzspaWYobj1pLChpPXIoYykpIT09YSl7aWYoaT09PWgpYnJlYWs7aWYoaTx1Lmxlbmd0aCluIT09YSYmdS5wdXNoKHVbbl0uY29uY2F0KHVbaV1bMF0pKTtlbHNle2lmKGkhPT11Lmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIExaVyBjb2RlLlwiKTt1LnB1c2godVtuXS5jb25jYXQodVtuXVswXSkpfXMucHVzaC5hcHBseShzLHVbaV0pLHUubGVuZ3RoPT09MTw8YyYmYzwxMiYmYysrfWVsc2UgbCgpO3JldHVybiBzfSx5bz1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbih0LGUpe3ZvaWQgMD09PWUmJihlPUF0Lk1hZ2VudGEpO3ZhciBpPXRoaXM7dGhpcy5fc3Q9bnVsbCx0aGlzLl9oYW5kbGVyPXt9LHRoaXMuX3RyYW5zcGFyZW50Q29sb3I9bnVsbCx0aGlzLmZyYW1lcz1bXSx0aGlzLmltYWdlcz1bXSx0aGlzLmdsb2JhbENvbG9yVGFibGU9W10sdGhpcy5jaGVja0J5dGVzPVtdLHRoaXMucGFyc2VDb2xvclRhYmxlPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1bXSxuPTA7bjx0O24rKyl7dmFyIG89XCIjXCIraS5fc3QucmVhZEJ5dGVzKDMpLm1hcChmdW5jdGlvbih0KXt2YXIgZT10LnRvU3RyaW5nKDE2KTtyZXR1cm4gMT09PWUubGVuZ3RoP1wiMFwiK2U6ZX0pLmpvaW4oXCJcIik7ZS5wdXNoKG8pfXJldHVybiBlfSx0aGlzLnJlYWRTdWJCbG9ja3M9ZnVuY3Rpb24oKXt2YXIgdCxlO2U9XCJcIjtkb3t0PWkuX3N0LnJlYWRCeXRlKCksZSs9aS5fc3QucmVhZCh0KX13aGlsZSgwIT09dCk7cmV0dXJuIGV9LHRoaXMucGFyc2VIZWFkZXI9ZnVuY3Rpb24oKXt2YXIgdD17c2lnOm51bGwsdmVyOm51bGwsd2lkdGg6bnVsbCxoZWlnaHQ6bnVsbCxjb2xvclJlczpudWxsLGdsb2JhbENvbG9yVGFibGVTaXplOm51bGwsZ2N0RmxhZzpudWxsLHNvcnRlZDpudWxsLGdsb2JhbENvbG9yVGFibGU6W10sYmdDb2xvcjpudWxsLHBpeGVsQXNwZWN0UmF0aW86bnVsbH07aWYodC5zaWc9aS5fc3QucmVhZCgzKSx0LnZlcj1pLl9zdC5yZWFkKDMpLFwiR0lGXCIhPT10LnNpZyl0aHJvdyBuZXcgRXJyb3IoXCJOb3QgYSBHSUYgZmlsZS5cIik7dC53aWR0aD1pLl9zdC5yZWFkVW5zaWduZWQoKSx0LmhlaWdodD1pLl9zdC5yZWFkVW5zaWduZWQoKTt2YXIgZT1wbyhpLl9zdC5yZWFkQnl0ZSgpKTt0LmdjdEZsYWc9ZS5zaGlmdCgpLHQuY29sb3JSZXM9bG8oZS5zcGxpY2UoMCwzKSksdC5zb3J0ZWQ9ZS5zaGlmdCgpLHQuZ2xvYmFsQ29sb3JUYWJsZVNpemU9bG8oZS5zcGxpY2UoMCwzKSksdC5iZ0NvbG9yPWkuX3N0LnJlYWRCeXRlKCksdC5waXhlbEFzcGVjdFJhdGlvPWkuX3N0LnJlYWRCeXRlKCksdC5nY3RGbGFnJiYodC5nbG9iYWxDb2xvclRhYmxlPWkucGFyc2VDb2xvclRhYmxlKDE8PHQuZ2xvYmFsQ29sb3JUYWJsZVNpemUrMSksaS5nbG9iYWxDb2xvclRhYmxlPXQuZ2xvYmFsQ29sb3JUYWJsZSksaS5faGFuZGxlci5oZHImJmkuX2hhbmRsZXIuaGRyKHQpJiZpLmNoZWNrQnl0ZXMucHVzaChpLl9oYW5kbGVyLmhkcil9LHRoaXMucGFyc2VFeHQ9ZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWw9aS5fc3QucmVhZEJ5dGUoKSx0LmxhYmVsKXtjYXNlIDI0OTp0LmV4dFR5cGU9XCJnY2VcIixmdW5jdGlvbih0KXtpLmNoZWNrQnl0ZXMucHVzaChpLl9zdC5yZWFkQnl0ZSgpKTt2YXIgZT1wbyhpLl9zdC5yZWFkQnl0ZSgpKTt0LnJlc2VydmVkPWUuc3BsaWNlKDAsMyksdC5kaXNwb3NhbE1ldGhvZD1sbyhlLnNwbGljZSgwLDMpKSx0LnVzZXJJbnB1dD1lLnNoaWZ0KCksdC50cmFuc3BhcmVuY3lHaXZlbj1lLnNoaWZ0KCksdC5kZWxheVRpbWU9aS5fc3QucmVhZFVuc2lnbmVkKCksdC50cmFuc3BhcmVuY3lJbmRleD1pLl9zdC5yZWFkQnl0ZSgpLHQudGVybWluYXRvcj1pLl9zdC5yZWFkQnl0ZSgpLGkuX2hhbmRsZXIuZ2NlJiZpLl9oYW5kbGVyLmdjZSh0KSYmaS5jaGVja0J5dGVzLnB1c2goaS5faGFuZGxlci5nY2UpfSh0KTticmVhaztjYXNlIDI1NDp0LmV4dFR5cGU9XCJjb21cIixmdW5jdGlvbih0KXt0LmNvbW1lbnQ9aS5yZWFkU3ViQmxvY2tzKCksaS5faGFuZGxlci5jb20mJmkuX2hhbmRsZXIuY29tKHQpJiZpLmNoZWNrQnl0ZXMucHVzaChpLl9oYW5kbGVyLmNvbSl9KHQpO2JyZWFrO2Nhc2UgMTp0LmV4dFR5cGU9XCJwdGVcIixmdW5jdGlvbih0KXtpLmNoZWNrQnl0ZXMucHVzaChpLl9zdC5yZWFkQnl0ZSgpKSx0LnB0SGVhZGVyPWkuX3N0LnJlYWRCeXRlcygxMiksdC5wdERhdGE9aS5yZWFkU3ViQmxvY2tzKCksaS5faGFuZGxlci5wdGUmJmkuX2hhbmRsZXIucHRlKHQpJiZpLmNoZWNrQnl0ZXMucHVzaChpLl9oYW5kbGVyLnB0ZSl9KHQpO2JyZWFrO2Nhc2UgMjU1OnQuZXh0VHlwZT1cImFwcFwiLGZ1bmN0aW9uKHQpe3N3aXRjaChpLmNoZWNrQnl0ZXMucHVzaChpLl9zdC5yZWFkQnl0ZSgpKSx0LmlkZW50aWZpZXI9aS5fc3QucmVhZCg4KSx0LmF1dGhDb2RlPWkuX3N0LnJlYWQoMyksdC5pZGVudGlmaWVyKXtjYXNlXCJORVRTQ0FQRVwiOiFmdW5jdGlvbih0KXtpLmNoZWNrQnl0ZXMucHVzaChpLl9zdC5yZWFkQnl0ZSgpKSx0LnVua25vd249aS5fc3QucmVhZEJ5dGUoKSx0Lml0ZXJhdGlvbnM9aS5fc3QucmVhZFVuc2lnbmVkKCksdC50ZXJtaW5hdG9yPWkuX3N0LnJlYWRCeXRlKCksaS5faGFuZGxlci5hcHAmJmkuX2hhbmRsZXIuYXBwLk5FVFNDQVBFJiZpLl9oYW5kbGVyLmFwcC5ORVRTQ0FQRSh0KSYmaS5jaGVja0J5dGVzLnB1c2goaS5faGFuZGxlci5hcHApfSh0KTticmVhaztkZWZhdWx0OiFmdW5jdGlvbih0KXt0LmFwcERhdGE9aS5yZWFkU3ViQmxvY2tzKCksaS5faGFuZGxlci5hcHAmJmkuX2hhbmRsZXIuYXBwW3QuaWRlbnRpZmllcl0mJmkuX2hhbmRsZXIuYXBwW3QuaWRlbnRpZmllcl0odCkmJmkuY2hlY2tCeXRlcy5wdXNoKGkuX2hhbmRsZXIuYXBwW3QuaWRlbnRpZmllcl0pfSh0KX19KHQpO2JyZWFrO2RlZmF1bHQ6dC5leHRUeXBlPVwidW5rbm93blwiLGZ1bmN0aW9uKHQpe3QuZGF0YT1pLnJlYWRTdWJCbG9ja3MoKSxpLl9oYW5kbGVyLnVua25vd24mJmkuX2hhbmRsZXIudW5rbm93bih0KSYmaS5jaGVja0J5dGVzLnB1c2goaS5faGFuZGxlci51bmtub3duKX0odCl9fSx0aGlzLnBhcnNlSW1nPWZ1bmN0aW9uKHQpe3QubGVmdFBvcz1pLl9zdC5yZWFkVW5zaWduZWQoKSx0LnRvcFBvcz1pLl9zdC5yZWFkVW5zaWduZWQoKSx0LndpZHRoPWkuX3N0LnJlYWRVbnNpZ25lZCgpLHQuaGVpZ2h0PWkuX3N0LnJlYWRVbnNpZ25lZCgpO3ZhciBlPXBvKGkuX3N0LnJlYWRCeXRlKCkpO3QubGN0RmxhZz1lLnNoaWZ0KCksdC5pbnRlcmxhY2VkPWUuc2hpZnQoKSx0LnNvcnRlZD1lLnNoaWZ0KCksdC5yZXNlcnZlZD1lLnNwbGljZSgwLDIpLHQubGN0U2l6ZT1sbyhlLnNwbGljZSgwLDMpKSx0LmxjdEZsYWcmJih0LmxjdD1pLnBhcnNlQ29sb3JUYWJsZSgxPDx0LmxjdFNpemUrMSkpLHQubHp3TWluQ29kZVNpemU9aS5fc3QucmVhZEJ5dGUoKTt2YXIgbj1pLnJlYWRTdWJCbG9ja3MoKTt0LnBpeGVscz1nbyh0Lmx6d01pbkNvZGVTaXplLG4pLHQuaW50ZXJsYWNlZCYmKHQucGl4ZWxzPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpPW5ldyBBcnJheSh0Lmxlbmd0aCksbj10Lmxlbmd0aC9lLG89ZnVuY3Rpb24obixvKXt2YXIgcj10LnNsaWNlKG8qZSwobysxKSplKTtpLnNwbGljZS5hcHBseShpLFtuKmUsZV0uY29uY2F0KHIpKX0scj1bMCw0LDIsMV0scz1bOCw4LDQsMl0sYT0wLGg9MDtoPDQ7aCsrKWZvcih2YXIgYz1yW2hdO2M8bjtjKz1zW2hdKW8oYyxhKSxhKys7cmV0dXJuIGl9KHQucGl4ZWxzLHQud2lkdGgpKSxpLmZyYW1lcy5wdXNoKHQpLGkuYXJyYXlUb0ltYWdlKHQpLGkuX2hhbmRsZXIuaW1nJiZpLl9oYW5kbGVyLmltZyh0KSYmaS5jaGVja0J5dGVzLnB1c2goaS5faGFuZGxlcil9LHRoaXMucGFyc2VCbG9jaz1mdW5jdGlvbigpe3ZhciB0PXtzZW50aW5lbDppLl9zdC5yZWFkQnl0ZSgpLHR5cGU6XCJcIn07c3dpdGNoKFN0cmluZy5mcm9tQ2hhckNvZGUodC5zZW50aW5lbCkpe2Nhc2VcIiFcIjp0LnR5cGU9XCJleHRcIixpLnBhcnNlRXh0KHQpO2JyZWFrO2Nhc2VcIixcIjp0LnR5cGU9XCJpbWdcIixpLnBhcnNlSW1nKHQpO2JyZWFrO2Nhc2VcIjtcIjp0LnR5cGU9XCJlb2ZcIixpLl9oYW5kbGVyLmVvZiYmaS5faGFuZGxlci5lb2YodCkmJmkuY2hlY2tCeXRlcy5wdXNoKGkuX2hhbmRsZXIuZW9mKTticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcihcIlVua25vd24gYmxvY2s6IDB4XCIrdC5zZW50aW5lbC50b1N0cmluZygxNikpfVwiZW9mXCIhPT10LnR5cGUmJmkucGFyc2VCbG9jaygpfSx0aGlzLmFycmF5VG9JbWFnZT1mdW5jdGlvbih0KXt2YXIgZT0wLG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtuLmlkPWUudG9TdHJpbmcoKSxuLndpZHRoPXQud2lkdGgsbi5oZWlnaHQ9dC5oZWlnaHQsZSsrO2Zvcih2YXIgbz1uLmdldENvbnRleHQoXCIyZFwiKSxyPTAscz0wLGE9MDthPHQucGl4ZWxzLmxlbmd0aDthKyspcyV0LndpZHRoPT0wJiYocisrLHM9MCksaS5nbG9iYWxDb2xvclRhYmxlW3QucGl4ZWxzW2FdXT09PWkuX3RyYW5zcGFyZW50Q29sb3IudG9IZXgoKT9vLmZpbGxTdHlsZT1cInJnYmEoMCwgMCwgMCwgMClcIjpvLmZpbGxTdHlsZT1pLmdsb2JhbENvbG9yVGFibGVbdC5waXhlbHNbYV1dLG8uZmlsbFJlY3QocyxyLDEsMSkscysrO3ZhciBoPW5ldyBJbWFnZTtoLnNyYz1uLnRvRGF0YVVSTCgpLGkuaW1hZ2VzLnB1c2goaCl9LHRoaXMuX3N0PXQsdGhpcy5faGFuZGxlcj17fSx0aGlzLl90cmFuc3BhcmVudENvbG9yPWUsdGhpcy5wYXJzZUhlYWRlcigpLHRoaXMucGFyc2VCbG9jaygpfX0oKSxfbz1pKDApO2kuZChlLFwiRVhfVkVSU0lPTlwiLGZ1bmN0aW9uKCl7cmV0dXJuIHZvfSksaS5kKGUsXCJEaXNwbGF5TW9kZVwiLGZ1bmN0aW9uKCl7cmV0dXJuIEVufSksaS5kKGUsXCJTY3JvbGxQcmV2ZW50aW9uTW9kZVwiLGZ1bmN0aW9uKCl7cmV0dXJuIENufSksaS5kKGUsXCJFbmdpbmVcIixmdW5jdGlvbigpe3JldHVybiBEbn0pLGkuZChlLFwiQWN0b3JcIixmdW5jdGlvbigpe3JldHVybiAkZX0pLGkuZChlLFwiQ29sbGlzaW9uVHlwZVwiLGZ1bmN0aW9uKCl7cmV0dXJuIEN0fSksaS5kKGUsXCJWZWN0b3JcIixmdW5jdGlvbigpe3JldHVybiBGfSksaS5kKGUsXCJSYXlcIixmdW5jdGlvbigpe3JldHVybiBqfSksaS5kKGUsXCJMaW5lXCIsZnVuY3Rpb24oKXtyZXR1cm4gTH0pLGkuZChlLFwiUHJvamVjdGlvblwiLGZ1bmN0aW9uKCl7cmV0dXJuIEl9KSxpLmQoZSxcIkdsb2JhbENvb3JkaW5hdGVzXCIsZnVuY3Rpb24oKXtyZXR1cm4gV30pLGkuZChlLFwiU3RyYXRlZ3lDb250YWluZXJcIixmdW5jdGlvbigpe3JldHVybiBNaX0pLGkuZChlLFwiQXhpc1wiLGZ1bmN0aW9uKCl7cmV0dXJuIGNpfSksaS5kKGUsXCJMb2NrQ2FtZXJhVG9BY3RvclN0cmF0ZWd5XCIsZnVuY3Rpb24oKXtyZXR1cm4gUml9KSxpLmQoZSxcIkxvY2tDYW1lcmFUb0FjdG9yQXhpc1N0cmF0ZWd5XCIsZnVuY3Rpb24oKXtyZXR1cm4gRml9KSxpLmQoZSxcIkVsYXN0aWNUb0FjdG9yU3RyYXRlZ3lcIixmdW5jdGlvbigpe3JldHVybiBqaX0pLGkuZChlLFwiUmFkaXVzQXJvdW5kQWN0b3JTdHJhdGVneVwiLGZ1bmN0aW9uKCl7cmV0dXJuIExpfSksaS5kKGUsXCJDYW1lcmFcIixmdW5jdGlvbigpe3JldHVybiBJaX0pLGkuZChlLFwiQ2xhc3NcIixmdW5jdGlvbigpe3JldHVybiBTdH0pLGkuZChlLFwiQ29uZmlndXJhYmxlXCIsZnVuY3Rpb24oKXtyZXR1cm4gaGV9KSxpLmQoZSxcIkRlYnVnXCIsZnVuY3Rpb24oKXtyZXR1cm4gWWl9KSxpLmQoZSxcIkZyYW1lU3RhdHNcIixmdW5jdGlvbigpe3JldHVybiBaaX0pLGkuZChlLFwiUGh5c2ljc1N0YXRzXCIsZnVuY3Rpb24oKXtyZXR1cm4gUWl9KSxpLmQoZSxcIkV2ZW50RGlzcGF0Y2hlclwiLGZ1bmN0aW9uKCl7cmV0dXJuIFB0fSksaS5kKGUsXCJNZWRpYUV2ZW50XCIsZnVuY3Rpb24oKXtyZXR1cm4gRm59KSxpLmQoZSxcIk5hdGl2ZVNvdW5kRXZlbnRcIixmdW5jdGlvbigpe3JldHVybiBqbn0pLGkuZChlLFwiRXZlbnRUeXBlc1wiLGZ1bmN0aW9uKCl7cmV0dXJuIFJ9KSxpLmQoZSxcIkdhbWVFdmVudFwiLGZ1bmN0aW9uKCl7cmV0dXJuIHF9KSxpLmQoZSxcIktpbGxFdmVudFwiLGZ1bmN0aW9uKCl7cmV0dXJuIEd9KSxpLmQoZSxcIlByZUtpbGxFdmVudFwiLGZ1bmN0aW9uKCl7cmV0dXJuIFZ9KSxpLmQoZSxcIlBvc3RLaWxsRXZlbnRcIixmdW5jdGlvbigpe3JldHVybiBYfSksaS5kKGUsXCJHYW1lU3RhcnRFdmVudFwiLGZ1bmN0aW9uKCl7cmV0dXJuIEt9KSxpLmQoZSxcIkdhbWVTdG9wRXZlbnRcIixmdW5jdGlvbigpe3JldHVybiBZfSksaS5kKGUsXCJQcmVEcmF3RXZlbnRcIixmdW5jdGlvbigpe3JldHVybiBafSksaS5kKGUsXCJQb3N0RHJhd0V2ZW50XCIsZnVuY3Rpb24oKXtyZXR1cm4gUX0pLGkuZChlLFwiUHJlRGVidWdEcmF3RXZlbnRcIixmdW5jdGlvbigpe3JldHVybiBKfSksaS5kKGUsXCJQb3N0RGVidWdEcmF3RXZlbnRcIixmdW5jdGlvbigpe3JldHVybiAkfSksaS5kKGUsXCJQcmVVcGRhdGVFdmVudFwiLGZ1bmN0aW9uKCl7cmV0dXJuIHR0fSksaS5kKGUsXCJQb3N0VXBkYXRlRXZlbnRcIixmdW5jdGlvbigpe3JldHVybiBldH0pLGkuZChlLFwiUHJlRnJhbWVFdmVudFwiLGZ1bmN0aW9uKCl7cmV0dXJuIGl0fSksaS5kKGUsXCJQb3N0RnJhbWVFdmVudFwiLGZ1bmN0aW9uKCl7cmV0dXJuIG50fSksaS5kKGUsXCJHYW1lcGFkQ29ubmVjdEV2ZW50XCIsZnVuY3Rpb24oKXtyZXR1cm4gb3R9KSxpLmQoZSxcIkdhbWVwYWREaXNjb25uZWN0RXZlbnRcIixmdW5jdGlvbigpe3JldHVybiBydH0pLGkuZChlLFwiR2FtZXBhZEJ1dHRvbkV2ZW50XCIsZnVuY3Rpb24oKXtyZXR1cm4gc3R9KSxpLmQoZSxcIkdhbWVwYWRBeGlzRXZlbnRcIixmdW5jdGlvbigpe3JldHVybiBhdH0pLGkuZChlLFwiU3Vic2NyaWJlRXZlbnRcIixmdW5jdGlvbigpe3JldHVybiBodH0pLGkuZChlLFwiVW5zdWJzY3JpYmVFdmVudFwiLGZ1bmN0aW9uKCl7cmV0dXJuIGN0fSksaS5kKGUsXCJWaXNpYmxlRXZlbnRcIixmdW5jdGlvbigpe3JldHVybiB1dH0pLGkuZChlLFwiSGlkZGVuRXZlbnRcIixmdW5jdGlvbigpe3JldHVybiBsdH0pLGkuZChlLFwiUHJlQ29sbGlzaW9uRXZlbnRcIixmdW5jdGlvbigpe3JldHVybiBwdH0pLGkuZChlLFwiUG9zdENvbGxpc2lvbkV2ZW50XCIsZnVuY3Rpb24oKXtyZXR1cm4gZHR9KSxpLmQoZSxcIkNvbGxpc2lvblN0YXJ0RXZlbnRcIixmdW5jdGlvbigpe3JldHVybiBmdH0pLGkuZChlLFwiQ29sbGlzaW9uRW5kRXZlbnRcIixmdW5jdGlvbigpe3JldHVybiBndH0pLGkuZChlLFwiSW5pdGlhbGl6ZUV2ZW50XCIsZnVuY3Rpb24oKXtyZXR1cm4geXR9KSxpLmQoZSxcIkFjdGl2YXRlRXZlbnRcIixmdW5jdGlvbigpe3JldHVybiBfdH0pLGkuZChlLFwiRGVhY3RpdmF0ZUV2ZW50XCIsZnVuY3Rpb24oKXtyZXR1cm4gdnR9KSxpLmQoZSxcIkV4aXRWaWV3UG9ydEV2ZW50XCIsZnVuY3Rpb24oKXtyZXR1cm4gbXR9KSxpLmQoZSxcIkVudGVyVmlld1BvcnRFdmVudFwiLGZ1bmN0aW9uKCl7cmV0dXJuIGJ0fSksaS5kKGUsXCJFbnRlclRyaWdnZXJFdmVudFwiLGZ1bmN0aW9uKCl7cmV0dXJuIHd0fSksaS5kKGUsXCJFeGl0VHJpZ2dlckV2ZW50XCIsZnVuY3Rpb24oKXtyZXR1cm4geHR9KSxpLmQoZSxcIkdyb3VwXCIsZnVuY3Rpb24oKXtyZXR1cm4gQ2l9KSxpLmQoZSxcIkxhYmVsXCIsZnVuY3Rpb24oKXtyZXR1cm4gSGl9KSxpLmQoZSxcIkZvbnRTdHlsZVwiLGZ1bmN0aW9uKCl7cmV0dXJuIGtpfSksaS5kKGUsXCJGb250VW5pdFwiLGZ1bmN0aW9uKCl7cmV0dXJuIE9pfSksaS5kKGUsXCJUZXh0QWxpZ25cIixmdW5jdGlvbigpe3JldHVybiBCaX0pLGkuZChlLFwiQmFzZUFsaWduXCIsZnVuY3Rpb24oKXtyZXR1cm4gRGl9KSxpLmQoZSxcIkxvYWRlclwiLGZ1bmN0aW9uKCl7cmV0dXJuIHlpfSksaS5kKGUsXCJQYXJ0aWNsZVwiLGZ1bmN0aW9uKCl7cmV0dXJuIElufSksaS5kKGUsXCJQYXJ0aWNsZUVtaXR0ZXJcIixmdW5jdGlvbigpe3JldHVybiBXbn0pLGkuZChlLFwiRW1pdHRlclR5cGVcIixmdW5jdGlvbigpe3JldHVybiBCbn0pLGkuZChlLFwiQ29sbGlzaW9uUmVzb2x1dGlvblN0cmF0ZWd5XCIsZnVuY3Rpb24oKXtyZXR1cm4gen0pLGkuZChlLFwiQnJvYWRwaGFzZVN0cmF0ZWd5XCIsZnVuY3Rpb24oKXtyZXR1cm4gVX0pLGkuZChlLFwiSW50ZWdyYXRvclwiLGZ1bmN0aW9uKCl7cmV0dXJuIE59KSxpLmQoZSxcIlBoeXNpY3NcIixmdW5jdGlvbigpe3JldHVybiBUdH0pLGkuZChlLFwiUHJvbWlzZVN0YXRlXCIsZnVuY3Rpb24oKXtyZXR1cm4gY30pLGkuZChlLFwiUHJvbWlzZVwiLGZ1bmN0aW9uKCl7cmV0dXJuIGR9KSxpLmQoZSxcIlNjZW5lXCIsZnVuY3Rpb24oKXtyZXR1cm4gS2l9KSxpLmQoZSxcIlRpbGVNYXBcIixmdW5jdGlvbigpe3JldHVybiByaX0pLGkuZChlLFwiQ2VsbFwiLGZ1bmN0aW9uKCl7cmV0dXJuIGFpfSksaS5kKGUsXCJUaWxlU3ByaXRlXCIsZnVuY3Rpb24oKXtyZXR1cm4gc2l9KSxpLmQoZSxcIlRpbWVyXCIsZnVuY3Rpb24oKXtyZXR1cm4gaWl9KSxpLmQoZSxcIlRyaWdnZXJcIixmdW5jdGlvbigpe3JldHVybiBOaX0pLGkuZChlLFwiVUlBY3RvclwiLGZ1bmN0aW9uKCl7cmV0dXJuIGVpfSksaS5kKGUsXCJBY3Rpb25zXCIsZnVuY3Rpb24oKXtyZXR1cm4gcn0pLGkuZChlLFwiSW50ZXJuYWxcIixmdW5jdGlvbigpe3JldHVybiBIbn0pLGkuZChlLFwiQWN0aW9uQ29udGV4dFwiLGZ1bmN0aW9uKCl7cmV0dXJuIGtlfSksaS5kKGUsXCJSb3RhdGlvblR5cGVcIixmdW5jdGlvbigpe3JldHVybiBjZX0pLGkuZChlLFwiQm9keVwiLGZ1bmN0aW9uKCl7cmV0dXJuIGplfSksaS5kKGUsXCJpc0NvbGxpZGVyXCIsZnVuY3Rpb24oKXtyZXR1cm4gS2V9KSxpLmQoZSxcIkNvbGxpZGVyXCIsZnVuY3Rpb24oKXtyZXR1cm4gWWV9KSxpLmQoZSxcIkJvdW5kaW5nQm94XCIsZnVuY3Rpb24oKXtyZXR1cm4gWXR9KSxpLmQoZSxcIkNpcmNsZVwiLGZ1bmN0aW9uKCl7cmV0dXJuIEZ0fSksaS5kKGUsXCJDaXJjbGVBcmVhXCIsZnVuY3Rpb24oKXtyZXR1cm4ganR9KSxpLmQoZSxcIkNvbGxpc2lvbkNvbnRhY3RcIixmdW5jdGlvbigpe3JldHVybiBNdH0pLGkuZChlLFwiQ29sbGlzaW9uSnVtcFRhYmxlXCIsZnVuY3Rpb24oKXtyZXR1cm4gT3R9KSxpLmQoZSxcIkNsb3Nlc3RMaW5lXCIsZnVuY3Rpb24oKXtyZXR1cm4gQnR9KSxpLmQoZSxcIkNsb3Nlc3RMaW5lSnVtcFRhYmxlXCIsZnVuY3Rpb24oKXtyZXR1cm4ga3R9KSxpLmQoZSxcIkNvbGxpc2lvbkdyb3VwXCIsZnVuY3Rpb24oKXtyZXR1cm4gVmV9KSxpLmQoZSxcIkNvbGxpc2lvbkdyb3VwTWFuYWdlclwiLGZ1bmN0aW9uKCl7cmV0dXJuIHpufSksaS5kKGUsXCJUcmVlTm9kZVwiLGZ1bmN0aW9uKCl7cmV0dXJuIG1pfSksaS5kKGUsXCJEeW5hbWljVHJlZVwiLGZ1bmN0aW9uKCl7cmV0dXJuIGJpfSksaS5kKGUsXCJEeW5hbWljVHJlZUNvbGxpc2lvbkJyb2FkcGhhc2VcIixmdW5jdGlvbigpe3JldHVybiB3aX0pLGkuZChlLFwiRWRnZVwiLGZ1bmN0aW9uKCl7cmV0dXJuIEl0fSksaS5kKGUsXCJFZGdlQXJlYVwiLGZ1bmN0aW9uKCl7cmV0dXJuIFd0fSksaS5kKGUsXCJQYWlyXCIsZnVuY3Rpb24oKXtyZXR1cm4gWGV9KSxpLmQoZSxcIkNvbnZleFBvbHlnb25cIixmdW5jdGlvbigpe3JldHVybiB6dH0pLGkuZChlLFwiUG9seWdvbkFyZWFcIixmdW5jdGlvbigpe3JldHVybiBVdH0pLGkuZChlLFwiU2lkZVwiLGZ1bmN0aW9uKCl7cmV0dXJuIHB9KSxpLmQoZSxcIlNoYXBlXCIsZnVuY3Rpb24oKXtyZXR1cm4gUmV9KSxpLmQoZSxcIkFuaW1hdGlvblwiLGZ1bmN0aW9uKCl7cmV0dXJuIE5ufSksaS5kKGUsXCJTcHJpdGVcIixmdW5jdGlvbigpe3JldHVybiBsZX0pLGkuZChlLFwiU3ByaXRlU2hlZXRcIixmdW5jdGlvbigpe3JldHVybiBWbn0pLGkuZChlLFwiU3ByaXRlRm9udFwiLGZ1bmN0aW9uKCl7cmV0dXJuIFhufSksaS5kKGUsXCJFZmZlY3RzXCIsZnVuY3Rpb24oKXtyZXR1cm4gb30pLGkuZChlLFwiQ29sb3JcIixmdW5jdGlvbigpe3JldHVybiBBdH0pLGkuZChlLFwiUG9seWdvblwiLGZ1bmN0aW9uKCl7cmV0dXJuIHFufSksaS5kKGUsXCJFeFJlc3BvbnNlXCIsZnVuY3Rpb24oKXtyZXR1cm4gS259KSxpLmQoZSxcIlBlcmxpbkdlbmVyYXRvclwiLGZ1bmN0aW9uKCl7cmV0dXJuIEpufSksaS5kKGUsXCJQZXJsaW5EcmF3ZXIyRFwiLGZ1bmN0aW9uKCl7cmV0dXJuICRufSksaS5kKGUsXCJSYW5kb21cIixmdW5jdGlvbigpe3JldHVybiBmfSksaS5kKGUsXCJDb2xvckJsaW5kbmVzc1wiLGZ1bmN0aW9uKCl7cmV0dXJuIFFufSksaS5kKGUsXCJDb2xvckJsaW5kQ29ycmVjdG9yXCIsZnVuY3Rpb24oKXtyZXR1cm4gdG99KSxpLmQoZSxcIlJlc291cmNlXCIsZnVuY3Rpb24oKXtyZXR1cm4gUXR9KSxpLmQoZSxcIlRleHR1cmVcIixmdW5jdGlvbigpe3JldHVybiBkZX0pLGkuZChlLFwiR2lmXCIsZnVuY3Rpb24oKXtyZXR1cm4gdW99KSxpLmQoZSxcIlN0cmVhbVwiLGZ1bmN0aW9uKCl7cmV0dXJuIGZvfSksaS5kKGUsXCJQYXJzZUdpZlwiLGZ1bmN0aW9uKCl7cmV0dXJuIHlvfSksaS5kKGUsXCJTb3VuZFwiLGZ1bmN0aW9uKCl7cmV0dXJuIGhvfSksaS5kKGUsXCJBdWRpb0NvbnRleHRGYWN0b3J5XCIsZnVuY3Rpb24oKXtyZXR1cm4gaGl9KSxpLmQoZSxcIkF1ZGlvSW5zdGFuY2VGYWN0b3J5XCIsZnVuY3Rpb24oKXtyZXR1cm4gaW99KSxpLmQoZSxcIkF1ZGlvSW5zdGFuY2VcIixmdW5jdGlvbigpe3JldHVybiBub30pLGkuZChlLFwiQXVkaW9UYWdJbnN0YW5jZVwiLGZ1bmN0aW9uKCl7cmV0dXJuIG9vfSksaS5kKGUsXCJXZWJBdWRpb0luc3RhbmNlXCIsZnVuY3Rpb24oKXtyZXR1cm4gcm99KSxpLmQoZSxcIkV2ZW50c1wiLGZ1bmN0aW9uKCl7cmV0dXJuIG59KSxpLmQoZSxcIklucHV0XCIsZnVuY3Rpb24oKXtyZXR1cm4gYX0pLGkuZChlLFwiVHJhaXRzXCIsZnVuY3Rpb24oKXtyZXR1cm4gaH0pLGkuZChlLFwiVXRpbFwiLGZ1bmN0aW9uKCl7cmV0dXJuIHV9KSxpLmQoZSxcIkJyb3dzZXJDb21wb25lbnRcIixmdW5jdGlvbigpe3JldHVybiBUbn0pLGkuZChlLFwiQnJvd3NlckV2ZW50c1wiLGZ1bmN0aW9uKCl7cmV0dXJuIE1ufSksaS5kKGUsXCJvYnNvbGV0ZVwiLGZ1bmN0aW9uKCl7cmV0dXJuIFh0fSksaS5kKGUsXCJEZXRlY3RvclwiLGZ1bmN0aW9uKCl7cmV0dXJuIHZpfSksaS5kKGUsXCJDdWxsaW5nQm94XCIsZnVuY3Rpb24oKXtyZXR1cm4gSWV9KSxpLmQoZSxcIkVhc2luZ0Z1bmN0aW9uc1wiLGZ1bmN0aW9uKCl7cmV0dXJuIERlfSksaS5kKGUsXCJMb2dMZXZlbFwiLGZ1bmN0aW9uKCl7cmV0dXJuIER0fSksaS5kKGUsXCJMb2dnZXJcIixmdW5jdGlvbigpe3JldHVybiBOdH0pLGkuZChlLFwiQ29uc29sZUFwcGVuZGVyXCIsZnVuY3Rpb24oKXtyZXR1cm4gcXR9KSxpLmQoZSxcIlNjcmVlbkFwcGVuZGVyXCIsZnVuY3Rpb24oKXtyZXR1cm4gR3R9KSxpLmQoZSxcIlNvcnRlZExpc3RcIixmdW5jdGlvbigpe3JldHVybiB4aX0pLGkuZChlLFwiQmluYXJ5VHJlZU5vZGVcIixmdW5jdGlvbigpe3JldHVybiBQaX0pLGkuZChlLFwiTW9ja2VkRWxlbWVudFwiLGZ1bmN0aW9uKCl7cmV0dXJuIFNpfSksaS5kKGUsXCJEZXByZWNhdGVkXCIsZnVuY3Rpb24oKXtyZXR1cm4gX299KTt2YXIgdm89XCIwLjIzLjBcIjtsKCl9XSl9KTsiLCJpbXBvcnQge0VuZ2luZX0gZnJvbSAnZXhjYWxpYnVyJztcblxuZXhwb3J0IGNsYXNzIEdhbWUgZXh0ZW5kcyBFbmdpbmUge1xuICBzdGF0aWMgd2lkdGggPSA4MDA7XG4gIHN0YXRpYyBoZWlnaHQgPSA2MDA7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoe1xuICAgICAgd2lkdGg6IEdhbWUud2lkdGgsXG4gICAgICBoZWlnaHQ6IEdhbWUuaGVpZ2h0XG4gICAgfSk7XG5cbiAgICB0aGlzLnNldEFudGlhbGlhc2luZyhmYWxzZSk7XG4gIH1cbn1cblxuLy8gU3RhcnQgdGhlIGVuZ2luZSB0byBiZWdpbiB0aGUgZ2FtZS5cbmNvbnN0IGdhbWUgPSBuZXcgR2FtZSgpO1xuZ2FtZS5zdGFydCgpO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==